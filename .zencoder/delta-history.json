{"snapshots":{"D:/flutter projects/ahlanfeekum/lib/core/constants/app_constants.dart":{"filePath":"D:/flutter projects/ahlanfeekum/lib/core/constants/app_constants.dart","baseContent":"class AppConstants {\n  static const String baseUrl = 'http://srv954186.hstgr.cloud:5000/api/mobile/';\n\n  // API Endpoints\n  static const String loginEndpoint = 'auth/abp-login-url';\n  static const String sendOtpEmailEndpoint =\n      'user-profiles/send-secret-key-email';\n  static const String sendOtpPhoneEndpoint =\n      'user-profiles/send-secret-key-phone';\n  static const String verifyOtpEndpoint = 'user-profiles/verify';\n  static const String passwordResetRequestEndpoint =\n      'user-profiles/password-reset-request';\n  static const String confirmPasswordResetEndpoint =\n      'user-profiles/confirm-password-reset';\n\n  // Registration & Lookups\n  static const String registerUserEndpoint = 'user-profiles/register-user';\n  static const String propertyTypesEndpoint = 'lookups/property-types';\n  static const String propertyFeaturesEndpoint = 'lookups/property-features';\n  static const String governatesEndpoint = 'lookups/governates';\n  \n  // Property Search\n  static const String propertySearchEndpoint = 'properties/search-property';\n\n  // Storage Keys\n  static const String accessTokenKey = 'access_token';\n  static const String refreshTokenKey = 'refresh_token';\n  static const String userDataKey = 'user_data';\n  static const String isLoggedInKey = 'is_logged_in';\n  static const String languageKey = 'language';\n\n  // Validation\n  static const int minPasswordLength = 6;\n  static const int otpLength = 4;\n  static const int otpResendTimeInSeconds = 60;\n\n  // Supported Languages\n  static const List<String> supportedLanguages = ['en', 'ar'];\n  static const String defaultLanguage = 'en';\n\n  // Google Sign In\n  static const String googleClientId =\n      'YOUR_GOOGLE_CLIENT_ID'; // Replace with actual client ID\n}\n","baseTimestamp":1758192334976,"deltas":[{"timestamp":1758193062922,"changes":[{"type":"DELETE","lineNumber":19,"oldContent":"  static const String governatesEndpoint = 'lookups/governates';"},{"type":"DELETE","lineNumber":20,"oldContent":"  "},{"type":"DELETE","lineNumber":21,"oldContent":"  // Property Search"},{"type":"DELETE","lineNumber":22,"oldContent":"  static const String propertySearchEndpoint = 'properties/search-property';"}]},{"timestamp":1758193197992,"changes":[{"type":"INSERT","lineNumber":19,"content":"  static const String governatesEndpoint = 'lookups/governates';"},{"type":"INSERT","lineNumber":20,"content":"  "},{"type":"INSERT","lineNumber":21,"content":"  // Search Endpoints"},{"type":"INSERT","lineNumber":22,"content":"  static const String propertySearchEndpoint = 'properties/search-property';"}]},{"timestamp":1758194224488,"changes":[{"type":"DELETE","lineNumber":20,"oldContent":""},{"type":"DELETE","lineNumber":22,"oldContent":"  // Storage Keys"},{"type":"DELETE","lineNumber":24,"oldContent":"  static const String accessTokenKey = 'access_token';"},{"type":"INSERT","lineNumber":23,"content":""},{"type":"INSERT","lineNumber":24,"content":"  // Storage Keys"},{"type":"INSERT","lineNumber":25,"content":"  static const String accessTokenKey = 'access_token';"}]},{"timestamp":1758195369620,"changes":[{"type":"DELETE","lineNumber":19,"oldContent":"  static const String governatesEndpoint = 'lookups/governates';"},{"type":"DELETE","lineNumber":20,"oldContent":"  "},{"type":"DELETE","lineNumber":22,"oldContent":"  // Search Endpoints"},{"type":"DELETE","lineNumber":25,"oldContent":"  static const String propertySearchEndpoint = 'properties/search-property';"}]},{"timestamp":1758195564741,"changes":[{"type":"INSERT","lineNumber":19,"content":"  static const String governoratesEndpoint = 'lookups/governates';"},{"type":"INSERT","lineNumber":20,"content":"  "},{"type":"INSERT","lineNumber":21,"content":"  // Search"},{"type":"INSERT","lineNumber":22,"content":"  static const String searchPropertiesEndpoint = 'properties/search-property';"}]},{"timestamp":1758196226864,"changes":[{"type":"DELETE","lineNumber":20,"oldContent":""},{"type":"DELETE","lineNumber":22,"oldContent":"  // Storage Keys"},{"type":"DELETE","lineNumber":24,"oldContent":"  static const String accessTokenKey = 'access_token';"},{"type":"INSERT","lineNumber":23,"content":""},{"type":"INSERT","lineNumber":24,"content":"  // Storage Keys"},{"type":"INSERT","lineNumber":25,"content":"  static const String accessTokenKey = 'access_token';"}]},{"timestamp":1758196485663,"changes":[{"type":"DELETE","lineNumber":19,"oldContent":"  static const String governoratesEndpoint = 'lookups/governates';"},{"type":"DELETE","lineNumber":20,"oldContent":"  "},{"type":"DELETE","lineNumber":22,"oldContent":"  // Search"},{"type":"DELETE","lineNumber":25,"oldContent":"  static const String searchPropertiesEndpoint = 'properties/search-property';"}]},{"timestamp":1758196875769,"changes":[{"type":"INSERT","lineNumber":19,"content":"  static const String governatesEndpoint = 'lookups/governates';"},{"type":"INSERT","lineNumber":20,"content":"  static const String searchPropertyEndpoint = 'properties/search-property';"}]},{"timestamp":1758197101023,"changes":[{"type":"DELETE","lineNumber":19,"oldContent":"  static const String governatesEndpoint = 'lookups/governates';"},{"type":"DELETE","lineNumber":21,"oldContent":"  static const String searchPropertyEndpoint = 'properties/search-property';"}]},{"timestamp":1758197221078,"changes":[{"type":"INSERT","lineNumber":19,"content":"  static const String governatesEndpoint = 'lookups/governates';"},{"type":"INSERT","lineNumber":20,"content":"  "},{"type":"INSERT","lineNumber":21,"content":"  // Search & Properties"},{"type":"INSERT","lineNumber":22,"content":"  static const String searchPropertyEndpoint = 'properties/search-property';"}]},{"timestamp":1758198161094,"changes":[{"type":"DELETE","lineNumber":20,"oldContent":""},{"type":"DELETE","lineNumber":22,"oldContent":"  // Storage Keys"},{"type":"DELETE","lineNumber":24,"oldContent":"  static const String accessTokenKey = 'access_token';"},{"type":"INSERT","lineNumber":23,"content":""},{"type":"INSERT","lineNumber":24,"content":"  // Storage Keys"},{"type":"INSERT","lineNumber":25,"content":"  static const String accessTokenKey = 'access_token';"}]}]},"D:/flutter projects/ahlanfeekum/lib/features/search/presentation/widgets/property_card.dart":{"filePath":"D:/flutter projects/ahlanfeekum/lib/features/search/presentation/widgets/property_card.dart","baseContent":"import 'package:flutter/material.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\nimport '../../../../theming/colors.dart';\nimport '../../../../theming/text_styles.dart';\nimport '../../data/models/property_search_response.dart';\n\nclass PropertyCard extends StatelessWidget {\n  final Property property;\n  final VoidCallback? onTap;\n\n  const PropertyCard({\n    super.key,\n    required this.property,\n    this.onTap,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    return Card(\n      margin: EdgeInsets.symmetric(horizontal: 16.w, vertical: 8.h),\n      elevation: 2,\n      shape: RoundedRectangleBorder(\n        borderRadius: BorderRadius.circular(12.r),\n      ),\n      child: InkWell(\n        onTap: onTap,\n        borderRadius: BorderRadius.circular(12.r),\n        child: Container(\n          padding: EdgeInsets.all(16.w),\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              // Property image placeholder\n              Container(\n                height: 180.h,\n                width: double.infinity,\n                decoration: BoxDecoration(\n                  borderRadius: BorderRadius.circular(8.r),\n                  color: AppColors.borderColor.withOpacity(0.3),),\n                child: property.images != null && property.images!.isNotEmpty\n                    ? ClipRRect(\n                        borderRadius: BorderRadius.circular(8.r),\n                        child: Image.network(\n                          property.images!.first,\n                          fit: BoxFit.cover,\n                          errorBuilder: (context, error, stackTrace) {\n                            return _buildImagePlaceholder();\n                          },\n                        ),\n                      )\n                    : _buildImagePlaceholder(),\n              ),\n              SizedBox(height: 12.h),\n              \n              // Property name\n              Text(\n                property.name ?? 'Unnamed Property',\n                style: AppTextStyles.h3.copyWith(\n                  color: AppColors.textPrimary,\n                  fontSize: 18.sp,\n                ),\n                maxLines: 2,\n                overflow: TextOverflow.ellipsis,\n              ),\n              SizedBox(height: 4.h),\n              \n              // Property type\n              if (property.propertyTypeName != null)\n                Container(\n                  padding: EdgeInsets.symmetric(horizontal: 8.w, vertical: 4.h),\n                  decoration: BoxDecoration(\n                    color: AppColors.primary.withOpacity(0.1),\n                    borderRadius: BorderRadius.circular(4.r),\n                  ),\n                  child: Text(\n                    property.propertyTypeName!,\n                    style: AppTextStyles.bodySmall.copyWith(\n                      color: AppColors.primary,\n                      fontWeight: FontWeight.w500,\n                    ),\n                  ),\n                ),\n              SizedBox(height: 8.h),\n              \n              // Address\n              if (property.address != null)\n                Row(\n                  children: [\n                    Icon(\n                      Icons.location_on_outlined,\n                      size: 16.sp,\n                      color: AppColors.textSecondary,\n                    ),\n                    SizedBox(width: 4.w),\n                    Expanded(\n                      child: Text(\n                        property.address!,\n                        style: AppTextStyles.bodySmall.copyWith(\n                          color: AppColors.textSecondary,\n                        ),\n                        maxLines: 1,\n                        overflow: TextOverflow.ellipsis,\n                      ),\n                    ),\n                  ],\n                ),\n              SizedBox(height: 8.h),\n              \n              // Property details\n              Row(\n                children: [\n                  if (property.bathrooms != null) ...[\n                    Icon(\n                      Icons.bathtub_outlined,\n                      size: 16.sp,\n                      color: AppColors.textSecondary,\n                    ),\n                    SizedBox(width: 4.w),\n                    Text(\n                      '${property.bathrooms} Bath',\n                      style: AppTextStyles.bodySmall.copyWith(\n                        color: AppColors.textSecondary,\n                      ),\n                    ),\n                    SizedBox(width: 16.w),\n                  ],\n                  if (property.livingrooms != null) ...[\n                    Icon(\n                      Icons.living_outlined,\n                      size: 16.sp,\n                      color: AppColors.textSecondary,\n                    ),\n                    SizedBox(width: 4.w),\n                    Text(\n                      '${property.livingrooms} Living',\n                      style: AppTextStyles.bodySmall.copyWith(\n                        color: AppColors.textSecondary,\n                      ),\n                    ),\n                  ],\n                ],\n              ),\n              SizedBox(height: 12.h),\n              \n              // Price and rating row\n              Row(\n                mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                children: [\n                  // Price\n                  if (property.pricePerNight != null)\n                    RichText(\n                      text: TextSpan(\n                        children: [\n                          TextSpan(\n                            text: '\\$${property.pricePerNight!.toStringAsFixed(0)}',\n                            style: AppTextStyles.h3.copyWith(\n                              color: AppColors.primary,\n                              fontSize: 20.sp,\n                            ),\n                          ),\n                          TextSpan(\n                            text: '/night',\n                            style: AppTextStyles.bodySmall.copyWith(\n                              color: AppColors.textSecondary,\n                            ),\n                          ),\n                        ],\n                      ),\n                    )\n                  else\n                    Text(\n                      'Price not available',\n                      style: AppTextStyles.bodySmall.copyWith(\n                        color: AppColors.textSecondary,\n                      ),\n                    ),\n                  \n                  // Rating\n                  if (property.rating != null)\n                    Row(\n                      children: [\n                        Icon(\n                          Icons.star,\n                          size: 16.sp,\n                          color: Colors.amber,\n                        ),\n                        SizedBox(width: 4.w),\n                        Text(\n                          property.rating!.toStringAsFixed(1),\n                          style: AppTextStyles.bodyMedium.copyWith(\n                            color: AppColors.textPrimary,\n                            fontWeight: FontWeight.w500,\n                          ),\n                        ),\n                      ],\n                    ),\n                ],\n              ),\n              \n              // Description\n              if (property.description != null && property.description!.isNotEmpty) ...[\n                SizedBox(height: 8.h),\n                Text(\n                  property.description!,\n                  style: AppTextStyles.bodySmall.copyWith(\n                    color: AppColors.textSecondary,\n                  ),\n                  maxLines: 2,\n                  overflow: TextOverflow.ellipsis,\n                ),\n              ],\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n\n  Widget _buildImagePlaceholder() {\n    return Container(\n      decoration: BoxDecoration(\n        color: AppColors.borderColor.withOpacity(0.3),\n        borderRadius: BorderRadius.circular(8.r),\n      ),\n      child: Center(\n        child: Icon(\n          Icons.home_outlined,\n          size: 48.sp,\n          color: AppColors.textSecondary,\n        ),\n      ),\n    );\n  }\n}\n","baseTimestamp":1758193594715,"deltas":[{"timestamp":1758194130615,"changes":[{"type":"MODIFY","lineNumber":38,"content":"                  color: AppColors.border.withOpacity(0.3),),","oldContent":"                  color: AppColors.borderColor.withOpacity(0.3),),"},{"type":"MODIFY","lineNumber":221,"content":"        color: AppColors.border.withOpacity(0.3),","oldContent":"        color: AppColors.borderColor.withOpacity(0.3),"}]},{"timestamp":1758194194081,"changes":[{"type":"MODIFY","lineNumber":38,"content":"                  color: AppColors.border.withValues(alpha: 0.3),),","oldContent":"                  color: AppColors.border.withOpacity(0.3),),"},{"type":"MODIFY","lineNumber":71,"content":"                    color: AppColors.primary.withValues(alpha: 0.1),","oldContent":"                    color: AppColors.primary.withOpacity(0.1),"},{"type":"MODIFY","lineNumber":221,"content":"        color: AppColors.border.withValues(alpha: 0.3),","oldContent":"        color: AppColors.border.withOpacity(0.3),"}]}]},"D:/flutter projects/ahlanfeekum/lib/features/search/presentation/widgets/search_filters_widget.dart":{"filePath":"D:/flutter projects/ahlanfeekum/lib/features/search/presentation/widgets/search_filters_widget.dart","baseContent":"import 'package:flutter/material.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\nimport '../../../../theming/colors.dart';\nimport '../../../../theming/text_styles.dart';\nimport '../../data/models/lookup_item.dart';\nimport '../../data/models/property_search_request.dart';\n\nclass SearchFiltersWidget extends StatefulWidget {\n  final List<LookupItem> propertyTypes;\n  final List<LookupItem> governates;\n  final PropertySearchRequest initialFilters;\n  final Function(PropertySearchRequest) onFiltersChanged;\n\n  const SearchFiltersWidget({\n    super.key,\n    required this.propertyTypes,\n    required this.governates,\n    required this.initialFilters,\n    required this.onFiltersChanged,\n  });\n\n  @override\n  State<SearchFiltersWidget> createState() => _SearchFiltersWidgetState();\n}\n\nclass _SearchFiltersWidgetState extends State<SearchFiltersWidget> {\n  late TextEditingController _searchController;\n  late TextEditingController _addressController;\n  late TextEditingController _hotelNameController;\n  late TextEditingController _minPriceController;\n  late TextEditingController _maxPriceController;\n  \n  String? _selectedPropertyType;\n  String? _selectedGovernate;\n  int? _bathroomsMin;\n  int? _bathroomsMax;\n  int? _livingroomsMin;\n  int? _livingroomsMax;\n\n  @override\n  void initState() {\n    super.initState();\n    _searchController = TextEditingController(text: widget.initialFilters.filterText ?? '');\n    _addressController = TextEditingController(text: widget.initialFilters.address ?? '');\n    _hotelNameController = TextEditingController(text: widget.initialFilters.hotelName ?? '');\n    _minPriceController = TextEditingController(\n      text: widget.initialFilters.pricePerNightMin?.toString() ?? '',\n    );\n    _maxPriceController = TextEditingController(\n      text: widget.initialFilters.pricePerNightMax?.toString() ?? '',\n    );\n    \n    _selectedPropertyType = widget.initialFilters.propertyTypeId;\n    _bathroomsMin = widget.initialFilters.bathroomsMin;\n    _bathroomsMax = widget.initialFilters.bathroomsMax;\n    _livingroomsMin = widget.initialFilters.livingroomsMin;\n    _livingroomsMax = widget.initialFilters.livingroomsMax;\n  }\n\n  @override\n  void dispose() {\n    _searchController.dispose();\n    _addressController.dispose();\n    _hotelNameController.dispose();\n    _minPriceController.dispose();\n    _maxPriceController.dispose();\n    super.dispose();\n  }\n\n  void _updateFilters() {\n    final filters = PropertySearchRequest(\n      filterText: _searchController.text.isEmpty ? null : _searchController.text,\n      propertyTypeId: _selectedPropertyType,\n      address: _addressController.text.isEmpty ? null : _addressController.text,\n      hotelName: _hotelNameController.text.isEmpty ? null : _hotelNameController.text,\n      pricePerNightMin: _minPriceController.text.isEmpty \n          ? null \n          : double.tryParse(_minPriceController.text),\n      pricePerNightMax: _maxPriceController.text.isEmpty \n          ? null \n          : double.tryParse(_maxPriceController.text),\n      bathroomsMin: _bathroomsMin,\n      bathroomsMax: _bathroomsMax,\n      livingroomsMin: _livingroomsMin,\n      livingroomsMax: _livingroomsMax,\n      checkInDate: widget.initialFilters.checkInDate,\n      checkOutDate: widget.initialFilters.checkOutDate,\n      isActive: widget.initialFilters.isActive,\n      skipCount: widget.initialFilters.skipCount,\n      maxResultCount: widget.initialFilters.maxResultCount,\n    );\n    \n    widget.onFiltersChanged(filters);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      padding: EdgeInsets.all(16.w),\n      decoration: BoxDecoration(\n        color: Colors.white,\n        borderRadius: BorderRadius.circular(12.r),\n        boxShadow: [\n          BoxShadow(\n            color: Colors.black.withOpacity(0.1),\n            blurRadius: 8,\n            offset: const Offset(0, 2),\n          ),\n        ],\n      ),\n      child: Column(\n        crossAxisAlignment: CrossAxisAlignment.start,\n        children: [\n          Text(\n            'Search Filters',\n            style: AppTextStyles.h3.copyWith(\n              color: AppColors.textPrimary,\n              fontSize: 18.sp,\n            ),\n          ),\n          SizedBox(height: 16.h),\n          \n          // Search text field\n          _buildTextField(\n            controller: _searchController,\n            label: 'Search',\n            hint: 'Enter search terms...',\n            onChanged: (_) => _updateFilters(),\n          ),\n          SizedBox(height: 12.h),\n          \n          // Property type dropdown\n          _buildDropdown(\n            label: 'Property Type',\n            value: _selectedPropertyType,\n            items: widget.propertyTypes,\n            onChanged: (value) {\n              setState(() {\n                _selectedPropertyType = value;\n              });\n              _updateFilters();\n            },\n          ),\n          SizedBox(height: 12.h),\n          \n          // Address field\n          _buildTextField(\n            controller: _addressController,\n            label: 'Address',\n            hint: 'Enter address...',\n            onChanged: (_) => _updateFilters(),\n          ),\n          SizedBox(height: 12.h),\n          \n          // Hotel name field\n          _buildTextField(\n            controller: _hotelNameController,\n            label: 'Hotel Name',\n            hint: 'Enter hotel name...',\n            onChanged: (_) => _updateFilters(),\n          ),\n          SizedBox(height: 12.h),\n          \n          // Price range\n          Row(\n            children: [\n              Expanded(\n                child: _buildTextField(\n                  controller: _minPriceController,\n                  label: 'Min Price',\n                  hint: '0',\n                  keyboardType: TextInputType.number,\n                  onChanged: (_) => _updateFilters(),\n                ),\n              ),\n              SizedBox(width: 12.w),\n              Expanded(\n                child: _buildTextField(\n                  controller: _maxPriceController,\n                  label: 'Max Price',\n                  hint: '1000',\n                  keyboardType: TextInputType.number,\n                  onChanged: (_) => _updateFilters(),\n                ),\n              ),\n            ],\n          ),\n          SizedBox(height: 12.h),\n          \n          // Bathrooms range\n          _buildRangeSelector(\n            label: 'Bathrooms',\n            min: _bathroomsMin,\n            max: _bathroomsMax,\n            onMinChanged: (value) {\n              setState(() {\n                _bathroomsMin = value;\n              });\n              _updateFilters();\n            },\n            onMaxChanged: (value) {\n              setState(() {\n                _bathroomsMax = value;\n              });\n              _updateFilters();\n            },\n          ),\n          SizedBox(height: 12.h),\n          \n          // Living rooms range\n          _buildRangeSelector(\n            label: 'Living Rooms',\n            min: _livingroomsMin,\n            max: _livingroomsMax,\n            onMinChanged: (value) {\n              setState(() {\n                _livingroomsMin = value;\n              });\n              _updateFilters();\n            },\n            onMaxChanged: (value) {\n              setState(() {\n                _livingroomsMax = value;\n              });\n              _updateFilters();\n            },\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildTextField({\n    required TextEditingController controller,\n    required String label,\n    required String hint,\n    TextInputType? keyboardType,\n    required Function(String) onChanged,\n  }) {\n    return Column(\n      crossAxisAlignment: CrossAxisAlignment.start,\n      children: [\n        Text(\n          label,\n          style: AppTextStyles.bodyMedium.copyWith(\n            color: AppColors.textPrimary,\n            fontWeight: FontWeight.w500,\n          ),\n        ),\n        SizedBox(height: 4.h),\n        TextField(\n          controller: controller,\n          keyboardType: keyboardType,\n          onChanged: onChanged,\n          decoration: InputDecoration(\n            hintText: hint,\n            hintStyle: AppTextStyles.bodySmall.copyWith(\n              color: AppColors.textSecondary,\n            ),\n            border: OutlineInputBorder(\n              borderRadius: BorderRadius.circular(8.r),\n              borderSide: BorderSide(color: AppColors.borderColor),\n            ),\n            enabledBorder: OutlineInputBorder(\n              borderRadius: BorderRadius.circular(8.r),\n              borderSide: BorderSide(color: AppColors.borderColor),\n            ),\n            focusedBorder: OutlineInputBorder(\n              borderRadius: BorderRadius.circular(8.r),\n              borderSide: BorderSide(color: AppColors.primary),\n            ),\n            contentPadding: EdgeInsets.symmetric(horizontal:12.w, vertical: 8.h),\n          ),\n        ),\n      ],\n    );\n  }\n\n  Widget _buildDropdown({\n    required String label,\n    required String? value,\n    required List<LookupItem> items,\n    required Function(String?) onChanged,\n  }) {\n    return Column(\n      crossAxisAlignment: CrossAxisAlignment.start,\n      children: [\n        Text(\n          label,\n          style: AppTextStyles.bodyMedium.copyWith(\n            color: AppColors.textPrimary,\n            fontWeight: FontWeight.w500,\n          ),\n        ),\n        SizedBox(height: 4.h),\n        DropdownButtonFormField<String>(\n          value: value,\n          onChanged: onChanged,\n          decoration: InputDecoration(\n            border: OutlineInputBorder(\n              borderRadius: BorderRadius.circular(8.r),\n              borderSide: BorderSide(color: AppColors.borderColor),\n            ),\n            enabledBorder: OutlineInputBorder(\n              borderRadius: BorderRadius.circular(8.r),\n              borderSide: BorderSide(color: AppColors.borderColor),\n            ),\n            focusedBorder: OutlineInputBorder(\n              borderRadius: BorderRadius.circular(8.r),\n              borderSide: BorderSide(color: AppColors.primary),\n            ),\n            contentPadding: EdgeInsets.symmetric(horizontal: 12.w, vertical: 8.h),\n          ),\n          items: [\n            const DropdownMenuItem<String>(\n              value: null,\n              child: Text('Select...'),\n            ),\n            ...items.map((item) => DropdownMenuItem<String>(\n              value: item.id,\n              child: Text(item.displayName),\n            )),\n          ],\n        ),\n      ],\n    );\n  }\n\n  Widget _buildRangeSelector({\n    required String label,\n    required int? min,\n    required int? max,\n    required Function(int?) onMinChanged,\n    required Function(int?) onMaxChanged,\n  }) {\n    return Column(\n      crossAxisAlignment: CrossAxisAlignment.start,\n      children: [\n        Text(\n          label,\n          style: AppTextStyles.bodyMedium.copyWith(\n            color: AppColors.textPrimary,\n            fontWeight: FontWeight.w500,\n          ),\n        ),\n        SizedBox(height: 4.h),\n        Row(\n          children: [\n            Expanded(\n              child: DropdownButtonFormField<int>(\n                value: min,\n                onChanged: onMinChanged,\n                decoration: InputDecoration(\n                  hintText: 'Min',\n                  border: OutlineInputBorder(\n                    borderRadius: BorderRadius.circular(8.r),\n                    borderSide: BorderSide(color: AppColors.borderColor),\n                  ),\n                  enabledBorder: OutlineInputBorder(\n                    borderRadius: BorderRadius.circular(8.r),\n                    borderSide: BorderSide(color: AppColors.borderColor),\n                  ),\n                  focusedBorder: OutlineInputBorder(\n                    borderRadius: BorderRadius.circular(8.r),\n                    borderSide: BorderSide(color: AppColors.primary),\n                  ),\n                  contentPadding: EdgeInsets.symmetric(horizontal: 12.w, vertical: 8.h),\n                ),\n                items: [\n                  const DropdownMenuItem<int>(\n                    value: null,\n                    child: Text('Any'),\n                  ),\n                  ...List.generate(10, (index) => DropdownMenuItem<int>(\n                    value: index + 1,\n                    child: Text((index + 1).toString()),\n                  )),\n                ],\n              ),\n            ),\n            SizedBox(width: 12.w),\n            Expanded(\n              child: DropdownButtonFormField<int>(\n                value: max,\n                onChanged: onMaxChanged,\n                decoration: InputDecoration(\n                  hintText: 'Max',\n                  border: OutlineInputBorder(\n                    borderRadius: BorderRadius.circular(8.r),\n                    borderSide: BorderSide(color: AppColors.borderColor),\n                  ),\n                  enabledBorder: OutlineInputBorder(\n                    borderRadius: BorderRadius.circular(8.r),\n                    borderSide: BorderSide(color: AppColors.borderColor),\n                  ),\n                  focusedBorder: OutlineInputBorder(\n                    borderRadius: BorderRadius.circular(8.r),\n                    borderSide: BorderSide(color: AppColors.primary),\n                  ),\n                  contentPadding: EdgeInsets.symmetric(horizontal: 12.w, vertical: 8.h),\n                ),\n                items: [\n                  const DropdownMenuItem<int>(\n                    value: null,\n                    child: Text('Any'),\n                  ),\n                  ...List.generate(10, (index) => DropdownMenuItem<int>(\n                    value: index + 1,\n                    child: Text((index + 1).toString()),\n                  )),\n                ],\n              ),\n            ),\n          ],\n        ),\n      ],\n    );\n  }\n}\n","baseTimestamp":1758193602836,"deltas":[{"timestamp":1758194130644,"changes":[{"type":"MODIFY","lineNumber":261,"content":"              borderSide: BorderSide(color: AppColors.border),","oldContent":"              borderSide: BorderSide(color: AppColors.borderColor),"},{"type":"MODIFY","lineNumber":265,"content":"              borderSide: BorderSide(color: AppColors.border),","oldContent":"              borderSide: BorderSide(color: AppColors.borderColor),"},{"type":"MODIFY","lineNumber":301,"content":"              borderSide: BorderSide(color: AppColors.border),","oldContent":"              borderSide: BorderSide(color: AppColors.borderColor),"},{"type":"MODIFY","lineNumber":305,"content":"              borderSide: BorderSide(color: AppColors.border),","oldContent":"              borderSide: BorderSide(color: AppColors.borderColor),"},{"type":"MODIFY","lineNumber":356,"content":"                    borderSide: BorderSide(color: AppColors.border),","oldContent":"                    borderSide: BorderSide(color: AppColors.borderColor),"},{"type":"MODIFY","lineNumber":360,"content":"                    borderSide: BorderSide(color: AppColors.border),","oldContent":"                    borderSide: BorderSide(color: AppColors.borderColor),"},{"type":"MODIFY","lineNumber":389,"content":"                    borderSide: BorderSide(color: AppColors.border),","oldContent":"                    borderSide: BorderSide(color: AppColors.borderColor),"},{"type":"MODIFY","lineNumber":393,"content":"                    borderSide: BorderSide(color: AppColors.border),","oldContent":"                    borderSide: BorderSide(color: AppColors.borderColor),"}]},{"timestamp":1758194143468,"changes":[{"type":"DELETE","lineNumber":33,"oldContent":"  String? _selectedGovernate;"}]},{"timestamp":1758194194121,"changes":[{"type":"MODIFY","lineNumber":103,"content":"            color: Colors.black.withValues(alpha: 0.1),","oldContent":"            color: Colors.black.withOpacity(0.1),"},{"type":"MODIFY","lineNumber":295,"content":"          initialValue: value,","oldContent":"          value: value,"}]},{"timestamp":1758194209313,"changes":[{"type":"MODIFY","lineNumber":349,"content":"                initialValue: min,","oldContent":"                value: min,"},{"type":"MODIFY","lineNumber":382,"content":"                initialValue: max,","oldContent":"                value: max,"}]}]},"D:/flutter projects/ahlanfeekum/lib/features/search/presentation/pages/search_screen.dart":{"filePath":"D:/flutter projects/ahlanfeekum/lib/features/search/presentation/pages/search_screen.dart","baseContent":"import 'package:flutter/material.dart';\nimport 'package:flutter_bloc/flutter_bloc.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\nimport '../../../../core/di/injection.dart';\nimport '../../../../theming/colors.dart';\nimport '../../../../theming/text_styles.dart';\nimport '../bloc/search_bloc.dart';\nimport '../bloc/search_event.dart';\nimport '../bloc/search_state.dart';\nimport '../widgets/search_filters_widget.dart';\nimport '../widgets/property_card.dart';\nimport '../../data/models/property_search_request.dart';\n\nclass SearchScreen extends StatelessWidget {\n  const SearchScreen({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return BlocProvider(\n      create: (context) => getIt<SearchBloc>()..add(const LoadLookupsEvent()),\n      child: const SearchScreenView(),\n    );\n  }\n}\n\nclass SearchScreenView extends StatefulWidget {\n  const SearchScreenView({super.key});\n\n  @override\n  State<SearchScreenView> createState() => _SearchScreenViewState();\n}\n\nclass _SearchScreenViewState extends State<SearchScreenView>\n    with TickerProviderStateMixin {\n  late TabController _tabController;\n  final ScrollController _scrollController = ScrollController();\n\n  @override\n  void initState() {\n    super.initState();\n    _tabController = TabController(length: 2, vsync: this);\n  }\n\n  @override\n  void dispose() {\n    _tabController.dispose();\n    _scrollController.dispose();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(\n          'Property Search',\n          style: AppTextStyles.h3.copyWith(color: AppColors.textPrimary),\n        ),\n        backgroundColor: Colors.white,\n        elevation: 0,\n        leading: IconButton(\n          icon: const Icon(Icons.arrow_back, color: Colors.black87),\n          onPressed: () => Navigator.of(context).pop(),\n        ),\n        bottom: TabBar(\n          controller: _tabController,\n          labelColor: AppColors.primary,\n          unselectedLabelColor: AppColors.textSecondary,\n          indicatorColor: AppColors.primary,\n          tabs: const [\n            Tab(text: 'Filters'),\n            Tab(text: 'Results'),\n          ],\n        ),\n      ),\n      body: BlocConsumer<SearchBloc, SearchState>(\n        listener: (context, state) {\n          if (state is SearchError) {\n            ScaffoldMessenger.of(context).showSnackBar(\n              SnackBar(\n                content: Text(state.message),\n                backgroundColor: Colors.red,\n              ),\n            );\n          }\n        },\n        builder: (context, state) {\n          if (state is SearchInitial || state is LookupsLoading) {\n            return const Center(\n              child: CircularProgressIndicator(),\n            );\n          }\n\n          if (state is LookupsLoaded || state is SearchSuccess || state is SearchError) {\n            final propertyTypes = _getPropertyTypes(state);\n            final propertyFeatures = _getPropertyFeatures(state);\n            final governates = _getGovernates(state);\n            final currentFilters = _getCurrentFilters(state);\n            \n            return TabBarView(\n              controller: _tabController,\n              children: [\n                // Filters tab\n                SingleChildScrollView(\n                  padding: EdgeInsets.all(16.w),\n                  child: Column(\n                    children: [\n                      SearchFiltersWidget(\n                        propertyTypes: propertyTypes,\n                        governates: governates,\n                        initialFilters: currentFilters,\n                        onFiltersChanged: (filters) {\n                          context.read<SearchBloc>().add(UpdateSearchFiltersEvent(filters));\n                        },\n                      ),\n                      SizedBox(height: 20.h),\n                      SizedBox(\n                        width: double.infinity,\n                        child: ElevatedButton(\n                          onPressed: () {\n                            context.read<SearchBloc>().add(SearchPropertiesEvent(currentFilters));\n                            _tabController.animateTo(1); // Switch to results tab\n                          },\n                          style: ElevatedButton.styleFrom(\n                            backgroundColor: AppColors.primary,\n                            foregroundColor: Colors.white,\n                            padding: EdgeInsets.symmetric(vertical: 16.h),\n                            shape: RoundedRectangleBorder(\n                              borderRadius: BorderRadius.circular(8.r),\n                            ),\n                          ),\n                          child: Text(\n                            'Search Properties',\n                            style: AppTextStyles.bodyLarge.copyWith(\n                              color: Colors.white,\n                              fontWeight: FontWeight.w600,\n                            ),\n                          ),\n                        ),\n                      ),\n                    ],\n                  ),\n                ),\n                \n                // Results tab\n                _buildResultsTab(state),\n              ],\n            );\n          }\n\n          return const Center(\n            child: Text('Something went wrong'),\n          );\n        },\n      ),\n    );\n  }\n\n  Widget _buildResultsTab(SearchState state) {\n    if (state is SearchLoading) {\n      return const Center(\n        child: CircularProgressIndicator(),\n      );\n    }\n\n    if (state is SearchSuccess) {\n      if (state.properties.isEmpty) {\n        return Center(\n          child: Column(\n            mainAxisAlignment: MainAxisAlignment.center,\n            children: [\n              Icon(\n                Icons.search_off,\n                size: 64.sp,\n                color: AppColors.textSecondary,\n              ),\n              SizedBox(height: 16.h),\n              Text(\n                'No properties found',\n                style: AppTextStyles.h3.copyWith(\n                  color: AppColors.textSecondary,\n                ),\n              ),\n              SizedBox(height: 8.h),\n              Text(\n                'Try adjusting your search filters',\n                style: AppTextStyles.bodyMedium.copyWith(\n                  color: AppColors.textSecondary,\n                ),\n              ),\n            ],\n          ),\n        );\n      }\n\n      return Column(\n        children: [\n          // Results count header\n          Container(\n            width: double.infinity,\n            padding: EdgeInsets.all(16.w),\n            color: AppColors.backgroundColor,\n            child: Text(\n              '${state.totalCount} properties found',\n              style: AppTextStyles.bodyMedium.copyWith(\n                color: AppColors.textPrimary,  fontWeight: FontWeight.w500,\n              ),\n            ),\n          ),\n          \n          // Properties list\n          Expanded(\n            child: ListView.builder(\n              controller: _scrollController,\n              itemCount: state.properties.length,\n              itemBuilder: (context, index) {\n                final property = state.properties[index];\n                return PropertyCard(\n                  property: property,\n                  onTap: () {\n                    // TODO: Navigate to property details\n                    ScaffoldMessenger.of(context).showSnackBar(\n                      SnackBar(\n                        content: Text('Property: ${property.name ?? 'Unnamed'}'),\n                      ),\n                    );\n                  },\n                );\n              },\n            ),\n          ),\n        ],\n      );\n    }\n\n    // Default state - show search prompt\n    return Center(\n      child: Column(\n        mainAxisAlignment: MainAxisAlignment.center,\n        children: [\n          Icon(\n            Icons.search,\n            size: 64.sp,\n            color: AppColors.textSecondary,\n          ),\n          SizedBox(height: 16.h),\n          Text(\n            'Search for Properties',\n            style: AppTextStyles.h3.copyWith(\n              color: AppColors.textSecondary,\n            ),\n          ),\n          SizedBox(height: 8.h),\n          Text(\n            'Use filters to find your perfect property',\n            style: AppTextStyles.bodyMedium.copyWith(\n              color: AppColors.textSecondary,\n            ),\n          ),\n          SizedBox(height: 24.h),\n          ElevatedButton(\n            onPressed: () {\n              _tabController.animateTo(0); // Switch to filters tab\n            },\n            style: ElevatedButton.styleFrom(\n              backgroundColor: AppColors.primary,\n              foregroundColor: Colors.white,\n              padding: EdgeInsets.symmetric(horizontal: 24.w, vertical: 12.h),\n              shape: RoundedRectangleBorder(\n                borderRadius: BorderRadius.circular(8.r),\n              ),\n            ),\n            child: Text(\n              'Set Filters',\n              style: AppTextStyles.bodyMedium.copyWith(\n                color: Colors.white,\n                fontWeight: FontWeight.w600,\n              ),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  List<LookupItem> _getPropertyTypes(SearchState state) {\n    if (state is LookupsLoaded) return state.propertyTypes;\n    if (state is SearchSuccess) return state.propertyTypes;\n    if (state is SearchError) return state.propertyTypes;\n    return [];\n  }\n\n  List<LookupItem> _getPropertyFeatures(SearchState state) {\n    if (state is LookupsLoaded) return state.propertyFeatures;\n    if (state is SearchSuccess) return state.propertyFeatures;\n    if (state is SearchError) return state.propertyFeatures;\n    return [];\n  }\n\n  List<LookupItem> _getGovernates(SearchState state) {\n    if (state is LookupsLoaded) return state.governates;\n    if (state is SearchSuccess) return state.governates;\n    if (state is SearchError) return state.governates;\n    return [];\n  }\n\n  PropertySearchRequest _getCurrentFilters(SearchState state) {\n    if (state is LookupsLoaded) return state.currentFilters;\n    if (state is SearchSuccess) return state.currentFilters;\n    if (state is SearchError) return state.currentFilters;\n    \n    return const PropertySearchRequest(\n      isActive: true,\n      skipCount: 0,\n      maxResultCount: 10,\n    );\n  }\n}\n","baseTimestamp":1758193613806,"deltas":[{"timestamp":1758194130561,"changes":[{"type":"INSERT","lineNumber":12,"content":"import '../../data/models/lookup_item.dart';"},{"type":"DELETE","lineNumber":95,"oldContent":"            final propertyFeatures = _getPropertyFeatures(state);"},{"type":"MODIFY","lineNumber":201,"content":"            color: AppColors.background,","oldContent":"            color: AppColors.backgroundColor,"}]},{"timestamp":1758194164011,"changes":[{"type":"DELETE","lineNumber":292,"oldContent":"  List<LookupItem> _getPropertyFeatures(SearchState state) {"},{"type":"DELETE","lineNumber":293,"oldContent":"    if (state is LookupsLoaded) return state.propertyFeatures;"},{"type":"DELETE","lineNumber":294,"oldContent":"    if (state is SearchSuccess) return state.propertyFeatures;"},{"type":"DELETE","lineNumber":295,"oldContent":"    if (state is SearchError) return state.propertyFeatures;"},{"type":"DELETE","lineNumber":296,"oldContent":"    return [];"},{"type":"DELETE","lineNumber":297,"oldContent":"  }"},{"type":"DELETE","lineNumber":298,"oldContent":""}]},{"timestamp":1758198559032,"changes":[{"type":"INSERT","lineNumber":0,"content":"import 'package:ahlanfeekum/features/search/presentation/pages/search_results_screen.dart';"},{"type":"DELETE","lineNumber":3,"oldContent":"import '../../../../core/di/injection.dart';"},{"type":"DELETE","lineNumber":9,"oldContent":"import '../widgets/search_filters_widget.dart';"},{"type":"DELETE","lineNumber":10,"oldContent":"import '../widgets/property_card.dart';"},{"type":"DELETE","lineNumber":11,"oldContent":"import '../../data/models/property_search_request.dart';"},{"type":"DELETE","lineNumber":12,"oldContent":"import '../../data/models/lookup_item.dart';"},{"type":"INSERT","lineNumber":9,"content":"import 'filter_screen.dart';"},{"type":"DELETE","lineNumber":14,"oldContent":"class SearchScreen extends StatelessWidget {"},{"type":"INSERT","lineNumber":11,"content":"class SearchScreen extends StatefulWidget {"},{"type":"DELETE","lineNumber":18,"oldContent":"  Widget build(BuildContext context) {"},{"type":"DELETE","lineNumber":19,"oldContent":"    return BlocProvider("},{"type":"DELETE","lineNumber":20,"oldContent":"      create: (context) => getIt<SearchBloc>()..add(const LoadLookupsEvent()),"},{"type":"DELETE","lineNumber":21,"oldContent":"      child: const SearchScreenView(),"},{"type":"DELETE","lineNumber":22,"oldContent":"    );"},{"type":"DELETE","lineNumber":23,"oldContent":"  }"},{"type":"INSERT","lineNumber":15,"content":"  State<SearchScreen> createState() => _SearchScreenState();"},{"type":"DELETE","lineNumber":26,"oldContent":"class SearchScreenView extends StatefulWidget {"},{"type":"DELETE","lineNumber":27,"oldContent":"  const SearchScreenView({super.key});"},{"type":"INSERT","lineNumber":18,"content":"class _SearchScreenState extends State<SearchScreen> {"},{"type":"INSERT","lineNumber":19,"content":"  final TextEditingController _locationController = TextEditingController();"},{"type":"INSERT","lineNumber":20,"content":"  final TextEditingController _guestsController = TextEditingController();"},{"type":"INSERT","lineNumber":21,"content":"  DateTime? _checkIn;"},{"type":"INSERT","lineNumber":22,"content":"  DateTime? _checkOut;"},{"type":"DELETE","lineNumber":30,"oldContent":"  State<SearchScreenView> createState() => _SearchScreenViewState();"},{"type":"DELETE","lineNumber":31,"oldContent":"}"},{"type":"DELETE","lineNumber":32,"oldContent":""},{"type":"DELETE","lineNumber":33,"oldContent":"class _SearchScreenViewState extends State<SearchScreenView>"},{"type":"DELETE","lineNumber":34,"oldContent":"    with TickerProviderStateMixin {"},{"type":"DELETE","lineNumber":35,"oldContent":"  late TabController _tabController;"},{"type":"DELETE","lineNumber":36,"oldContent":"  final ScrollController _scrollController = ScrollController();"},{"type":"DELETE","lineNumber":37,"oldContent":""},{"type":"DELETE","lineNumber":38,"oldContent":"  @override"},{"type":"DELETE","lineNumber":41,"oldContent":"    _tabController = TabController(length: 2, vsync: this);"},{"type":"INSERT","lineNumber":27,"content":"    context.read<SearchBloc>().add(const LoadLookupsEvent());"},{"type":"INSERT","lineNumber":28,"content":"    _guestsController.text = '2';"},{"type":"DELETE","lineNumber":46,"oldContent":"    _tabController.dispose();"},{"type":"DELETE","lineNumber":47,"oldContent":"    _scrollController.dispose();"},{"type":"INSERT","lineNumber":33,"content":"    _locationController.dispose();"},{"type":"INSERT","lineNumber":34,"content":"    _guestsController.dispose();"},{"type":"INSERT","lineNumber":41,"content":"      backgroundColor: Colors.white,"},{"type":"DELETE","lineNumber":55,"oldContent":"        title: Text("},{"type":"DELETE","lineNumber":56,"oldContent":"          'Property Search',"},{"type":"DELETE","lineNumber":57,"oldContent":"          style: AppTextStyles.h3.copyWith(color: AppColors.textPrimary),"},{"type":"DELETE","lineNumber":58,"oldContent":"        ),"},{"type":"DELETE","lineNumber":62,"oldContent":"          icon: const Icon(Icons.arrow_back, color: Colors.black87),"},{"type":"INSERT","lineNumber":46,"content":"          icon: Icon(Icons.arrow_back, color: Colors.black87, size: 24.sp),"},{"type":"DELETE","lineNumber":65,"oldContent":"        bottom: TabBar("},{"type":"DELETE","lineNumber":66,"oldContent":"          controller: _tabController,"},{"type":"DELETE","lineNumber":67,"oldContent":"          labelColor: AppColors.primary,"},{"type":"DELETE","lineNumber":68,"oldContent":"          unselectedLabelColor: AppColors.textSecondary,"},{"type":"DELETE","lineNumber":69,"oldContent":"          indicatorColor: AppColors.primary,"},{"type":"DELETE","lineNumber":70,"oldContent":"          tabs: const ["},{"type":"DELETE","lineNumber":71,"oldContent":"            Tab(text: 'Filters'),"},{"type":"DELETE","lineNumber":72,"oldContent":"            Tab(text: 'Results'),"},{"type":"DELETE","lineNumber":73,"oldContent":"          ],"},{"type":"INSERT","lineNumber":49,"content":"        title: Text("},{"type":"INSERT","lineNumber":50,"content":"          'Search',"},{"type":"INSERT","lineNumber":51,"content":"          style: AppTextStyles.h3.copyWith("},{"type":"INSERT","lineNumber":52,"content":"            color: AppColors.textPrimary,"},{"type":"INSERT","lineNumber":53,"content":"            fontSize: 18.sp,"},{"type":"INSERT","lineNumber":54,"content":"          ),"},{"type":"INSERT","lineNumber":56,"content":"        centerTitle: true,"},{"type":"DELETE","lineNumber":76,"oldContent":"      body: BlocConsumer<SearchBloc, SearchState>("},{"type":"DELETE","lineNumber":77,"oldContent":"        listener: (context, state) {"},{"type":"DELETE","lineNumber":78,"oldContent":"          if (state is SearchError) {"},{"type":"DELETE","lineNumber":79,"oldContent":"            ScaffoldMessenger.of(context).showSnackBar("},{"type":"DELETE","lineNumber":80,"oldContent":"              SnackBar("},{"type":"DELETE","lineNumber":81,"oldContent":"                content: Text(state.message),"},{"type":"DELETE","lineNumber":82,"oldContent":"                backgroundColor: Colors.red,"},{"type":"DELETE","lineNumber":83,"oldContent":"              ),"},{"type":"DELETE","lineNumber":84,"oldContent":"            );"},{"type":"DELETE","lineNumber":85,"oldContent":"          }"},{"type":"DELETE","lineNumber":86,"oldContent":"        },"},{"type":"INSERT","lineNumber":58,"content":"      body: BlocBuilder<SearchBloc, SearchState>("},{"type":"DELETE","lineNumber":88,"oldContent":"          if (state is SearchInitial || state is LookupsLoading) {"},{"type":"DELETE","lineNumber":89,"oldContent":"            return const Center("},{"type":"DELETE","lineNumber":90,"oldContent":"              child: CircularProgressIndicator(),"},{"type":"DELETE","lineNumber":91,"oldContent":"            );"},{"type":"DELETE","lineNumber":92,"oldContent":"          }"},{"type":"DELETE","lineNumber":93,"oldContent":""},{"type":"DELETE","lineNumber":94,"oldContent":"          if (state is LookupsLoaded || state is SearchSuccess || state is SearchError) {"},{"type":"DELETE","lineNumber":95,"oldContent":"            final propertyTypes = _getPropertyTypes(state);"},{"type":"DELETE","lineNumber":96,"oldContent":"            final governates = _getGovernates(state);"},{"type":"DELETE","lineNumber":97,"oldContent":"            final currentFilters = _getCurrentFilters(state);"},{"type":"DELETE","lineNumber":98,"oldContent":"            "},{"type":"DELETE","lineNumber":99,"oldContent":"            return TabBarView("},{"type":"DELETE","lineNumber":100,"oldContent":"              controller: _tabController,"},{"type":"INSERT","lineNumber":60,"content":"          return Padding("},{"type":"INSERT","lineNumber":61,"content":"            padding: EdgeInsets.all(16.w),"},{"type":"INSERT","lineNumber":62,"content":"            child: Column("},{"type":"DELETE","lineNumber":102,"oldContent":"                // Filters tab"},{"type":"DELETE","lineNumber":103,"oldContent":"                SingleChildScrollView("},{"type":"DELETE","lineNumber":104,"oldContent":"                  padding: EdgeInsets.all(16.w),"},{"type":"DELETE","lineNumber":105,"oldContent":"                  child: Column("},{"type":"DELETE","lineNumber":106,"oldContent":"                    children: ["},{"type":"DELETE","lineNumber":107,"oldContent":"                      SearchFiltersWidget("},{"type":"DELETE","lineNumber":108,"oldContent":"                        propertyTypes: propertyTypes,"},{"type":"DELETE","lineNumber":109,"oldContent":"                        governates: governates,"},{"type":"DELETE","lineNumber":110,"oldContent":"                        initialFilters: currentFilters,"},{"type":"DELETE","lineNumber":111,"oldContent":"                        onFiltersChanged: (filters) {"},{"type":"DELETE","lineNumber":112,"oldContent":"                          context.read<SearchBloc>().add(UpdateSearchFiltersEvent(filters));"},{"type":"DELETE","lineNumber":113,"oldContent":"                        },"},{"type":"DELETE","lineNumber":114,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":115,"oldContent":"                      SizedBox(height: 20.h),"},{"type":"DELETE","lineNumber":116,"oldContent":"                      SizedBox("},{"type":"DELETE","lineNumber":117,"oldContent":"                        width: double.infinity,"},{"type":"DELETE","lineNumber":118,"oldContent":"                        child: ElevatedButton("},{"type":"DELETE","lineNumber":119,"oldContent":"                          onPressed: () {"},{"type":"DELETE","lineNumber":120,"oldContent":"                            context.read<SearchBloc>().add(SearchPropertiesEvent(currentFilters));"},{"type":"DELETE","lineNumber":121,"oldContent":"                            _tabController.animateTo(1); // Switch to results tab"},{"type":"DELETE","lineNumber":122,"oldContent":"                          },"},{"type":"DELETE","lineNumber":123,"oldContent":"                          style: ElevatedButton.styleFrom("},{"type":"DELETE","lineNumber":124,"oldContent":"                            backgroundColor: AppColors.primary,"},{"type":"DELETE","lineNumber":125,"oldContent":"                            foregroundColor: Colors.white,"},{"type":"DELETE","lineNumber":126,"oldContent":"                            padding: EdgeInsets.symmetric(vertical: 16.h),"},{"type":"DELETE","lineNumber":127,"oldContent":"                            shape: RoundedRectangleBorder("},{"type":"DELETE","lineNumber":128,"oldContent":"                              borderRadius: BorderRadius.circular(8.r),"},{"type":"DELETE","lineNumber":129,"oldContent":"                            ),"},{"type":"DELETE","lineNumber":130,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":131,"oldContent":"                          child: Text("},{"type":"DELETE","lineNumber":132,"oldContent":"                            'Search Properties',"},{"type":"DELETE","lineNumber":133,"oldContent":"                            style: AppTextStyles.bodyLarge.copyWith("},{"type":"DELETE","lineNumber":134,"oldContent":"                              color: Colors.white,"},{"type":"DELETE","lineNumber":135,"oldContent":"                              fontWeight: FontWeight.w600,"},{"type":"DELETE","lineNumber":136,"oldContent":"                            ),"},{"type":"DELETE","lineNumber":137,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":138,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":139,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":140,"oldContent":"                    ],"},{"type":"DELETE","lineNumber":141,"oldContent":"                  ),"},{"type":"INSERT","lineNumber":64,"content":"                // Where To Field"},{"type":"INSERT","lineNumber":65,"content":"                _buildLocationField(),"},{"type":"INSERT","lineNumber":66,"content":"                "},{"type":"INSERT","lineNumber":67,"content":"                SizedBox(height: 16.h),"},{"type":"INSERT","lineNumber":68,"content":"                "},{"type":"INSERT","lineNumber":69,"content":"                // Check In & Check Out Row"},{"type":"INSERT","lineNumber":70,"content":"                Row("},{"type":"INSERT","lineNumber":71,"content":"                  children: ["},{"type":"INSERT","lineNumber":72,"content":"                    Expanded(child: _buildDateField('Check In', _checkIn, true)),"},{"type":"INSERT","lineNumber":73,"content":"                    SizedBox(width: 12.w),"},{"type":"INSERT","lineNumber":74,"content":"                    Expanded(child: _buildDateField('Check Out', _checkOut, false)),"},{"type":"INSERT","lineNumber":75,"content":"                  ],"},{"type":"DELETE","lineNumber":144,"oldContent":"                // Results tab"},{"type":"DELETE","lineNumber":145,"oldContent":"                _buildResultsTab(state),"},{"type":"INSERT","lineNumber":78,"content":"                SizedBox(height: 16.h),"},{"type":"INSERT","lineNumber":79,"content":"                "},{"type":"INSERT","lineNumber":80,"content":"                // Guests Field"},{"type":"INSERT","lineNumber":81,"content":"                _buildGuestsField(),"},{"type":"INSERT","lineNumber":82,"content":"                "},{"type":"INSERT","lineNumber":83,"content":"                SizedBox(height: 20.h),"},{"type":"INSERT","lineNumber":84,"content":"                "},{"type":"INSERT","lineNumber":85,"content":"                // Filter Button"},{"type":"INSERT","lineNumber":86,"content":"                _buildFilterButton(state),"},{"type":"INSERT","lineNumber":87,"content":"                "},{"type":"INSERT","lineNumber":88,"content":"                SizedBox(height: 24.h),"},{"type":"INSERT","lineNumber":89,"content":"                "},{"type":"INSERT","lineNumber":90,"content":"                // Recent Search Section"},{"type":"INSERT","lineNumber":91,"content":"                if (state is LookupsLoaded || state is SearchLoaded)"},{"type":"INSERT","lineNumber":92,"content":"                  _buildRecentSearches(state),"},{"type":"INSERT","lineNumber":93,"content":"                "},{"type":"INSERT","lineNumber":94,"content":"                const Spacer(),"},{"type":"INSERT","lineNumber":95,"content":"                "},{"type":"INSERT","lineNumber":96,"content":"                // Search Button"},{"type":"INSERT","lineNumber":97,"content":"                _buildSearchButton(),"},{"type":"DELETE","lineNumber":147,"oldContent":"            );"},{"type":"DELETE","lineNumber":148,"oldContent":"          }"},{"type":"DELETE","lineNumber":149,"oldContent":""},{"type":"DELETE","lineNumber":150,"oldContent":"          return const Center("},{"type":"DELETE","lineNumber":151,"oldContent":"            child: Text('Something went wrong'),"},{"type":"INSERT","lineNumber":99,"content":"            ),"},{"type":"DELETE","lineNumber":158,"oldContent":"  Widget _buildResultsTab(SearchState state) {"},{"type":"DELETE","lineNumber":159,"oldContent":"    if (state is SearchLoading) {"},{"type":"DELETE","lineNumber":160,"oldContent":"      return const Center("},{"type":"DELETE","lineNumber":161,"oldContent":"        child: CircularProgressIndicator(),"},{"type":"DELETE","lineNumber":162,"oldContent":"      );"},{"type":"DELETE","lineNumber":163,"oldContent":"    }"},{"type":"INSERT","lineNumber":106,"content":"  Widget _buildLocationField() {"},{"type":"INSERT","lineNumber":107,"content":"    return Container("},{"type":"INSERT","lineNumber":108,"content":"      decoration: BoxDecoration("},{"type":"INSERT","lineNumber":109,"content":"        color: Colors.grey[50],"},{"type":"INSERT","lineNumber":110,"content":"        borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":111,"content":"        border: Border.all(color: Colors.grey[300]!),"},{"type":"INSERT","lineNumber":112,"content":"      ),"},{"type":"INSERT","lineNumber":113,"content":"      child: TextFormField("},{"type":"INSERT","lineNumber":114,"content":"        controller: _locationController,"},{"type":"INSERT","lineNumber":115,"content":"        decoration: InputDecoration("},{"type":"INSERT","lineNumber":116,"content":"          hintText: 'Where To?',"},{"type":"INSERT","lineNumber":117,"content":"          hintStyle: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":118,"content":"            color: Colors.grey[500],"},{"type":"INSERT","lineNumber":119,"content":"            fontSize: 14.sp,"},{"type":"INSERT","lineNumber":120,"content":"          ),"},{"type":"INSERT","lineNumber":121,"content":"          prefixIcon: Icon("},{"type":"INSERT","lineNumber":122,"content":"            Icons.location_on_outlined,"},{"type":"INSERT","lineNumber":123,"content":"            color: AppColors.primary,"},{"type":"INSERT","lineNumber":124,"content":"            size: 20.sp,"},{"type":"INSERT","lineNumber":125,"content":"          ),"},{"type":"INSERT","lineNumber":126,"content":"          border: InputBorder.none,"},{"type":"INSERT","lineNumber":127,"content":"          contentPadding: EdgeInsets.symmetric(horizontal: 16.w, vertical: 16.h),"},{"type":"INSERT","lineNumber":128,"content":"        ),"},{"type":"INSERT","lineNumber":129,"content":"      ),"},{"type":"INSERT","lineNumber":130,"content":"    );"},{"type":"INSERT","lineNumber":131,"content":"  }"},{"type":"DELETE","lineNumber":165,"oldContent":"    if (state is SearchSuccess) {"},{"type":"DELETE","lineNumber":166,"oldContent":"      if (state.properties.isEmpty) {"},{"type":"DELETE","lineNumber":167,"oldContent":"        return Center("},{"type":"DELETE","lineNumber":168,"oldContent":"          child: Column("},{"type":"DELETE","lineNumber":169,"oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"DELETE","lineNumber":170,"oldContent":"            children: ["},{"type":"DELETE","lineNumber":171,"oldContent":"              Icon("},{"type":"DELETE","lineNumber":172,"oldContent":"                Icons.search_off,"},{"type":"DELETE","lineNumber":173,"oldContent":"                size: 64.sp,"},{"type":"DELETE","lineNumber":174,"oldContent":"                color: AppColors.textSecondary,"},{"type":"INSERT","lineNumber":133,"content":"  Widget _buildDateField(String label, DateTime? date, bool isCheckIn) {"},{"type":"INSERT","lineNumber":134,"content":"    return GestureDetector("},{"type":"INSERT","lineNumber":135,"content":"      onTap: () => _selectDate(isCheckIn),"},{"type":"INSERT","lineNumber":136,"content":"      child: Container("},{"type":"INSERT","lineNumber":137,"content":"        padding: EdgeInsets.symmetric(horizontal: 16.w, vertical: 16.h),"},{"type":"INSERT","lineNumber":138,"content":"        decoration: BoxDecoration("},{"type":"INSERT","lineNumber":139,"content":"          color: Colors.grey[50],"},{"type":"INSERT","lineNumber":140,"content":"          borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":141,"content":"          border: Border.all(color: Colors.grey[300]!),"},{"type":"INSERT","lineNumber":142,"content":"        ),"},{"type":"INSERT","lineNumber":143,"content":"        child: Row("},{"type":"INSERT","lineNumber":144,"content":"          children: ["},{"type":"INSERT","lineNumber":145,"content":"            Icon("},{"type":"INSERT","lineNumber":146,"content":"              Icons.calendar_today_outlined,"},{"type":"INSERT","lineNumber":147,"content":"              color: AppColors.primary,"},{"type":"INSERT","lineNumber":148,"content":"              size: 18.sp,"},{"type":"INSERT","lineNumber":149,"content":"            ),"},{"type":"INSERT","lineNumber":150,"content":"            SizedBox(width: 8.w),"},{"type":"INSERT","lineNumber":151,"content":"            Expanded("},{"type":"INSERT","lineNumber":152,"content":"              child: Column("},{"type":"INSERT","lineNumber":153,"content":"                crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":154,"content":"                children: ["},{"type":"INSERT","lineNumber":155,"content":"                  Text("},{"type":"INSERT","lineNumber":156,"content":"                    label,"},{"type":"INSERT","lineNumber":157,"content":"                    style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":158,"content":"                      color: Colors.grey[600],"},{"type":"INSERT","lineNumber":159,"content":"                      fontSize: 12.sp,"},{"type":"INSERT","lineNumber":160,"content":"                    ),"},{"type":"INSERT","lineNumber":161,"content":"                  ),"},{"type":"INSERT","lineNumber":162,"content":"                  Text("},{"type":"INSERT","lineNumber":163,"content":"                    date != null "},{"type":"INSERT","lineNumber":164,"content":"                        ? '${date.day}/${date.month}/${date.year}'"},{"type":"INSERT","lineNumber":165,"content":"                        : '1/Sep/2024',"},{"type":"INSERT","lineNumber":166,"content":"                    style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":167,"content":"                      color: Colors.grey[500],"},{"type":"INSERT","lineNumber":168,"content":"                      fontSize: 14.sp,"},{"type":"INSERT","lineNumber":169,"content":"                    ),"},{"type":"INSERT","lineNumber":170,"content":"                  ),"},{"type":"INSERT","lineNumber":171,"content":"                ],"},{"type":"DELETE","lineNumber":176,"oldContent":"              SizedBox(height: 16.h),"},{"type":"DELETE","lineNumber":177,"oldContent":"              Text("},{"type":"DELETE","lineNumber":178,"oldContent":"                'No properties found',"},{"type":"DELETE","lineNumber":179,"oldContent":"                style: AppTextStyles.h3.copyWith("},{"type":"DELETE","lineNumber":180,"oldContent":"                  color: AppColors.textSecondary,"},{"type":"INSERT","lineNumber":173,"content":"            ),"},{"type":"INSERT","lineNumber":174,"content":"          ],"},{"type":"INSERT","lineNumber":175,"content":"        ),"},{"type":"INSERT","lineNumber":176,"content":"      ),"},{"type":"INSERT","lineNumber":177,"content":"    );"},{"type":"INSERT","lineNumber":178,"content":"  }"},{"type":"INSERT","lineNumber":179,"content":""},{"type":"INSERT","lineNumber":180,"content":"  Widget _buildGuestsField() {"},{"type":"INSERT","lineNumber":181,"content":"    return Container("},{"type":"INSERT","lineNumber":182,"content":"      decoration: BoxDecoration("},{"type":"INSERT","lineNumber":183,"content":"        color: Colors.grey[50],"},{"type":"INSERT","lineNumber":184,"content":"        borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":185,"content":"        border: Border.all(color: Colors.grey[300]!),"},{"type":"INSERT","lineNumber":186,"content":"      ),"},{"type":"INSERT","lineNumber":187,"content":"      child: TextFormField("},{"type":"INSERT","lineNumber":188,"content":"        controller: _guestsController,"},{"type":"INSERT","lineNumber":189,"content":"        keyboardType: TextInputType.number,"},{"type":"INSERT","lineNumber":190,"content":"        decoration: InputDecoration("},{"type":"INSERT","lineNumber":191,"content":"          hintText: 'Guests',"},{"type":"INSERT","lineNumber":192,"content":"          hintStyle: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":193,"content":"            color: Colors.grey[500],"},{"type":"INSERT","lineNumber":194,"content":"            fontSize: 14.sp,"},{"type":"INSERT","lineNumber":195,"content":"          ),"},{"type":"INSERT","lineNumber":196,"content":"          prefixIcon: Icon("},{"type":"INSERT","lineNumber":197,"content":"            Icons.person_outline,"},{"type":"INSERT","lineNumber":198,"content":"            color: AppColors.primary,"},{"type":"INSERT","lineNumber":199,"content":"            size: 20.sp,"},{"type":"INSERT","lineNumber":200,"content":"          ),"},{"type":"INSERT","lineNumber":201,"content":"          border: InputBorder.none,"},{"type":"INSERT","lineNumber":202,"content":"          contentPadding: EdgeInsets.symmetric(horizontal: 16.w, vertical: 16.h),"},{"type":"INSERT","lineNumber":203,"content":"        ),"},{"type":"INSERT","lineNumber":204,"content":"      ),"},{"type":"INSERT","lineNumber":205,"content":"    );"},{"type":"INSERT","lineNumber":206,"content":"  }"},{"type":"INSERT","lineNumber":207,"content":""},{"type":"INSERT","lineNumber":208,"content":"  Widget _buildFilterButton(SearchState state) {"},{"type":"INSERT","lineNumber":209,"content":"    return Align("},{"type":"INSERT","lineNumber":210,"content":"      alignment: Alignment.centerRight,"},{"type":"INSERT","lineNumber":211,"content":"      child: TextButton.icon("},{"type":"INSERT","lineNumber":212,"content":"        onPressed: () async {"},{"type":"INSERT","lineNumber":213,"content":"          if (state is LookupsLoaded || state is SearchLoaded) {"},{"type":"INSERT","lineNumber":214,"content":"            await Navigator.of(context).push("},{"type":"INSERT","lineNumber":215,"content":"              MaterialPageRoute("},{"type":"INSERT","lineNumber":216,"content":"                builder: (context) => BlocProvider.value("},{"type":"INSERT","lineNumber":217,"content":"                  value: context.read<SearchBloc>(),"},{"type":"INSERT","lineNumber":218,"content":"                  child: const FilterScreen(),"},{"type":"DELETE","lineNumber":183,"oldContent":"              SizedBox(height: 8.h),"},{"type":"DELETE","lineNumber":184,"oldContent":"              Text("},{"type":"DELETE","lineNumber":185,"oldContent":"                'Try adjusting your search filters',"},{"type":"DELETE","lineNumber":186,"oldContent":"                style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":187,"oldContent":"                  color: AppColors.textSecondary,"},{"type":"DELETE","lineNumber":188,"oldContent":"                ),"},{"type":"DELETE","lineNumber":189,"oldContent":"              ),"},{"type":"DELETE","lineNumber":190,"oldContent":"            ],"},{"type":"INSERT","lineNumber":221,"content":"            );"},{"type":"INSERT","lineNumber":222,"content":"          }"},{"type":"INSERT","lineNumber":223,"content":"        },"},{"type":"INSERT","lineNumber":224,"content":"        icon: Icon("},{"type":"INSERT","lineNumber":225,"content":"          Icons.tune,"},{"type":"INSERT","lineNumber":226,"content":"          color: AppColors.primary,"},{"type":"INSERT","lineNumber":227,"content":"          size: 18.sp,"},{"type":"INSERT","lineNumber":228,"content":"        ),"},{"type":"INSERT","lineNumber":229,"content":"        label: Text("},{"type":"INSERT","lineNumber":230,"content":"          'Filter',"},{"type":"INSERT","lineNumber":231,"content":"          style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":232,"content":"            color: AppColors.primary,"},{"type":"INSERT","lineNumber":233,"content":"            fontSize: 14.sp,"},{"type":"DELETE","lineNumber":192,"oldContent":"        );"},{"type":"DELETE","lineNumber":193,"oldContent":"      }"},{"type":"INSERT","lineNumber":235,"content":"        ),"},{"type":"INSERT","lineNumber":236,"content":"      ),"},{"type":"INSERT","lineNumber":237,"content":"    );"},{"type":"INSERT","lineNumber":238,"content":"  }"},{"type":"DELETE","lineNumber":195,"oldContent":"      return Column("},{"type":"INSERT","lineNumber":240,"content":"  Widget _buildRecentSearches(SearchState state) {"},{"type":"INSERT","lineNumber":241,"content":"    List<RecentSearch> recentSearches = [];"},{"type":"INSERT","lineNumber":242,"content":"    if (state is LookupsLoaded) {"},{"type":"INSERT","lineNumber":243,"content":"      recentSearches = state.recentSearches;"},{"type":"INSERT","lineNumber":244,"content":"    } else if (state is SearchLoaded) {"},{"type":"INSERT","lineNumber":245,"content":"      recentSearches = state.recentSearches;"},{"type":"INSERT","lineNumber":246,"content":"    }"},{"type":"INSERT","lineNumber":247,"content":""},{"type":"INSERT","lineNumber":248,"content":"    if (recentSearches.isEmpty) {"},{"type":"INSERT","lineNumber":249,"content":"      return const SizedBox.shrink();"},{"type":"INSERT","lineNumber":250,"content":"    }"},{"type":"INSERT","lineNumber":251,"content":""},{"type":"INSERT","lineNumber":252,"content":"    return Expanded("},{"type":"INSERT","lineNumber":253,"content":"      child: Column("},{"type":"INSERT","lineNumber":254,"content":"        crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":197,"oldContent":"          // Results count header"},{"type":"DELETE","lineNumber":198,"oldContent":"          Container("},{"type":"DELETE","lineNumber":199,"oldContent":"            width: double.infinity,"},{"type":"DELETE","lineNumber":200,"oldContent":"            padding: EdgeInsets.all(16.w),"},{"type":"DELETE","lineNumber":201,"oldContent":"            color: AppColors.background,"},{"type":"DELETE","lineNumber":202,"oldContent":"            child: Text("},{"type":"DELETE","lineNumber":203,"oldContent":"              '${state.totalCount} properties found',"},{"type":"DELETE","lineNumber":204,"oldContent":"              style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":205,"oldContent":"                color: AppColors.textPrimary,  fontWeight: FontWeight.w500,"},{"type":"DELETE","lineNumber":206,"oldContent":"              ),"},{"type":"INSERT","lineNumber":256,"content":"          Text("},{"type":"INSERT","lineNumber":257,"content":"            'Recent Search',"},{"type":"INSERT","lineNumber":258,"content":"            style: AppTextStyles.h4.copyWith("},{"type":"INSERT","lineNumber":259,"content":"              color: AppColors.textPrimary,"},{"type":"INSERT","lineNumber":260,"content":"              fontSize: 16.sp,"},{"type":"DELETE","lineNumber":209,"oldContent":"          "},{"type":"DELETE","lineNumber":210,"oldContent":"          // Properties list"},{"type":"INSERT","lineNumber":263,"content":"          SizedBox(height: 12.h),"},{"type":"DELETE","lineNumber":213,"oldContent":"              controller: _scrollController,"},{"type":"DELETE","lineNumber":214,"oldContent":"              itemCount: state.properties.length,"},{"type":"INSERT","lineNumber":266,"content":"              itemCount: recentSearches.length,"},{"type":"DELETE","lineNumber":216,"oldContent":"                final property = state.properties[index];"},{"type":"DELETE","lineNumber":217,"oldContent":"                return PropertyCard("},{"type":"DELETE","lineNumber":218,"oldContent":"                  property: property,"},{"type":"DELETE","lineNumber":219,"oldContent":"                  onTap: () {"},{"type":"DELETE","lineNumber":220,"oldContent":"                    // TODO: Navigate to property details"},{"type":"DELETE","lineNumber":221,"oldContent":"                    ScaffoldMessenger.of(context).showSnackBar("},{"type":"DELETE","lineNumber":222,"oldContent":"                      SnackBar("},{"type":"DELETE","lineNumber":223,"oldContent":"                        content: Text('Property: ${property.name ?? 'Unnamed'}'),"},{"type":"INSERT","lineNumber":268,"content":"                final search = recentSearches[index];"},{"type":"INSERT","lineNumber":269,"content":"                return Container("},{"type":"INSERT","lineNumber":270,"content":"                  margin: EdgeInsets.only(bottom: 8.h),"},{"type":"INSERT","lineNumber":271,"content":"                  padding: EdgeInsets.symmetric(horizontal: 16.w, vertical: 12.h),"},{"type":"INSERT","lineNumber":272,"content":"                  decoration: BoxDecoration("},{"type":"INSERT","lineNumber":273,"content":"                    color: Colors.grey[50],"},{"type":"INSERT","lineNumber":274,"content":"                    borderRadius: BorderRadius.circular(8.r),"},{"type":"INSERT","lineNumber":275,"content":"                  ),"},{"type":"INSERT","lineNumber":276,"content":"                  child: Row("},{"type":"INSERT","lineNumber":277,"content":"                    children: ["},{"type":"INSERT","lineNumber":278,"content":"                      Icon("},{"type":"INSERT","lineNumber":279,"content":"                        Icons.history,"},{"type":"INSERT","lineNumber":280,"content":"                        color: Colors.grey[600],"},{"type":"INSERT","lineNumber":281,"content":"                        size: 18.sp,"},{"type":"DELETE","lineNumber":225,"oldContent":"                    );"},{"type":"DELETE","lineNumber":226,"oldContent":"                  },"},{"type":"INSERT","lineNumber":283,"content":"                      SizedBox(width: 12.w),"},{"type":"INSERT","lineNumber":284,"content":"                      Expanded("},{"type":"INSERT","lineNumber":285,"content":"                        child: Text("},{"type":"INSERT","lineNumber":286,"content":"                          search.displayText,"},{"type":"INSERT","lineNumber":287,"content":"                          style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":288,"content":"                            color: AppColors.textPrimary,"},{"type":"INSERT","lineNumber":289,"content":"                            fontSize: 14.sp,"},{"type":"INSERT","lineNumber":290,"content":"                          ),"},{"type":"INSERT","lineNumber":291,"content":"                        ),"},{"type":"INSERT","lineNumber":292,"content":"                      ),"},{"type":"INSERT","lineNumber":293,"content":"                      IconButton("},{"type":"INSERT","lineNumber":294,"content":"                        onPressed: () {"},{"type":"INSERT","lineNumber":295,"content":"                          // Remove recent search"},{"type":"INSERT","lineNumber":296,"content":"                        },"},{"type":"INSERT","lineNumber":297,"content":"                        icon: Icon("},{"type":"INSERT","lineNumber":298,"content":"                          Icons.close,"},{"type":"INSERT","lineNumber":299,"content":"                          color: Colors.red[400],"},{"type":"INSERT","lineNumber":300,"content":"                          size: 18.sp,"},{"type":"INSERT","lineNumber":301,"content":"                        ),"},{"type":"INSERT","lineNumber":302,"content":"                      ),"},{"type":"INSERT","lineNumber":303,"content":"                    ],"},{"type":"INSERT","lineNumber":304,"content":"                  ),"},{"type":"DELETE","lineNumber":232,"oldContent":"      );"},{"type":"DELETE","lineNumber":233,"oldContent":"    }"},{"type":"INSERT","lineNumber":310,"content":"      ),"},{"type":"INSERT","lineNumber":311,"content":"    );"},{"type":"INSERT","lineNumber":312,"content":"  }"},{"type":"DELETE","lineNumber":235,"oldContent":"    // Default state - show search prompt"},{"type":"DELETE","lineNumber":236,"oldContent":"    return Center("},{"type":"DELETE","lineNumber":237,"oldContent":"      child: Column("},{"type":"DELETE","lineNumber":238,"oldContent":"        mainAxisAlignment: MainAxisAlignment.center,"},{"type":"DELETE","lineNumber":239,"oldContent":"        children: ["},{"type":"DELETE","lineNumber":240,"oldContent":"          Icon("},{"type":"DELETE","lineNumber":241,"oldContent":"            Icons.search,"},{"type":"DELETE","lineNumber":242,"oldContent":"            size: 64.sp,"},{"type":"DELETE","lineNumber":243,"oldContent":"            color: AppColors.textSecondary,"},{"type":"INSERT","lineNumber":314,"content":"  Widget _buildSearchButton() {"},{"type":"INSERT","lineNumber":315,"content":"    return SizedBox("},{"type":"INSERT","lineNumber":316,"content":"      width: double.infinity,"},{"type":"INSERT","lineNumber":317,"content":"      height: 50.h,"},{"type":"INSERT","lineNumber":318,"content":"      child: ElevatedButton("},{"type":"INSERT","lineNumber":319,"content":"        onPressed: _performSearch,"},{"type":"INSERT","lineNumber":320,"content":"        style: ElevatedButton.styleFrom("},{"type":"INSERT","lineNumber":321,"content":"          backgroundColor: AppColors.primary,"},{"type":"INSERT","lineNumber":322,"content":"          shape: RoundedRectangleBorder("},{"type":"INSERT","lineNumber":323,"content":"            borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":245,"oldContent":"          SizedBox(height: 16.h),"},{"type":"DELETE","lineNumber":246,"oldContent":"          Text("},{"type":"DELETE","lineNumber":247,"oldContent":"            'Search for Properties',"},{"type":"DELETE","lineNumber":248,"oldContent":"            style: AppTextStyles.h3.copyWith("},{"type":"DELETE","lineNumber":249,"oldContent":"              color: AppColors.textSecondary,"},{"type":"INSERT","lineNumber":325,"content":"        ),"},{"type":"INSERT","lineNumber":326,"content":"        child: Row("},{"type":"INSERT","lineNumber":327,"content":"          mainAxisAlignment: MainAxisAlignment.center,"},{"type":"INSERT","lineNumber":328,"content":"          children: ["},{"type":"INSERT","lineNumber":329,"content":"            Icon("},{"type":"INSERT","lineNumber":330,"content":"              Icons.search,"},{"type":"INSERT","lineNumber":331,"content":"              color: Colors.white,"},{"type":"INSERT","lineNumber":332,"content":"              size: 20.sp,"},{"type":"DELETE","lineNumber":251,"oldContent":"          ),"},{"type":"DELETE","lineNumber":252,"oldContent":"          SizedBox(height: 8.h),"},{"type":"DELETE","lineNumber":253,"oldContent":"          Text("},{"type":"DELETE","lineNumber":254,"oldContent":"            'Use filters to find your perfect property',"},{"type":"DELETE","lineNumber":255,"oldContent":"            style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":256,"oldContent":"              color: AppColors.textSecondary,"},{"type":"DELETE","lineNumber":257,"oldContent":"            ),"},{"type":"DELETE","lineNumber":258,"oldContent":"          ),"},{"type":"DELETE","lineNumber":259,"oldContent":"          SizedBox(height: 24.h),"},{"type":"DELETE","lineNumber":260,"oldContent":"          ElevatedButton("},{"type":"DELETE","lineNumber":261,"oldContent":"            onPressed: () {"},{"type":"DELETE","lineNumber":262,"oldContent":"              _tabController.animateTo(0); // Switch to filters tab"},{"type":"DELETE","lineNumber":263,"oldContent":"            },"},{"type":"DELETE","lineNumber":264,"oldContent":"            style: ElevatedButton.styleFrom("},{"type":"DELETE","lineNumber":265,"oldContent":"              backgroundColor: AppColors.primary,"},{"type":"DELETE","lineNumber":266,"oldContent":"              foregroundColor: Colors.white,"},{"type":"DELETE","lineNumber":267,"oldContent":"              padding: EdgeInsets.symmetric(horizontal: 24.w, vertical: 12.h),"},{"type":"DELETE","lineNumber":268,"oldContent":"              shape: RoundedRectangleBorder("},{"type":"DELETE","lineNumber":269,"oldContent":"                borderRadius: BorderRadius.circular(8.r),"},{"type":"DELETE","lineNumber":270,"oldContent":"              ),"},{"type":"DELETE","lineNumber":271,"oldContent":"            ),"},{"type":"DELETE","lineNumber":272,"oldContent":"            child: Text("},{"type":"DELETE","lineNumber":273,"oldContent":"              'Set Filters',"},{"type":"DELETE","lineNumber":274,"oldContent":"              style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":334,"content":"            SizedBox(width: 8.w),"},{"type":"INSERT","lineNumber":335,"content":"            Text("},{"type":"INSERT","lineNumber":336,"content":"              'Search',"},{"type":"INSERT","lineNumber":337,"content":"              style: AppTextStyles.h4.copyWith("},{"type":"DELETE","lineNumber":276,"oldContent":"                fontWeight: FontWeight.w600,"},{"type":"INSERT","lineNumber":339,"content":"                fontSize: 16.sp,"},{"type":"DELETE","lineNumber":279,"oldContent":"          ),"},{"type":"DELETE","lineNumber":280,"oldContent":"        ],"},{"type":"INSERT","lineNumber":342,"content":"          ],"},{"type":"INSERT","lineNumber":343,"content":"        ),"},{"type":"DELETE","lineNumber":285,"oldContent":"  List<LookupItem> _getPropertyTypes(SearchState state) {"},{"type":"DELETE","lineNumber":286,"oldContent":"    if (state is LookupsLoaded) return state.propertyTypes;"},{"type":"DELETE","lineNumber":287,"oldContent":"    if (state is SearchSuccess) return state.propertyTypes;"},{"type":"DELETE","lineNumber":288,"oldContent":"    if (state is SearchError) return state.propertyTypes;"},{"type":"DELETE","lineNumber":289,"oldContent":"    return [];"},{"type":"INSERT","lineNumber":348,"content":"  Future<void> _selectDate(bool isCheckIn) async {"},{"type":"INSERT","lineNumber":349,"content":"    final DateTime? picked = await showDatePicker("},{"type":"INSERT","lineNumber":350,"content":"      context: context,"},{"type":"INSERT","lineNumber":351,"content":"      initialDate: DateTime.now(),"},{"type":"INSERT","lineNumber":352,"content":"      firstDate: DateTime.now(),"},{"type":"INSERT","lineNumber":353,"content":"      lastDate: DateTime.now().add(const Duration(days: 365)),"},{"type":"INSERT","lineNumber":354,"content":"    );"},{"type":"INSERT","lineNumber":355,"content":"    "},{"type":"INSERT","lineNumber":356,"content":"    if (picked != null) {"},{"type":"INSERT","lineNumber":357,"content":"      setState(() {"},{"type":"INSERT","lineNumber":358,"content":"        if (isCheckIn) {"},{"type":"INSERT","lineNumber":359,"content":"          _checkIn = picked;"},{"type":"INSERT","lineNumber":360,"content":"        } else {"},{"type":"INSERT","lineNumber":361,"content":"          _checkOut = picked;"},{"type":"INSERT","lineNumber":362,"content":"        }"},{"type":"INSERT","lineNumber":363,"content":"      });"},{"type":"INSERT","lineNumber":364,"content":"    }"},{"type":"DELETE","lineNumber":292,"oldContent":"  List<LookupItem> _getGovernates(SearchState state) {"},{"type":"DELETE","lineNumber":293,"oldContent":"    if (state is LookupsLoaded) return state.governates;"},{"type":"DELETE","lineNumber":294,"oldContent":"    if (state is SearchSuccess) return state.governates;"},{"type":"DELETE","lineNumber":295,"oldContent":"    if (state is SearchError) return state.governates;"},{"type":"DELETE","lineNumber":296,"oldContent":"    return [];"},{"type":"DELETE","lineNumber":297,"oldContent":"  }"},{"type":"INSERT","lineNumber":367,"content":"  void _performSearch() {"},{"type":"INSERT","lineNumber":368,"content":"    if (_locationController.text.trim().isEmpty) {"},{"type":"INSERT","lineNumber":369,"content":"      ScaffoldMessenger.of(context).showSnackBar("},{"type":"INSERT","lineNumber":370,"content":"        const SnackBar(content: Text('Please enter a location')),"},{"type":"INSERT","lineNumber":371,"content":"      );"},{"type":"INSERT","lineNumber":372,"content":"      return;"},{"type":"INSERT","lineNumber":373,"content":"    }"},{"type":"DELETE","lineNumber":299,"oldContent":"  PropertySearchRequest _getCurrentFilters(SearchState state) {"},{"type":"DELETE","lineNumber":300,"oldContent":"    if (state is LookupsLoaded) return state.currentFilters;"},{"type":"DELETE","lineNumber":301,"oldContent":"    if (state is SearchSuccess) return state.currentFilters;"},{"type":"DELETE","lineNumber":302,"oldContent":"    if (state is SearchError) return state.currentFilters;"},{"type":"INSERT","lineNumber":375,"content":"    // Save recent search"},{"type":"INSERT","lineNumber":376,"content":"    context.read<SearchBloc>().add(SaveRecentSearchEvent("},{"type":"INSERT","lineNumber":377,"content":"      location: _locationController.text.trim(),"},{"type":"INSERT","lineNumber":378,"content":"      checkIn: _checkIn ?? DateTime.now(),"},{"type":"INSERT","lineNumber":379,"content":"      checkOut: _checkOut ?? DateTime.now().add(const Duration(days: 1)),"},{"type":"INSERT","lineNumber":380,"content":"      guests: int.tryParse(_guestsController.text) ?? 2,"},{"type":"INSERT","lineNumber":381,"content":"    ));"},{"type":"INSERT","lineNumber":382,"content":""},{"type":"INSERT","lineNumber":383,"content":"    // Create a basic search filter and trigger search"},{"type":"INSERT","lineNumber":384,"content":"    final filter = SearchFilter("},{"type":"INSERT","lineNumber":385,"content":"      address: _locationController.text.trim().isEmpty ? null : _locationController.text.trim(),"},{"type":"INSERT","lineNumber":386,"content":"      checkInDate: _checkIn?.millisecondsSinceEpoch,"},{"type":"INSERT","lineNumber":387,"content":"      checkOutDate: _checkOut?.millisecondsSinceEpoch,"},{"type":"INSERT","lineNumber":388,"content":"    );"},{"type":"DELETE","lineNumber":304,"oldContent":"    return const PropertySearchRequest("},{"type":"DELETE","lineNumber":305,"oldContent":"      isActive: true,"},{"type":"DELETE","lineNumber":306,"oldContent":"      skipCount: 0,"},{"type":"DELETE","lineNumber":307,"oldContent":"      maxResultCount: 10,"},{"type":"INSERT","lineNumber":390,"content":"    // Navigate to search results with the current SearchBloc"},{"type":"INSERT","lineNumber":391,"content":"    Navigator.of(context).push("},{"type":"INSERT","lineNumber":392,"content":"      MaterialPageRoute("},{"type":"INSERT","lineNumber":393,"content":"        builder: (context) => BlocProvider.value("},{"type":"INSERT","lineNumber":394,"content":"          value: context.read<SearchBloc>()..add(SearchPropertiesEvent(filter: filter)),"},{"type":"INSERT","lineNumber":395,"content":"          child: const SearchResultsScreen(),"},{"type":"INSERT","lineNumber":396,"content":"        ),"},{"type":"INSERT","lineNumber":397,"content":"      ),"}]},{"timestamp":1758198565075,"changes":[{"type":"INSERT","lineNumber":6,"content":"import '../../data/models/search_filter.dart';"},{"type":"DELETE","lineNumber":10,"oldContent":"class SearchScreen extends StatefulWidget {"},{"type":"MODIFY","lineNumber":12,"content":"class SearchScreen extends StatefulWidget {","oldContent":"  State<SearchScreen> createState() => _SearchScreenState();"},{"type":"INSERT","lineNumber":16,"content":"  State<SearchScreen> createState() => _SearchScreenState();"},{"type":"INSERT","lineNumber":17,"content":"}"},{"type":"INSERT","lineNumber":18,"content":""},{"type":"DELETE","lineNumber":21,"oldContent":"}"},{"type":"INSERT","lineNumber":25,"content":"  @override"},{"type":"INSERT","lineNumber":26,"content":"  void initState() {"},{"type":"INSERT","lineNumber":27,"content":"    super.initState();"},{"type":"INSERT","lineNumber":30,"content":"  }"},{"type":"INSERT","lineNumber":33,"content":"  void dispose() {"},{"type":"DELETE","lineNumber":29,"oldContent":"  void initState() {"},{"type":"DELETE","lineNumber":30,"oldContent":"    super.initState();"},{"type":"DELETE","lineNumber":31,"oldContent":"      backgroundColor: Colors.white,"},{"type":"INSERT","lineNumber":36,"content":"    super.dispose();"},{"type":"DELETE","lineNumber":35,"oldContent":"  void dispose() {"},{"type":"INSERT","lineNumber":40,"content":"  Widget build(BuildContext context) {"},{"type":"INSERT","lineNumber":41,"content":"    return Scaffold("},{"type":"INSERT","lineNumber":42,"content":"      backgroundColor: Colors.white,"},{"type":"INSERT","lineNumber":43,"content":"      appBar: AppBar("},{"type":"INSERT","lineNumber":44,"content":"        backgroundColor: Colors.white,"},{"type":"INSERT","lineNumber":45,"content":"        elevation: 0,"},{"type":"INSERT","lineNumber":46,"content":"        leading: IconButton("},{"type":"DELETE","lineNumber":37,"oldContent":"    super.dispose();"},{"type":"INSERT","lineNumber":48,"content":"          onPressed: () => Navigator.of(context).pop(),"},{"type":"INSERT","lineNumber":49,"content":"        ),"},{"type":"DELETE","lineNumber":39,"oldContent":"  }"},{"type":"DELETE","lineNumber":41,"oldContent":""},{"type":"DELETE","lineNumber":43,"oldContent":"  @override"},{"type":"DELETE","lineNumber":45,"oldContent":"  Widget build(BuildContext context) {"},{"type":"DELETE","lineNumber":47,"oldContent":"    return Scaffold("},{"type":"DELETE","lineNumber":49,"oldContent":"      appBar: AppBar("},{"type":"INSERT","lineNumber":56,"content":"        ),"},{"type":"INSERT","lineNumber":58,"content":"      ),"},{"type":"DELETE","lineNumber":52,"oldContent":"        backgroundColor: Colors.white,"},{"type":"INSERT","lineNumber":60,"content":"        builder: (context, state) {"},{"type":"DELETE","lineNumber":54,"oldContent":"        elevation: 0,"},{"type":"DELETE","lineNumber":56,"oldContent":"        leading: IconButton("},{"type":"DELETE","lineNumber":58,"oldContent":"          onPressed: () => Navigator.of(context).pop(),"},{"type":"INSERT","lineNumber":64,"content":"              children: ["},{"type":"DELETE","lineNumber":60,"oldContent":"        ),"},{"type":"DELETE","lineNumber":71,"oldContent":"        ),"},{"type":"DELETE","lineNumber":73,"oldContent":"      ),"},{"type":"INSERT","lineNumber":77,"content":"                ),"},{"type":"INSERT","lineNumber":78,"content":"                "},{"type":"DELETE","lineNumber":84,"oldContent":"        builder: (context, state) {"},{"type":"INSERT","lineNumber":99,"content":"              ],"},{"type":"DELETE","lineNumber":96,"oldContent":"              children: ["},{"type":"INSERT","lineNumber":101,"content":"          );"},{"type":"INSERT","lineNumber":102,"content":"        },"},{"type":"INSERT","lineNumber":103,"content":"      ),"},{"type":"INSERT","lineNumber":104,"content":"    );"},{"type":"INSERT","lineNumber":105,"content":"  }"},{"type":"INSERT","lineNumber":106,"content":""},{"type":"INSERT","lineNumber":133,"content":""},{"type":"DELETE","lineNumber":133,"oldContent":"                ),"},{"type":"DELETE","lineNumber":135,"oldContent":"                "},{"type":"DELETE","lineNumber":139,"oldContent":"              ],"},{"type":"DELETE","lineNumber":146,"oldContent":"          );"},{"type":"DELETE","lineNumber":148,"oldContent":"        },"},{"type":"DELETE","lineNumber":150,"oldContent":"      ),"},{"type":"DELETE","lineNumber":152,"oldContent":"    );"},{"type":"DELETE","lineNumber":154,"oldContent":"  }"},{"type":"DELETE","lineNumber":156,"oldContent":""},{"type":"DELETE","lineNumber":164,"oldContent":""},{"type":"INSERT","lineNumber":173,"content":"              ),"},{"type":"DELETE","lineNumber":175,"oldContent":"              ),"},{"type":"DELETE","lineNumber":182,"oldContent":"                ),"},{"type":"DELETE","lineNumber":184,"oldContent":"              ),"},{"type":"DELETE","lineNumber":194,"oldContent":"          ),"},{"type":"DELETE","lineNumber":198,"oldContent":""},{"type":"DELETE","lineNumber":201,"oldContent":"        children: ["},{"type":"DELETE","lineNumber":213,"oldContent":"            ),"},{"type":"DELETE","lineNumber":215,"oldContent":"          ),"},{"type":"DELETE","lineNumber":219,"oldContent":"          Expanded("},{"type":"DELETE","lineNumber":221,"oldContent":"            child: ListView.builder("},{"type":"DELETE","lineNumber":225,"oldContent":"              itemBuilder: (context, index) {"},{"type":"INSERT","lineNumber":220,"content":"                ),"},{"type":"INSERT","lineNumber":221,"content":"              ),"},{"type":"DELETE","lineNumber":233,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":237,"oldContent":"                );"},{"type":"DELETE","lineNumber":239,"oldContent":"              },"},{"type":"DELETE","lineNumber":241,"oldContent":"            ),"},{"type":"DELETE","lineNumber":243,"oldContent":"          ),"},{"type":"DELETE","lineNumber":245,"oldContent":"        ],"},{"type":"DELETE","lineNumber":248,"oldContent":""},{"type":"INSERT","lineNumber":235,"content":"          ),"},{"type":"INSERT","lineNumber":240,"content":""},{"type":"DELETE","lineNumber":258,"oldContent":"          ),"},{"type":"DELETE","lineNumber":265,"oldContent":"            ),"},{"type":"INSERT","lineNumber":256,"content":"        children: ["},{"type":"INSERT","lineNumber":262,"content":"            ),"},{"type":"INSERT","lineNumber":263,"content":"          ),"},{"type":"INSERT","lineNumber":265,"content":"          Expanded("},{"type":"INSERT","lineNumber":266,"content":"            child: ListView.builder("},{"type":"INSERT","lineNumber":268,"content":"              itemBuilder: (context, index) {"},{"type":"DELETE","lineNumber":285,"oldContent":"                color: Colors.white,"},{"type":"DELETE","lineNumber":288,"oldContent":"              ),"},{"type":"DELETE","lineNumber":290,"oldContent":"            ),"},{"type":"DELETE","lineNumber":294,"oldContent":"      ),"},{"type":"DELETE","lineNumber":295,"oldContent":"    );"},{"type":"INSERT","lineNumber":283,"content":"                      ),"},{"type":"DELETE","lineNumber":297,"oldContent":"  }"},{"type":"DELETE","lineNumber":299,"oldContent":""},{"type":"DELETE","lineNumber":306,"oldContent":"  }"},{"type":"DELETE","lineNumber":308,"oldContent":""},{"type":"DELETE","lineNumber":316,"oldContent":""},{"type":"DELETE","lineNumber":322,"oldContent":"    "},{"type":"DELETE","lineNumber":324,"oldContent":"    );"},{"type":"DELETE","lineNumber":325,"oldContent":"  }"},{"type":"INSERT","lineNumber":306,"content":"                );"},{"type":"INSERT","lineNumber":307,"content":"              },"},{"type":"INSERT","lineNumber":308,"content":"            ),"},{"type":"INSERT","lineNumber":309,"content":"          ),"},{"type":"INSERT","lineNumber":310,"content":"        ],"},{"type":"DELETE","lineNumber":327,"oldContent":"}"},{"type":"DELETE","lineNumber":329,"oldContent":""},{"type":"DELETE","lineNumber":331,"oldContent":"      ),"},{"type":"DELETE","lineNumber":332,"oldContent":"        ),"},{"type":"INSERT","lineNumber":314,"content":""},{"type":"DELETE","lineNumber":334,"oldContent":"          child: const SearchResultsScreen(),"},{"type":"DELETE","lineNumber":336,"oldContent":"          value: context.read<SearchBloc>()..add(SearchPropertiesEvent(filter: filter)),"},{"type":"DELETE","lineNumber":338,"oldContent":"        builder: (context) => BlocProvider.value("},{"type":"DELETE","lineNumber":340,"oldContent":"      MaterialPageRoute("},{"type":"DELETE","lineNumber":342,"oldContent":"    Navigator.of(context).push("},{"type":"DELETE","lineNumber":344,"oldContent":"    // Navigate to search results with the current SearchBloc"},{"type":"DELETE","lineNumber":346,"oldContent":"    );"},{"type":"DELETE","lineNumber":348,"oldContent":"      checkOutDate: _checkOut?.millisecondsSinceEpoch,"},{"type":"DELETE","lineNumber":350,"oldContent":"      checkInDate: _checkIn?.millisecondsSinceEpoch,"},{"type":"DELETE","lineNumber":352,"oldContent":"      address: _locationController.text.trim().isEmpty ? null : _locationController.text.trim(),"},{"type":"DELETE","lineNumber":353,"oldContent":"    final filter = SearchFilter("},{"type":"INSERT","lineNumber":325,"content":"          ),"},{"type":"DELETE","lineNumber":355,"oldContent":"    // Create a basic search filter and trigger search"},{"type":"DELETE","lineNumber":357,"oldContent":""},{"type":"DELETE","lineNumber":359,"oldContent":"    ));"},{"type":"DELETE","lineNumber":361,"oldContent":"      guests: int.tryParse(_guestsController.text) ?? 2,"},{"type":"DELETE","lineNumber":363,"oldContent":"      checkOut: _checkOut ?? DateTime.now().add(const Duration(days: 1)),"},{"type":"DELETE","lineNumber":365,"oldContent":"      checkIn: _checkIn ?? DateTime.now(),"},{"type":"DELETE","lineNumber":367,"oldContent":"      location: _locationController.text.trim(),"},{"type":"DELETE","lineNumber":369,"oldContent":"    context.read<SearchBloc>().add(SaveRecentSearchEvent("},{"type":"DELETE","lineNumber":370,"oldContent":"    // Save recent search"},{"type":"INSERT","lineNumber":334,"content":"            ),"},{"type":"DELETE","lineNumber":372,"oldContent":"    }"},{"type":"DELETE","lineNumber":374,"oldContent":"      return;"},{"type":"DELETE","lineNumber":376,"oldContent":"      );"},{"type":"DELETE","lineNumber":378,"oldContent":"        const SnackBar(content: Text('Please enter a location')),"},{"type":"DELETE","lineNumber":379,"oldContent":"      ScaffoldMessenger.of(context).showSnackBar("},{"type":"INSERT","lineNumber":339,"content":"                color: Colors.white,"},{"type":"DELETE","lineNumber":381,"oldContent":"    if (_locationController.text.trim().isEmpty) {"},{"type":"DELETE","lineNumber":382,"oldContent":"  void _performSearch() {"},{"type":"DELETE","lineNumber":383,"oldContent":"    }"},{"type":"INSERT","lineNumber":341,"content":"              ),"},{"type":"INSERT","lineNumber":342,"content":"            ),"},{"type":"DELETE","lineNumber":385,"oldContent":"      });"},{"type":"DELETE","lineNumber":387,"oldContent":"        }"},{"type":"DELETE","lineNumber":388,"oldContent":"          _checkOut = picked;"},{"type":"DELETE","lineNumber":389,"oldContent":"        } else {"},{"type":"DELETE","lineNumber":390,"oldContent":"          _checkIn = picked;"},{"type":"DELETE","lineNumber":391,"oldContent":"        if (isCheckIn) {"},{"type":"INSERT","lineNumber":345,"content":"      ),"},{"type":"INSERT","lineNumber":346,"content":"    );"},{"type":"INSERT","lineNumber":347,"content":"  }"},{"type":"INSERT","lineNumber":348,"content":""},{"type":"DELETE","lineNumber":393,"oldContent":"      setState(() {"},{"type":"DELETE","lineNumber":395,"oldContent":"    if (picked != null) {"},{"type":"DELETE","lineNumber":397,"oldContent":"    "},{"type":"DELETE","lineNumber":399,"oldContent":"    );"},{"type":"INSERT","lineNumber":355,"content":"    );"},{"type":"INSERT","lineNumber":356,"content":"    "},{"type":"INSERT","lineNumber":357,"content":"    if (picked != null) {"},{"type":"INSERT","lineNumber":358,"content":"      setState(() {"},{"type":"INSERT","lineNumber":359,"content":"        if (isCheckIn) {"},{"type":"INSERT","lineNumber":360,"content":"          _checkIn = picked;"},{"type":"INSERT","lineNumber":361,"content":"        } else {"},{"type":"INSERT","lineNumber":362,"content":"          _checkOut = picked;"},{"type":"INSERT","lineNumber":363,"content":"        }"},{"type":"INSERT","lineNumber":364,"content":"      });"},{"type":"INSERT","lineNumber":365,"content":"    }"},{"type":"INSERT","lineNumber":366,"content":"  }"},{"type":"INSERT","lineNumber":367,"content":""},{"type":"INSERT","lineNumber":368,"content":"  void _performSearch() {"},{"type":"INSERT","lineNumber":369,"content":"    if (_locationController.text.trim().isEmpty) {"},{"type":"INSERT","lineNumber":370,"content":"      ScaffoldMessenger.of(context).showSnackBar("},{"type":"INSERT","lineNumber":371,"content":"        const SnackBar(content: Text('Please enter a location')),"},{"type":"INSERT","lineNumber":372,"content":"      );"},{"type":"INSERT","lineNumber":373,"content":"      return;"},{"type":"INSERT","lineNumber":374,"content":"    }"},{"type":"INSERT","lineNumber":375,"content":""},{"type":"INSERT","lineNumber":376,"content":"    // Save recent search"},{"type":"INSERT","lineNumber":377,"content":"    context.read<SearchBloc>().add(SaveRecentSearchEvent("},{"type":"INSERT","lineNumber":378,"content":"      location: _locationController.text.trim(),"},{"type":"INSERT","lineNumber":379,"content":"      checkIn: _checkIn ?? DateTime.now(),"},{"type":"INSERT","lineNumber":380,"content":"      checkOut: _checkOut ?? DateTime.now().add(const Duration(days: 1)),"},{"type":"INSERT","lineNumber":381,"content":"      guests: int.tryParse(_guestsController.text) ?? 2,"},{"type":"INSERT","lineNumber":382,"content":"    ));"},{"type":"INSERT","lineNumber":383,"content":""},{"type":"INSERT","lineNumber":384,"content":"    // Create a basic search filter and trigger search"},{"type":"INSERT","lineNumber":385,"content":"    final filter = SearchFilter("},{"type":"INSERT","lineNumber":386,"content":"      address: _locationController.text.trim().isEmpty ? null : _locationController.text.trim(),"},{"type":"INSERT","lineNumber":387,"content":"      checkInDate: _checkIn?.millisecondsSinceEpoch,"},{"type":"INSERT","lineNumber":388,"content":"      checkOutDate: _checkOut?.millisecondsSinceEpoch,"},{"type":"INSERT","lineNumber":389,"content":"    );"},{"type":"INSERT","lineNumber":390,"content":"    "},{"type":"INSERT","lineNumber":391,"content":"    // Navigate to search results with the current SearchBloc"},{"type":"INSERT","lineNumber":392,"content":"    Navigator.of(context).push("},{"type":"INSERT","lineNumber":393,"content":"      MaterialPageRoute("},{"type":"INSERT","lineNumber":394,"content":"        builder: (context) => BlocProvider.value("},{"type":"INSERT","lineNumber":395,"content":"          value: context.read<SearchBloc>()..add(SearchPropertiesEvent(filter: filter)),"},{"type":"INSERT","lineNumber":396,"content":"          child: const SearchResultsScreen(),"},{"type":"INSERT","lineNumber":397,"content":"        ),"},{"type":"INSERT","lineNumber":398,"content":"      ),"},{"type":"INSERT","lineNumber":399,"content":"    );"},{"type":"INSERT","lineNumber":400,"content":"  }"},{"type":"INSERT","lineNumber":401,"content":"}"},{"type":"INSERT","lineNumber":402,"content":""}]},{"timestamp":1758297273209,"changes":[{"type":"DELETE","lineNumber":0,"oldContent":"import 'package:ahlanfeekum/features/search/presentation/pages/search_results_screen.dart';"},{"type":"DELETE","lineNumber":2,"oldContent":"import 'package:flutter_bloc/flutter_bloc.dart';"},{"type":"DELETE","lineNumber":4,"oldContent":"import '../../../../theming/colors.dart';"},{"type":"DELETE","lineNumber":5,"oldContent":"import '../../../../theming/text_styles.dart';"},{"type":"DELETE","lineNumber":6,"oldContent":"import '../../data/models/search_filter.dart';"},{"type":"INSERT","lineNumber":2,"content":"import 'package:flutter_bloc/flutter_bloc.dart';"},{"type":"DELETE","lineNumber":10,"oldContent":"import 'filter_screen.dart';"},{"type":"INSERT","lineNumber":6,"content":"import '../../data/models/search_filter.dart';"},{"type":"INSERT","lineNumber":7,"content":"import 'search_results_screen.dart';"},{"type":"INSERT","lineNumber":8,"content":"import '../../../../theming/colors.dart';"},{"type":"INSERT","lineNumber":9,"content":"import '../../../../theming/text_styles.dart';"},{"type":"DELETE","lineNumber":17,"oldContent":"class _SearchScreenState extends State<SearchScreen> {"},{"type":"DELETE","lineNumber":19,"oldContent":"  final TextEditingController _locationController = TextEditingController();"},{"type":"DELETE","lineNumber":21,"oldContent":"  final TextEditingController _guestsController = TextEditingController();"},{"type":"INSERT","lineNumber":18,"content":"class _SearchScreenState extends State<SearchScreen> {"},{"type":"INSERT","lineNumber":19,"content":"  final TextEditingController _locationController = TextEditingController();"},{"type":"INSERT","lineNumber":22,"content":"  int _guests = 1;"},{"type":"DELETE","lineNumber":25,"oldContent":"    context.read<SearchBloc>().add(const LoadLookupsEvent());"},{"type":"DELETE","lineNumber":26,"oldContent":"    _guestsController.text = '2';"},{"type":"DELETE","lineNumber":28,"oldContent":""},{"type":"DELETE","lineNumber":30,"oldContent":"  @override"},{"type":"DELETE","lineNumber":32,"oldContent":"    _locationController.dispose();"},{"type":"DELETE","lineNumber":33,"oldContent":"    _guestsController.dispose();"},{"type":"INSERT","lineNumber":27,"content":"    // Load lookups when screen opens"},{"type":"INSERT","lineNumber":28,"content":"    context.read<SearchBloc>().add(const LoadLookupsEvent());"},{"type":"DELETE","lineNumber":35,"oldContent":"  }"},{"type":"DELETE","lineNumber":36,"oldContent":"  void dispose() {"},{"type":"INSERT","lineNumber":32,"content":"  void dispose() {"},{"type":"INSERT","lineNumber":33,"content":"    _locationController.dispose();"},{"type":"DELETE","lineNumber":40,"oldContent":"          icon: Icon(Icons.arrow_back, color: Colors.black87, size: 24.sp),"},{"type":"DELETE","lineNumber":41,"oldContent":"        title: Text("},{"type":"INSERT","lineNumber":35,"content":"  }"},{"type":"INSERT","lineNumber":36,"content":""},{"type":"INSERT","lineNumber":37,"content":"  @override"},{"type":"DELETE","lineNumber":43,"oldContent":"          'Search',"},{"type":"DELETE","lineNumber":45,"oldContent":"      backgroundColor: Colors.white,"},{"type":"DELETE","lineNumber":46,"oldContent":"          style: AppTextStyles.h3.copyWith("},{"type":"INSERT","lineNumber":41,"content":"        title: Text("},{"type":"INSERT","lineNumber":42,"content":"          'Search Properties',"},{"type":"INSERT","lineNumber":43,"content":"          style: AppTextStyles.h4.copyWith(color: AppColors.textPrimary),"},{"type":"INSERT","lineNumber":44,"content":"        ),"},{"type":"DELETE","lineNumber":49,"oldContent":"            color: AppColors.textPrimary,"},{"type":"DELETE","lineNumber":51,"oldContent":"        leading: IconButton("},{"type":"DELETE","lineNumber":52,"oldContent":"            fontSize: 18.sp,"},{"type":"DELETE","lineNumber":53,"oldContent":"          onPressed: () => Navigator.of(context).pop(),"},{"type":"DELETE","lineNumber":54,"oldContent":"          ),"},{"type":"DELETE","lineNumber":55,"oldContent":"        ),"},{"type":"DELETE","lineNumber":56,"oldContent":"        centerTitle: true,"},{"type":"INSERT","lineNumber":47,"content":"        iconTheme: const IconThemeData(color: AppColors.textPrimary),"},{"type":"INSERT","lineNumber":48,"content":"      ),"},{"type":"DELETE","lineNumber":58,"oldContent":"          return Padding("},{"type":"INSERT","lineNumber":50,"content":"        builder: (context, state) {"},{"type":"INSERT","lineNumber":51,"content":"          return SingleChildScrollView("},{"type":"DELETE","lineNumber":60,"oldContent":"        ),"},{"type":"DELETE","lineNumber":62,"oldContent":"      ),"},{"type":"DELETE","lineNumber":63,"oldContent":"                // Where To Field"},{"type":"DELETE","lineNumber":64,"oldContent":"        builder: (context, state) {"},{"type":"INSERT","lineNumber":54,"content":"              crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":55,"content":"              children: ["},{"type":"DELETE","lineNumber":66,"oldContent":"                "},{"type":"DELETE","lineNumber":68,"oldContent":"              children: ["},{"type":"DELETE","lineNumber":69,"oldContent":"                "},{"type":"DELETE","lineNumber":70,"oldContent":"                // Check In & Check Out Row"},{"type":"DELETE","lineNumber":71,"oldContent":"                Row("},{"type":"DELETE","lineNumber":72,"oldContent":"                  children: ["},{"type":"DELETE","lineNumber":73,"oldContent":"                    Expanded(child: _buildDateField('Check In', _checkIn, true)),"},{"type":"DELETE","lineNumber":74,"oldContent":"                    SizedBox(width: 12.w),"},{"type":"DELETE","lineNumber":75,"oldContent":"                    Expanded(child: _buildDateField('Check Out', _checkOut, false)),"},{"type":"DELETE","lineNumber":76,"oldContent":"                  ],"},{"type":"INSERT","lineNumber":58,"content":"                _buildDateSection(),"},{"type":"DELETE","lineNumber":78,"oldContent":"                "},{"type":"DELETE","lineNumber":79,"oldContent":"                // Guests Field"},{"type":"DELETE","lineNumber":80,"oldContent":"                ),"},{"type":"DELETE","lineNumber":81,"oldContent":"                _buildGuestsField(),"},{"type":"DELETE","lineNumber":82,"oldContent":"                "},{"type":"DELETE","lineNumber":83,"oldContent":"                "},{"type":"DELETE","lineNumber":84,"oldContent":"                SizedBox(height: 20.h),"},{"type":"DELETE","lineNumber":85,"oldContent":"                "},{"type":"DELETE","lineNumber":86,"oldContent":"                // Filter Button"},{"type":"DELETE","lineNumber":87,"oldContent":"                _buildFilterButton(state),"},{"type":"DELETE","lineNumber":88,"oldContent":"                "},{"type":"DELETE","lineNumber":89,"oldContent":"                SizedBox(height: 24.h),"},{"type":"DELETE","lineNumber":90,"oldContent":"                "},{"type":"DELETE","lineNumber":91,"oldContent":"                // Recent Search Section"},{"type":"DELETE","lineNumber":92,"oldContent":"                if (state is LookupsLoaded || state is SearchLoaded)"},{"type":"DELETE","lineNumber":93,"oldContent":"                  _buildRecentSearches(state),"},{"type":"DELETE","lineNumber":94,"oldContent":"                "},{"type":"DELETE","lineNumber":95,"oldContent":"                const Spacer(),"},{"type":"DELETE","lineNumber":96,"oldContent":"                "},{"type":"DELETE","lineNumber":97,"oldContent":"                // Search Button"},{"type":"INSERT","lineNumber":60,"content":"                _buildGuestsSection(),"},{"type":"INSERT","lineNumber":61,"content":"                SizedBox(height: 32.h),"},{"type":"DELETE","lineNumber":99,"oldContent":"            ),"},{"type":"DELETE","lineNumber":100,"oldContent":"  Widget _buildLocationField() {"},{"type":"DELETE","lineNumber":101,"oldContent":"    return Container("},{"type":"INSERT","lineNumber":63,"content":"                SizedBox(height: 24.h),"},{"type":"INSERT","lineNumber":64,"content":"                if (state is LookupsLoaded && state.recentSearches.isNotEmpty)"},{"type":"INSERT","lineNumber":65,"content":"                  _buildRecentSearches(state.recentSearches),"},{"type":"DELETE","lineNumber":103,"oldContent":"      decoration: BoxDecoration("},{"type":"DELETE","lineNumber":104,"oldContent":"        color: Colors.grey[50],"},{"type":"INSERT","lineNumber":67,"content":"            ),"},{"type":"DELETE","lineNumber":106,"oldContent":"        borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":108,"oldContent":"        border: Border.all(color: Colors.grey[300]!),"},{"type":"DELETE","lineNumber":110,"oldContent":"      ),"},{"type":"DELETE","lineNumber":112,"oldContent":"      child: TextFormField("},{"type":"DELETE","lineNumber":114,"oldContent":"        controller: _locationController,"},{"type":"DELETE","lineNumber":116,"oldContent":"        decoration: InputDecoration("},{"type":"DELETE","lineNumber":117,"oldContent":"          hintText: 'Where To?',"},{"type":"DELETE","lineNumber":118,"oldContent":"          hintStyle: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":119,"oldContent":"            color: Colors.grey[500],"},{"type":"DELETE","lineNumber":120,"oldContent":"            fontSize: 14.sp,"},{"type":"INSERT","lineNumber":74,"content":"  Widget _buildLocationField() {"},{"type":"INSERT","lineNumber":75,"content":"    return Column("},{"type":"INSERT","lineNumber":76,"content":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":77,"content":"      children: ["},{"type":"INSERT","lineNumber":78,"content":"        Text("},{"type":"INSERT","lineNumber":79,"content":"          'Where are you going?',"},{"type":"INSERT","lineNumber":80,"content":"          style: AppTextStyles.h5.copyWith(color: AppColors.textPrimary),"},{"type":"INSERT","lineNumber":81,"content":"        ),"},{"type":"INSERT","lineNumber":82,"content":"        SizedBox(height: 8.h),"},{"type":"INSERT","lineNumber":83,"content":"        TextFormField("},{"type":"INSERT","lineNumber":84,"content":"          controller: _locationController,"},{"type":"INSERT","lineNumber":85,"content":"          decoration: InputDecoration("},{"type":"INSERT","lineNumber":86,"content":"            hintText: 'Enter destination',"},{"type":"INSERT","lineNumber":87,"content":"            prefixIcon: const Icon(Icons.location_on, color: AppColors.primary),"},{"type":"INSERT","lineNumber":88,"content":"            border: OutlineInputBorder("},{"type":"INSERT","lineNumber":89,"content":"              borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":90,"content":"              borderSide: BorderSide(color: Colors.grey[300]!),"},{"type":"INSERT","lineNumber":91,"content":"            ),"},{"type":"INSERT","lineNumber":92,"content":"            focusedBorder: OutlineInputBorder("},{"type":"INSERT","lineNumber":93,"content":"              borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":94,"content":"              borderSide: const BorderSide(color: AppColors.primary),"},{"type":"INSERT","lineNumber":95,"content":"            ),"},{"type":"DELETE","lineNumber":122,"oldContent":"          prefixIcon: Icon("},{"type":"DELETE","lineNumber":123,"oldContent":"            Icons.location_on_outlined,"},{"type":"DELETE","lineNumber":124,"oldContent":"            color: AppColors.primary,"},{"type":"DELETE","lineNumber":125,"oldContent":"            size: 20.sp,"},{"type":"DELETE","lineNumber":126,"oldContent":"          ),"},{"type":"DELETE","lineNumber":127,"oldContent":"          border: InputBorder.none,"},{"type":"DELETE","lineNumber":128,"oldContent":"          contentPadding: EdgeInsets.symmetric(horizontal: 16.w, vertical: 16.h),"},{"type":"DELETE","lineNumber":130,"oldContent":"      ),"},{"type":"INSERT","lineNumber":98,"content":"      ],"},{"type":"INSERT","lineNumber":101,"content":""},{"type":"INSERT","lineNumber":102,"content":"  Widget _buildDateSection() {"},{"type":"INSERT","lineNumber":103,"content":"    return Column("},{"type":"INSERT","lineNumber":104,"content":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":105,"content":"      children: ["},{"type":"INSERT","lineNumber":106,"content":"        Text("},{"type":"INSERT","lineNumber":107,"content":"          'When are you traveling?',"},{"type":"INSERT","lineNumber":108,"content":"          style: AppTextStyles.h5.copyWith(color: AppColors.textPrimary),"},{"type":"INSERT","lineNumber":109,"content":"        ),"},{"type":"INSERT","lineNumber":110,"content":"        SizedBox(height: 8.h),"},{"type":"INSERT","lineNumber":111,"content":"        Row("},{"type":"INSERT","lineNumber":112,"content":"          children: ["},{"type":"INSERT","lineNumber":113,"content":"            Expanded(child: _buildDateField('Check-in', _checkIn, true)),"},{"type":"INSERT","lineNumber":114,"content":"            SizedBox(width: 12.w),"},{"type":"INSERT","lineNumber":115,"content":"            Expanded(child: _buildDateField('Check-out', _checkOut, false)),"},{"type":"INSERT","lineNumber":116,"content":"          ],"},{"type":"INSERT","lineNumber":117,"content":"        ),"},{"type":"INSERT","lineNumber":118,"content":"      ],"},{"type":"INSERT","lineNumber":119,"content":"    );"},{"type":"INSERT","lineNumber":120,"content":"  }"},{"type":"INSERT","lineNumber":121,"content":""},{"type":"DELETE","lineNumber":137,"oldContent":"        padding: EdgeInsets.symmetric(horizontal: 16.w, vertical: 16.h),"},{"type":"INSERT","lineNumber":126,"content":"        padding: EdgeInsets.all(12.w),"},{"type":"DELETE","lineNumber":139,"oldContent":"          color: Colors.grey[50],"},{"type":"DELETE","lineNumber":140,"oldContent":"          borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":129,"content":"          borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":143,"oldContent":""},{"type":"DELETE","lineNumber":144,"oldContent":"        child: Row("},{"type":"INSERT","lineNumber":131,"content":"        child: Column("},{"type":"INSERT","lineNumber":132,"content":"          crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":146,"oldContent":"            Icon("},{"type":"DELETE","lineNumber":147,"oldContent":"              Icons.calendar_today_outlined,"},{"type":"DELETE","lineNumber":148,"oldContent":"              color: AppColors.primary,"},{"type":"DELETE","lineNumber":149,"oldContent":"              size: 18.sp,"},{"type":"INSERT","lineNumber":134,"content":"            Text("},{"type":"INSERT","lineNumber":135,"content":"              label,"},{"type":"INSERT","lineNumber":136,"content":"              style: AppTextStyles.bodySmall.copyWith(color: Colors.grey[600]),"},{"type":"DELETE","lineNumber":151,"oldContent":"            SizedBox(width: 8.w),"},{"type":"DELETE","lineNumber":152,"oldContent":"            Expanded("},{"type":"DELETE","lineNumber":153,"oldContent":"              child: Column("},{"type":"DELETE","lineNumber":154,"oldContent":"                crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":155,"oldContent":"                children: ["},{"type":"DELETE","lineNumber":156,"oldContent":"                  Text("},{"type":"DELETE","lineNumber":157,"oldContent":"                    label,"},{"type":"DELETE","lineNumber":158,"oldContent":"                    style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":159,"oldContent":"                      color: Colors.grey[600],"},{"type":"DELETE","lineNumber":160,"oldContent":"                      fontSize: 12.sp,"},{"type":"DELETE","lineNumber":161,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":162,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":163,"oldContent":"                  Text("},{"type":"DELETE","lineNumber":164,"oldContent":"                    date != null "},{"type":"DELETE","lineNumber":165,"oldContent":"                        ? '${date.day}/${date.month}/${date.year}'"},{"type":"DELETE","lineNumber":166,"oldContent":"                        : '1/Sep/2024',"},{"type":"DELETE","lineNumber":167,"oldContent":"                    style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":168,"oldContent":"                      color: Colors.grey[500],"},{"type":"DELETE","lineNumber":169,"oldContent":"                      fontSize: 14.sp,"},{"type":"DELETE","lineNumber":170,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":171,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":172,"oldContent":"                ],"},{"type":"DELETE","lineNumber":173,"oldContent":"            ),"},{"type":"INSERT","lineNumber":138,"content":"            SizedBox(height: 4.h),"},{"type":"INSERT","lineNumber":139,"content":"            Text("},{"type":"INSERT","lineNumber":140,"content":"              date != null"},{"type":"INSERT","lineNumber":141,"content":"                  ? '${date.day}/${date.month}/${date.year}'"},{"type":"INSERT","lineNumber":142,"content":"                  : 'Select date',"},{"type":"INSERT","lineNumber":143,"content":"              style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":144,"content":"                color: date != null ? AppColors.textPrimary : Colors.grey[500],"},{"type":"INSERT","lineNumber":146,"content":"            ),"},{"type":"DELETE","lineNumber":181,"oldContent":"  Widget _buildGuestsField() {"},{"type":"DELETE","lineNumber":182,"oldContent":"    return Container("},{"type":"DELETE","lineNumber":183,"oldContent":"      decoration: BoxDecoration("},{"type":"DELETE","lineNumber":184,"oldContent":"        color: Colors.grey[50],"},{"type":"DELETE","lineNumber":185,"oldContent":"        borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":186,"oldContent":"        border: Border.all(color: Colors.grey[300]!),"},{"type":"DELETE","lineNumber":187,"oldContent":"      ),"},{"type":"DELETE","lineNumber":188,"oldContent":"      child: TextFormField("},{"type":"DELETE","lineNumber":189,"oldContent":"        controller: _guestsController,"},{"type":"DELETE","lineNumber":190,"oldContent":"        keyboardType: TextInputType.number,"},{"type":"DELETE","lineNumber":191,"oldContent":"        decoration: InputDecoration("},{"type":"DELETE","lineNumber":192,"oldContent":"          hintText: 'Guests',"},{"type":"DELETE","lineNumber":193,"oldContent":"          hintStyle: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":194,"oldContent":"            color: Colors.grey[500],"},{"type":"DELETE","lineNumber":195,"oldContent":"            fontSize: 14.sp,"},{"type":"DELETE","lineNumber":196,"oldContent":"          ),"},{"type":"DELETE","lineNumber":197,"oldContent":"          prefixIcon: Icon("},{"type":"DELETE","lineNumber":198,"oldContent":"            Icons.person_outline,"},{"type":"DELETE","lineNumber":199,"oldContent":"            color: AppColors.primary,"},{"type":"DELETE","lineNumber":200,"oldContent":"            size: 20.sp,"},{"type":"DELETE","lineNumber":201,"oldContent":"          ),"},{"type":"DELETE","lineNumber":202,"oldContent":"          border: InputBorder.none,"},{"type":"DELETE","lineNumber":203,"oldContent":"          contentPadding: EdgeInsets.symmetric(horizontal: 16.w, vertical: 16.h),"},{"type":"INSERT","lineNumber":153,"content":"  Widget _buildGuestsSection() {"},{"type":"INSERT","lineNumber":154,"content":"    return Column("},{"type":"INSERT","lineNumber":155,"content":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":156,"content":"      children: ["},{"type":"INSERT","lineNumber":157,"content":"        Text("},{"type":"INSERT","lineNumber":158,"content":"          'How many guests?',"},{"type":"INSERT","lineNumber":159,"content":"          style: AppTextStyles.h5.copyWith(color: AppColors.textPrimary),"},{"type":"DELETE","lineNumber":205,"oldContent":"      ),"},{"type":"DELETE","lineNumber":206,"oldContent":"    );"},{"type":"DELETE","lineNumber":207,"oldContent":"  }"},{"type":"DELETE","lineNumber":208,"oldContent":""},{"type":"DELETE","lineNumber":209,"oldContent":"  Widget _buildFilterButton(SearchState state) {"},{"type":"DELETE","lineNumber":210,"oldContent":"    return Align("},{"type":"DELETE","lineNumber":211,"oldContent":"      alignment: Alignment.centerRight,"},{"type":"DELETE","lineNumber":212,"oldContent":"      child: TextButton.icon("},{"type":"DELETE","lineNumber":213,"oldContent":"                ),"},{"type":"DELETE","lineNumber":214,"oldContent":"        onPressed: () async {"},{"type":"DELETE","lineNumber":215,"oldContent":"              ),"},{"type":"DELETE","lineNumber":216,"oldContent":"          if (state is LookupsLoaded || state is SearchLoaded) {"},{"type":"DELETE","lineNumber":217,"oldContent":"            await Navigator.of(context).push("},{"type":"DELETE","lineNumber":218,"oldContent":"              MaterialPageRoute("},{"type":"DELETE","lineNumber":219,"oldContent":"                builder: (context) => BlocProvider.value("},{"type":"DELETE","lineNumber":220,"oldContent":"                  value: context.read<SearchBloc>(),"},{"type":"DELETE","lineNumber":221,"oldContent":"                  child: const FilterScreen(),"},{"type":"DELETE","lineNumber":222,"oldContent":"            );"},{"type":"DELETE","lineNumber":223,"oldContent":"          }"},{"type":"DELETE","lineNumber":224,"oldContent":"        },"},{"type":"DELETE","lineNumber":225,"oldContent":"        icon: Icon("},{"type":"DELETE","lineNumber":226,"oldContent":"          Icons.tune,"},{"type":"INSERT","lineNumber":161,"content":"        SizedBox(height: 8.h),"},{"type":"INSERT","lineNumber":162,"content":"        Container("},{"type":"INSERT","lineNumber":163,"content":"          padding: EdgeInsets.all(12.w),"},{"type":"INSERT","lineNumber":164,"content":"          decoration: BoxDecoration("},{"type":"INSERT","lineNumber":165,"content":"            border: Border.all(color: Colors.grey[300]!),"},{"type":"INSERT","lineNumber":166,"content":"            borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":228,"oldContent":"          color: AppColors.primary,"},{"type":"DELETE","lineNumber":229,"oldContent":"          size: 18.sp,"},{"type":"DELETE","lineNumber":230,"oldContent":"        ),"},{"type":"DELETE","lineNumber":231,"oldContent":""},{"type":"DELETE","lineNumber":232,"oldContent":"        label: Text("},{"type":"DELETE","lineNumber":233,"oldContent":"          'Filter',"},{"type":"DELETE","lineNumber":234,"oldContent":"          style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":235,"oldContent":"            color: AppColors.primary,"},{"type":"DELETE","lineNumber":236,"oldContent":"            fontSize: 14.sp,"},{"type":"DELETE","lineNumber":237,"oldContent":"        ),"},{"type":"DELETE","lineNumber":238,"oldContent":"      ),"},{"type":"DELETE","lineNumber":239,"oldContent":"    );"},{"type":"DELETE","lineNumber":240,"oldContent":"  }"},{"type":"DELETE","lineNumber":241,"oldContent":"  Widget _buildRecentSearches(SearchState state) {"},{"type":"DELETE","lineNumber":242,"oldContent":"    List<RecentSearch> recentSearches = [];"},{"type":"DELETE","lineNumber":243,"oldContent":"    if (state is LookupsLoaded) {"},{"type":"DELETE","lineNumber":244,"oldContent":"        children: ["},{"type":"DELETE","lineNumber":245,"oldContent":"      recentSearches = state.recentSearches;"},{"type":"DELETE","lineNumber":246,"oldContent":"    } else if (state is SearchLoaded) {"},{"type":"DELETE","lineNumber":247,"oldContent":"      recentSearches = state.recentSearches;"},{"type":"DELETE","lineNumber":248,"oldContent":"    }"},{"type":"DELETE","lineNumber":249,"oldContent":""},{"type":"DELETE","lineNumber":250,"oldContent":"            ),"},{"type":"DELETE","lineNumber":251,"oldContent":"    if (recentSearches.isEmpty) {"},{"type":"DELETE","lineNumber":252,"oldContent":"          ),"},{"type":"DELETE","lineNumber":253,"oldContent":"      return const SizedBox.shrink();"},{"type":"DELETE","lineNumber":254,"oldContent":"    }"},{"type":"DELETE","lineNumber":255,"oldContent":"          Expanded("},{"type":"DELETE","lineNumber":256,"oldContent":"            child: ListView.builder("},{"type":"DELETE","lineNumber":257,"oldContent":""},{"type":"DELETE","lineNumber":258,"oldContent":"    return Expanded("},{"type":"DELETE","lineNumber":259,"oldContent":"              itemBuilder: (context, index) {"},{"type":"DELETE","lineNumber":260,"oldContent":"      child: Column("},{"type":"DELETE","lineNumber":261,"oldContent":"        crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":262,"oldContent":"          Text("},{"type":"DELETE","lineNumber":263,"oldContent":"            'Recent Search',"},{"type":"DELETE","lineNumber":264,"oldContent":"            style: AppTextStyles.h4.copyWith("},{"type":"DELETE","lineNumber":265,"oldContent":"              color: AppColors.textPrimary,"},{"type":"DELETE","lineNumber":266,"oldContent":"              fontSize: 16.sp,"},{"type":"DELETE","lineNumber":267,"oldContent":"          SizedBox(height: 12.h),"},{"type":"DELETE","lineNumber":268,"oldContent":"              itemCount: recentSearches.length,"},{"type":"DELETE","lineNumber":269,"oldContent":"                final search = recentSearches[index];"},{"type":"DELETE","lineNumber":270,"oldContent":"                return Container("},{"type":"DELETE","lineNumber":271,"oldContent":"                  margin: EdgeInsets.only(bottom: 8.h),"},{"type":"DELETE","lineNumber":272,"oldContent":"                  padding: EdgeInsets.symmetric(horizontal: 16.w, vertical: 12.h),"},{"type":"DELETE","lineNumber":273,"oldContent":"                  decoration: BoxDecoration("},{"type":"DELETE","lineNumber":274,"oldContent":"                    color: Colors.grey[50],"},{"type":"DELETE","lineNumber":275,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":276,"oldContent":"                    borderRadius: BorderRadius.circular(8.r),"},{"type":"INSERT","lineNumber":168,"content":"          child: Row("},{"type":"INSERT","lineNumber":169,"content":"            mainAxisAlignment: MainAxisAlignment.spaceBetween,"},{"type":"INSERT","lineNumber":170,"content":"            children: ["},{"type":"INSERT","lineNumber":171,"content":"              Text("},{"type":"INSERT","lineNumber":172,"content":"                '$_guests guests',"},{"type":"INSERT","lineNumber":173,"content":"                style: AppTextStyles.bodyMedium.copyWith(color: AppColors.textPrimary),"},{"type":"INSERT","lineNumber":174,"content":"              ),"},{"type":"INSERT","lineNumber":175,"content":"              Row("},{"type":"INSERT","lineNumber":176,"content":"                children: ["},{"type":"INSERT","lineNumber":177,"content":"                  IconButton("},{"type":"INSERT","lineNumber":178,"content":"                    onPressed: _guests > 1 ? () => setState(() => _guests--) : null,"},{"type":"INSERT","lineNumber":179,"content":"                    icon: const Icon(Icons.remove_circle_outline),"},{"type":"INSERT","lineNumber":180,"content":"                    color: _guests > 1 ? AppColors.primary : Colors.grey[400],"},{"type":"DELETE","lineNumber":278,"oldContent":"                  child: Row("},{"type":"DELETE","lineNumber":279,"oldContent":"                    children: ["},{"type":"DELETE","lineNumber":280,"oldContent":"                      Icon("},{"type":"DELETE","lineNumber":281,"oldContent":"                        Icons.history,"},{"type":"DELETE","lineNumber":282,"oldContent":"                        color: Colors.grey[600],"},{"type":"DELETE","lineNumber":283,"oldContent":"                        size: 18.sp,"},{"type":"DELETE","lineNumber":284,"oldContent":"                      SizedBox(width: 12.w),"},{"type":"DELETE","lineNumber":285,"oldContent":"                      Expanded("},{"type":"DELETE","lineNumber":286,"oldContent":"                        child: Text("},{"type":"DELETE","lineNumber":287,"oldContent":"                          search.displayText,"},{"type":"DELETE","lineNumber":288,"oldContent":"                          style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":289,"oldContent":"                            color: AppColors.textPrimary,"},{"type":"DELETE","lineNumber":290,"oldContent":"                            fontSize: 14.sp,"},{"type":"DELETE","lineNumber":291,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":292,"oldContent":"                );"},{"type":"DELETE","lineNumber":293,"oldContent":"              },"},{"type":"DELETE","lineNumber":294,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":295,"oldContent":"            ),"},{"type":"DELETE","lineNumber":296,"oldContent":"          ),"},{"type":"DELETE","lineNumber":297,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":298,"oldContent":"        ],"},{"type":"DELETE","lineNumber":299,"oldContent":"                      IconButton("},{"type":"DELETE","lineNumber":300,"oldContent":"                        onPressed: () {"},{"type":"DELETE","lineNumber":301,"oldContent":"                          // Remove recent search"},{"type":"DELETE","lineNumber":302,"oldContent":"                        },"},{"type":"DELETE","lineNumber":303,"oldContent":""},{"type":"DELETE","lineNumber":304,"oldContent":"                        icon: Icon("},{"type":"DELETE","lineNumber":305,"oldContent":"                          Icons.close,"},{"type":"DELETE","lineNumber":306,"oldContent":"                          color: Colors.red[400],"},{"type":"DELETE","lineNumber":307,"oldContent":"                          size: 18.sp,"},{"type":"DELETE","lineNumber":308,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":309,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":310,"oldContent":"                    ],"},{"type":"INSERT","lineNumber":182,"content":"                  IconButton("},{"type":"INSERT","lineNumber":183,"content":"                    onPressed: () => setState(() => _guests++),"},{"type":"INSERT","lineNumber":184,"content":"                    icon: const Icon(Icons.add_circle_outline),"},{"type":"INSERT","lineNumber":185,"content":"                    color: AppColors.primary,"},{"type":"INSERT","lineNumber":187,"content":"                ],"},{"type":"INSERT","lineNumber":188,"content":"              ),"},{"type":"INSERT","lineNumber":189,"content":"            ],"},{"type":"DELETE","lineNumber":313,"oldContent":"      ),"},{"type":"INSERT","lineNumber":191,"content":"        ),"},{"type":"INSERT","lineNumber":192,"content":"      ],"},{"type":"INSERT","lineNumber":195,"content":""},{"type":"DELETE","lineNumber":317,"oldContent":"            ),"},{"type":"DELETE","lineNumber":320,"oldContent":"                color: Colors.white,"},{"type":"DELETE","lineNumber":322,"oldContent":"              ),"},{"type":"DELETE","lineNumber":324,"oldContent":"            ),"},{"type":"DELETE","lineNumber":325,"oldContent":"        onPressed: _performSearch,"},{"type":"DELETE","lineNumber":326,"oldContent":"      ),"},{"type":"INSERT","lineNumber":201,"content":"        onPressed: _onSearchButtonPressed,"},{"type":"DELETE","lineNumber":328,"oldContent":"    );"},{"type":"DELETE","lineNumber":329,"oldContent":"  }"},{"type":"DELETE","lineNumber":331,"oldContent":""},{"type":"INSERT","lineNumber":206,"content":"          ),"},{"type":"INSERT","lineNumber":208,"content":"        child: Text("},{"type":"INSERT","lineNumber":209,"content":"          'Search Properties',"},{"type":"INSERT","lineNumber":210,"content":"          style: AppTextStyles.h5.copyWith(color: Colors.white),"},{"type":"INSERT","lineNumber":211,"content":"        ),"},{"type":"INSERT","lineNumber":212,"content":"      ),"},{"type":"DELETE","lineNumber":336,"oldContent":"    "},{"type":"DELETE","lineNumber":337,"oldContent":"        child: Row("},{"type":"INSERT","lineNumber":214,"content":"  }"},{"type":"INSERT","lineNumber":215,"content":""},{"type":"INSERT","lineNumber":216,"content":"  Widget _buildRecentSearches(List<RecentSearch> recentSearches) {"},{"type":"INSERT","lineNumber":217,"content":"    return Column("},{"type":"INSERT","lineNumber":218,"content":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":219,"content":"      children: ["},{"type":"INSERT","lineNumber":220,"content":"        Text("},{"type":"INSERT","lineNumber":221,"content":"          'Recent Searches',"},{"type":"INSERT","lineNumber":222,"content":"          style: AppTextStyles.h5.copyWith(color: AppColors.textPrimary),"},{"type":"INSERT","lineNumber":223,"content":"        ),"},{"type":"INSERT","lineNumber":224,"content":"        SizedBox(height: 12.h),"},{"type":"INSERT","lineNumber":225,"content":"        ListView.builder("},{"type":"INSERT","lineNumber":226,"content":"          shrinkWrap: true,"},{"type":"INSERT","lineNumber":227,"content":"          physics: const NeverScrollableScrollPhysics(),"},{"type":"INSERT","lineNumber":228,"content":"          itemCount: recentSearches.length,"},{"type":"INSERT","lineNumber":229,"content":"          itemBuilder: (context, index) {"},{"type":"INSERT","lineNumber":230,"content":"            final search = recentSearches[index];"},{"type":"INSERT","lineNumber":231,"content":"            return Card("},{"type":"INSERT","lineNumber":232,"content":"              margin: EdgeInsets.only(bottom: 8.h),"},{"type":"INSERT","lineNumber":233,"content":"              child: ListTile("},{"type":"INSERT","lineNumber":234,"content":"                leading: const Icon(Icons.history, color: AppColors.primary),"},{"type":"INSERT","lineNumber":235,"content":"                title: Text("},{"type":"INSERT","lineNumber":236,"content":"                  search.location ?? 'Any location',"},{"type":"INSERT","lineNumber":237,"content":"                  style: AppTextStyles.bodyMedium,"},{"type":"INSERT","lineNumber":238,"content":"                ),"},{"type":"INSERT","lineNumber":239,"content":"                subtitle: Text("},{"type":"INSERT","lineNumber":240,"content":"                  '${search.guests ?? 1} guests  ${search.checkIn != null ? \"${search.checkIn!.day}/${search.checkIn!.month}\" : \"Anytime\"}',"},{"type":"INSERT","lineNumber":241,"content":"                  style: AppTextStyles.bodySmall.copyWith(color: Colors.grey[600]),"},{"type":"INSERT","lineNumber":242,"content":"                ),"},{"type":"INSERT","lineNumber":243,"content":"                onTap: () => _useRecentSearch(search),"},{"type":"INSERT","lineNumber":244,"content":"              ),"},{"type":"INSERT","lineNumber":245,"content":"            );"},{"type":"INSERT","lineNumber":246,"content":"          },"},{"type":"INSERT","lineNumber":247,"content":"        ),"},{"type":"INSERT","lineNumber":248,"content":"      ],"},{"type":"INSERT","lineNumber":249,"content":"    );"},{"type":"INSERT","lineNumber":250,"content":"  }"},{"type":"INSERT","lineNumber":251,"content":""},{"type":"INSERT","lineNumber":252,"content":"  Future<void> _selectDate(bool isCheckIn) async {"},{"type":"INSERT","lineNumber":253,"content":"    final DateTime? picked = await showDatePicker("},{"type":"INSERT","lineNumber":254,"content":"      context: context,"},{"type":"INSERT","lineNumber":255,"content":"      initialDate: isCheckIn ? _checkIn ?? DateTime.now() : _checkOut ?? DateTime.now(),"},{"type":"INSERT","lineNumber":256,"content":"      firstDate: DateTime.now(),"},{"type":"INSERT","lineNumber":257,"content":"      lastDate: DateTime.now().add(const Duration(days: 365)),"},{"type":"INSERT","lineNumber":258,"content":"    );"},{"type":"INSERT","lineNumber":259,"content":""},{"type":"DELETE","lineNumber":340,"oldContent":"          mainAxisAlignment: MainAxisAlignment.center,"},{"type":"DELETE","lineNumber":343,"oldContent":"          children: ["},{"type":"INSERT","lineNumber":264,"content":"          // Adjust check-out if it's before check-in"},{"type":"INSERT","lineNumber":265,"content":"          if (_checkOut != null && _checkOut!.isBefore(picked)) {"},{"type":"INSERT","lineNumber":266,"content":"            _checkOut = picked.add(const Duration(days: 1));"},{"type":"INSERT","lineNumber":267,"content":"          }"},{"type":"DELETE","lineNumber":346,"oldContent":"            Icon("},{"type":"DELETE","lineNumber":349,"oldContent":"              Icons.search,"},{"type":"DELETE","lineNumber":352,"oldContent":"              color: Colors.white,"},{"type":"DELETE","lineNumber":354,"oldContent":"  void _performSearch() {"},{"type":"DELETE","lineNumber":355,"oldContent":"              size: 20.sp,"},{"type":"DELETE","lineNumber":356,"oldContent":"    if (_locationController.text.trim().isEmpty) {"},{"type":"DELETE","lineNumber":357,"oldContent":"      ScaffoldMessenger.of(context).showSnackBar("},{"type":"DELETE","lineNumber":358,"oldContent":"        const SnackBar(content: Text('Please enter a location')),"},{"type":"DELETE","lineNumber":359,"oldContent":"            SizedBox(width: 8.w),"},{"type":"DELETE","lineNumber":360,"oldContent":"      );"},{"type":"DELETE","lineNumber":361,"oldContent":"      return;"},{"type":"DELETE","lineNumber":362,"oldContent":"            Text("},{"type":"DELETE","lineNumber":363,"oldContent":"    }"},{"type":"INSERT","lineNumber":275,"content":"  void _useRecentSearch(RecentSearch search) {"},{"type":"INSERT","lineNumber":276,"content":"    setState(() {"},{"type":"INSERT","lineNumber":277,"content":"      _locationController.text = search.location ?? '';"},{"type":"INSERT","lineNumber":278,"content":"      _checkIn = search.checkIn;"},{"type":"INSERT","lineNumber":279,"content":"      _checkOut = search.checkOut;"},{"type":"INSERT","lineNumber":280,"content":"      _guests = search.guests ?? 1;"},{"type":"INSERT","lineNumber":281,"content":"    });"},{"type":"INSERT","lineNumber":282,"content":"  }"},{"type":"DELETE","lineNumber":365,"oldContent":"              'Search',"},{"type":"DELETE","lineNumber":366,"oldContent":"    // Save recent search"},{"type":"DELETE","lineNumber":367,"oldContent":"    context.read<SearchBloc>().add(SaveRecentSearchEvent("},{"type":"DELETE","lineNumber":368,"oldContent":"              style: AppTextStyles.h4.copyWith("},{"type":"DELETE","lineNumber":369,"oldContent":"      location: _locationController.text.trim(),"},{"type":"DELETE","lineNumber":370,"oldContent":"      checkIn: _checkIn ?? DateTime.now(),"},{"type":"DELETE","lineNumber":371,"oldContent":"      checkOut: _checkOut ?? DateTime.now().add(const Duration(days: 1)),"},{"type":"DELETE","lineNumber":372,"oldContent":"                fontSize: 16.sp,"},{"type":"DELETE","lineNumber":373,"oldContent":"      guests: int.tryParse(_guestsController.text) ?? 2,"},{"type":"DELETE","lineNumber":374,"oldContent":"    ));"},{"type":"INSERT","lineNumber":284,"content":"  void _onSearchButtonPressed() {"},{"type":"INSERT","lineNumber":285,"content":"    // Save to recent searches"},{"type":"INSERT","lineNumber":286,"content":"    final recentSearch = RecentSearch("},{"type":"INSERT","lineNumber":287,"content":"      location: _locationController.text.trim().isEmpty ? null : _locationController.text.trim(),"},{"type":"INSERT","lineNumber":288,"content":"      checkIn: _checkIn,"},{"type":"INSERT","lineNumber":289,"content":"      checkOut: _checkOut,"},{"type":"INSERT","lineNumber":290,"content":"      guests: _guests,"},{"type":"INSERT","lineNumber":291,"content":"      timestamp: DateTime.now(),"},{"type":"INSERT","lineNumber":292,"content":"    );"},{"type":"INSERT","lineNumber":293,"content":"    "},{"type":"INSERT","lineNumber":294,"content":"    context.read<SearchBloc>().add(SaveRecentSearchEvent(recentSearch: recentSearch));"},{"type":"DELETE","lineNumber":376,"oldContent":"    // Create a basic search filter and trigger search"},{"type":"DELETE","lineNumber":377,"oldContent":"          ],"},{"type":"INSERT","lineNumber":296,"content":"    // Create search filter and navigate to results"},{"type":"DELETE","lineNumber":380,"oldContent":"        ),"},{"type":"DELETE","lineNumber":385,"oldContent":"    // Navigate to search results with the current SearchBloc"},{"type":"DELETE","lineNumber":387,"oldContent":"  Future<void> _selectDate(bool isCheckIn) async {"},{"type":"DELETE","lineNumber":390,"oldContent":"    final DateTime? picked = await showDatePicker("},{"type":"DELETE","lineNumber":393,"oldContent":"      context: context,"},{"type":"DELETE","lineNumber":396,"oldContent":"      initialDate: DateTime.now(),"},{"type":"DELETE","lineNumber":399,"oldContent":"      firstDate: DateTime.now(),"},{"type":"DELETE","lineNumber":401,"oldContent":"      lastDate: DateTime.now().add(const Duration(days: 365)),"}]},{"timestamp":1758297357896,"changes":[{"type":"MODIFY","lineNumber":2,"content":"import 'package:flutter_bloc/flutter_bloc.dart';","oldContent":"import 'package:flutter_bloc/flutter_bloc.dart';"},{"type":"INSERT","lineNumber":3,"content":"import '../bloc/search_bloc.dart';"},{"type":"INSERT","lineNumber":4,"content":"import '../bloc/search_event.dart';"},{"type":"INSERT","lineNumber":5,"content":"import '../bloc/search_state.dart';"},{"type":"DELETE","lineNumber":5,"oldContent":"import '../bloc/search_bloc.dart';"},{"type":"DELETE","lineNumber":7,"oldContent":"import '../bloc/search_event.dart';"},{"type":"DELETE","lineNumber":9,"oldContent":"import '../bloc/search_state.dart';"},{"type":"DELETE","lineNumber":16,"oldContent":"class _SearchScreenState extends State<SearchScreen> {"},{"type":"DELETE","lineNumber":18,"oldContent":"  final TextEditingController _locationController = TextEditingController();"},{"type":"DELETE","lineNumber":20,"oldContent":"  int _guests = 1;"},{"type":"INSERT","lineNumber":18,"content":"class _SearchScreenState extends State<SearchScreen> {"},{"type":"INSERT","lineNumber":19,"content":"  final TextEditingController _locationController = TextEditingController();"},{"type":"INSERT","lineNumber":22,"content":"  int _guests = 1;"},{"type":"DELETE","lineNumber":24,"oldContent":"    // Load lookups when screen opens"},{"type":"DELETE","lineNumber":26,"oldContent":"    context.read<SearchBloc>().add(const LoadLookupsEvent());"},{"type":"INSERT","lineNumber":27,"content":"    // Load lookups when screen opens"},{"type":"INSERT","lineNumber":28,"content":"    context.read<SearchBloc>().add(const LoadLookupsEvent());"},{"type":"INSERT","lineNumber":29,"content":"  }"},{"type":"INSERT","lineNumber":30,"content":""},{"type":"INSERT","lineNumber":31,"content":"  @override"},{"type":"INSERT","lineNumber":34,"content":"    super.dispose();"},{"type":"DELETE","lineNumber":32,"oldContent":"  }"},{"type":"DELETE","lineNumber":35,"oldContent":""},{"type":"DELETE","lineNumber":36,"oldContent":"  @override"},{"type":"DELETE","lineNumber":37,"oldContent":"    super.dispose();"},{"type":"INSERT","lineNumber":38,"content":"  Widget build(BuildContext context) {"},{"type":"INSERT","lineNumber":39,"content":"    return Scaffold("},{"type":"INSERT","lineNumber":40,"content":"      appBar: AppBar("},{"type":"DELETE","lineNumber":40,"oldContent":"  Widget build(BuildContext context) {"},{"type":"DELETE","lineNumber":43,"oldContent":"    return Scaffold("},{"type":"INSERT","lineNumber":45,"content":"        backgroundColor: Colors.white,"},{"type":"INSERT","lineNumber":46,"content":"        elevation: 0,"},{"type":"DELETE","lineNumber":45,"oldContent":"      appBar: AppBar("},{"type":"DELETE","lineNumber":47,"oldContent":"        backgroundColor: Colors.white,"},{"type":"INSERT","lineNumber":49,"content":"      body: BlocBuilder<SearchBloc, SearchState>("},{"type":"DELETE","lineNumber":49,"oldContent":"        elevation: 0,"},{"type":"INSERT","lineNumber":52,"content":"            padding: EdgeInsets.all(16.w),"},{"type":"INSERT","lineNumber":53,"content":"            child: Column("},{"type":"DELETE","lineNumber":53,"oldContent":"      body: BlocBuilder<SearchBloc, SearchState>("},{"type":"INSERT","lineNumber":56,"content":"                _buildLocationField(),"},{"type":"INSERT","lineNumber":57,"content":"                SizedBox(height: 16.h),"},{"type":"DELETE","lineNumber":55,"oldContent":"            padding: EdgeInsets.all(16.w),"},{"type":"INSERT","lineNumber":59,"content":"                SizedBox(height: 16.h),"},{"type":"DELETE","lineNumber":58,"oldContent":"            child: Column("},{"type":"INSERT","lineNumber":62,"content":"                _buildSearchButton(),"},{"type":"DELETE","lineNumber":62,"oldContent":"                _buildLocationField(),"},{"type":"INSERT","lineNumber":66,"content":"              ],"},{"type":"DELETE","lineNumber":64,"oldContent":"                SizedBox(height: 16.h),"},{"type":"INSERT","lineNumber":68,"content":"          );"},{"type":"INSERT","lineNumber":69,"content":"        },"},{"type":"INSERT","lineNumber":70,"content":"      ),"},{"type":"INSERT","lineNumber":71,"content":"    );"},{"type":"INSERT","lineNumber":72,"content":"  }"},{"type":"INSERT","lineNumber":73,"content":""},{"type":"DELETE","lineNumber":69,"oldContent":"                SizedBox(height: 16.h),"},{"type":"INSERT","lineNumber":96,"content":"          ),"},{"type":"INSERT","lineNumber":97,"content":"        ),"},{"type":"DELETE","lineNumber":89,"oldContent":"                _buildSearchButton(),"},{"type":"INSERT","lineNumber":99,"content":"    );"},{"type":"INSERT","lineNumber":100,"content":"  }"},{"type":"DELETE","lineNumber":92,"oldContent":"              ],"},{"type":"DELETE","lineNumber":96,"oldContent":"          );"},{"type":"DELETE","lineNumber":99,"oldContent":"        },"},{"type":"DELETE","lineNumber":102,"oldContent":"      ),"},{"type":"DELETE","lineNumber":105,"oldContent":"    );"},{"type":"DELETE","lineNumber":108,"oldContent":"  }"},{"type":"DELETE","lineNumber":111,"oldContent":""},{"type":"DELETE","lineNumber":118,"oldContent":"          ),"},{"type":"INSERT","lineNumber":122,"content":"  Widget _buildDateField(String label, DateTime? date, bool isCheckIn) {"},{"type":"INSERT","lineNumber":123,"content":"    return GestureDetector("},{"type":"INSERT","lineNumber":124,"content":"      onTap: () => _selectDate(isCheckIn),"},{"type":"INSERT","lineNumber":125,"content":"      child: Container("},{"type":"INSERT","lineNumber":127,"content":"        decoration: BoxDecoration("},{"type":"INSERT","lineNumber":128,"content":"          border: Border.all(color: Colors.grey[300]!),"},{"type":"DELETE","lineNumber":123,"oldContent":"    );"},{"type":"DELETE","lineNumber":125,"oldContent":"  }"},{"type":"DELETE","lineNumber":126,"oldContent":"  Widget _buildDateField(String label, DateTime? date, bool isCheckIn) {"},{"type":"INSERT","lineNumber":133,"content":"          children: ["},{"type":"DELETE","lineNumber":128,"oldContent":"    return GestureDetector("},{"type":"DELETE","lineNumber":130,"oldContent":"      onTap: () => _selectDate(isCheckIn),"},{"type":"DELETE","lineNumber":132,"oldContent":"      child: Container("},{"type":"INSERT","lineNumber":137,"content":"            ),"},{"type":"DELETE","lineNumber":134,"oldContent":"        decoration: BoxDecoration("},{"type":"DELETE","lineNumber":138,"oldContent":"          border: Border.all(color: Colors.grey[300]!),"},{"type":"DELETE","lineNumber":140,"oldContent":"        ),"},{"type":"DELETE","lineNumber":143,"oldContent":"          children: ["},{"type":"INSERT","lineNumber":145,"content":"              ),"},{"type":"DELETE","lineNumber":145,"oldContent":"            ),"},{"type":"INSERT","lineNumber":147,"content":"          ],"},{"type":"INSERT","lineNumber":148,"content":"        ),"},{"type":"INSERT","lineNumber":149,"content":"      ),"},{"type":"INSERT","lineNumber":150,"content":"    );"},{"type":"INSERT","lineNumber":151,"content":"  }"},{"type":"INSERT","lineNumber":152,"content":""},{"type":"INSERT","lineNumber":160,"content":"        ),"},{"type":"INSERT","lineNumber":167,"content":"          ),"},{"type":"DELETE","lineNumber":166,"oldContent":"              ),"},{"type":"DELETE","lineNumber":168,"oldContent":"          ],"},{"type":"DELETE","lineNumber":170,"oldContent":"        ),"},{"type":"DELETE","lineNumber":172,"oldContent":"      ),"},{"type":"DELETE","lineNumber":174,"oldContent":"    );"},{"type":"DELETE","lineNumber":176,"oldContent":"  }"},{"type":"DELETE","lineNumber":178,"oldContent":""},{"type":"INSERT","lineNumber":181,"content":"                  ),"},{"type":"INSERT","lineNumber":186,"content":"                  ),"},{"type":"INSERT","lineNumber":190,"content":"          ),"},{"type":"INSERT","lineNumber":193,"content":"    );"},{"type":"INSERT","lineNumber":194,"content":"  }"},{"type":"INSERT","lineNumber":196,"content":"  Widget _buildSearchButton() {"},{"type":"INSERT","lineNumber":197,"content":"    return SizedBox("},{"type":"INSERT","lineNumber":198,"content":"      width: double.infinity,"},{"type":"INSERT","lineNumber":199,"content":"      height: 50.h,"},{"type":"INSERT","lineNumber":200,"content":"      child: ElevatedButton("},{"type":"DELETE","lineNumber":190,"oldContent":"        ),"},{"type":"INSERT","lineNumber":202,"content":"        style: ElevatedButton.styleFrom("},{"type":"INSERT","lineNumber":203,"content":"          backgroundColor: AppColors.primary,"},{"type":"INSERT","lineNumber":204,"content":"          shape: RoundedRectangleBorder("},{"type":"INSERT","lineNumber":205,"content":"            borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":207,"content":"        ),"},{"type":"INSERT","lineNumber":213,"content":"    );"},{"type":"DELETE","lineNumber":211,"oldContent":"          ),"},{"type":"INSERT","lineNumber":260,"content":"    if (picked != null) {"},{"type":"INSERT","lineNumber":261,"content":"      setState(() {"},{"type":"INSERT","lineNumber":262,"content":"        if (isCheckIn) {"},{"type":"INSERT","lineNumber":263,"content":"          _checkIn = picked;"},{"type":"INSERT","lineNumber":268,"content":"        } else {"},{"type":"INSERT","lineNumber":269,"content":"          _checkOut = picked;"},{"type":"INSERT","lineNumber":270,"content":"        }"},{"type":"INSERT","lineNumber":271,"content":"      });"},{"type":"INSERT","lineNumber":272,"content":"    }"},{"type":"INSERT","lineNumber":273,"content":"  }"},{"type":"INSERT","lineNumber":274,"content":""},{"type":"DELETE","lineNumber":251,"oldContent":"                  ),"},{"type":"INSERT","lineNumber":283,"content":""},{"type":"DELETE","lineNumber":267,"oldContent":"    context.read<SearchBloc>().add(SaveRecentSearchEvent(recentSearch: recentSearch));"},{"type":"DELETE","lineNumber":268,"oldContent":"    // Create search filter and navigate to results"},{"type":"DELETE","lineNumber":269,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":270,"oldContent":"          ),"},{"type":"DELETE","lineNumber":271,"oldContent":"    );"},{"type":"DELETE","lineNumber":272,"oldContent":"  }"},{"type":"DELETE","lineNumber":273,"oldContent":"  Widget _buildSearchButton() {"},{"type":"DELETE","lineNumber":274,"oldContent":"    return SizedBox("},{"type":"DELETE","lineNumber":275,"oldContent":"      width: double.infinity,"},{"type":"DELETE","lineNumber":276,"oldContent":"      height: 50.h,"},{"type":"DELETE","lineNumber":277,"oldContent":"      child: ElevatedButton("},{"type":"DELETE","lineNumber":278,"oldContent":"        style: ElevatedButton.styleFrom("},{"type":"DELETE","lineNumber":279,"oldContent":"          backgroundColor: AppColors.primary,"},{"type":"DELETE","lineNumber":280,"oldContent":"          shape: RoundedRectangleBorder("},{"type":"DELETE","lineNumber":281,"oldContent":"            borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":282,"oldContent":"        ),"},{"type":"DELETE","lineNumber":283,"oldContent":"    );"},{"type":"DELETE","lineNumber":284,"oldContent":"    if (picked != null) {"},{"type":"DELETE","lineNumber":285,"oldContent":"      setState(() {"},{"type":"DELETE","lineNumber":286,"oldContent":"        if (isCheckIn) {"},{"type":"DELETE","lineNumber":287,"oldContent":"          _checkIn = picked;"},{"type":"DELETE","lineNumber":288,"oldContent":"        } else {"},{"type":"DELETE","lineNumber":289,"oldContent":"          _checkOut = picked;"},{"type":"DELETE","lineNumber":290,"oldContent":"        }"},{"type":"DELETE","lineNumber":291,"oldContent":"      });"},{"type":"DELETE","lineNumber":292,"oldContent":"    }"},{"type":"DELETE","lineNumber":293,"oldContent":"  }"},{"type":"INSERT","lineNumber":294,"content":"    context.read<SearchBloc>().add(SaveRecentSearchEvent(searchData: {"},{"type":"INSERT","lineNumber":295,"content":"      'location': recentSearch.location,"},{"type":"INSERT","lineNumber":296,"content":"      'checkIn': recentSearch.checkIn?.toIso8601String(),"},{"type":"INSERT","lineNumber":297,"content":"      'checkOut': recentSearch.checkOut?.toIso8601String(),"},{"type":"INSERT","lineNumber":298,"content":"      'guests': recentSearch.guests,"},{"type":"INSERT","lineNumber":299,"content":"      'timestamp': recentSearch.timestamp.toIso8601String(),"},{"type":"INSERT","lineNumber":300,"content":"    }));"},{"type":"DELETE","lineNumber":295,"oldContent":""},{"type":"DELETE","lineNumber":296,"oldContent":""},{"type":"INSERT","lineNumber":302,"content":"    // Create search filter and navigate to results"}]},{"timestamp":1758297450008,"changes":[{"type":"INSERT","lineNumber":1,"content":"import 'package:flutter_screenutil/flutter_screenutil.dart';"},{"type":"DELETE","lineNumber":2,"oldContent":"import 'package:flutter_bloc/flutter_bloc.dart';"},{"type":"DELETE","lineNumber":4,"oldContent":"import '../../data/models/search_filter.dart';"},{"type":"MODIFY","lineNumber":6,"content":"import '../../data/models/search_filter.dart';","oldContent":"import 'search_results_screen.dart';"},{"type":"INSERT","lineNumber":7,"content":"import 'search_results_screen.dart';"},{"type":"INSERT","lineNumber":17,"content":""},{"type":"DELETE","lineNumber":19,"oldContent":""},{"type":"MODIFY","lineNumber":22,"content":"  int _guests = 1;","oldContent":"  int _guests = 1;"},{"type":"DELETE","lineNumber":25,"oldContent":"    // Load lookups when screen opens"},{"type":"MODIFY","lineNumber":27,"content":"    // Load lookups when screen opens","oldContent":"    context.read<SearchBloc>().add(const LoadLookupsEvent());"},{"type":"INSERT","lineNumber":28,"content":"    context.read<SearchBloc>().add(const LoadLookupsEvent());"},{"type":"DELETE","lineNumber":30,"oldContent":"  void dispose() {"},{"type":"MODIFY","lineNumber":32,"content":"  void dispose() {","oldContent":"    _locationController.dispose();"},{"type":"INSERT","lineNumber":33,"content":"    _locationController.dispose();"},{"type":"INSERT","lineNumber":34,"content":"    super.dispose();"},{"type":"DELETE","lineNumber":36,"oldContent":"    super.dispose();"},{"type":"DELETE","lineNumber":39,"oldContent":"        title: Text("},{"type":"MODIFY","lineNumber":41,"content":"        title: Text(","oldContent":"          'Search Properties',"},{"type":"INSERT","lineNumber":42,"content":"          'Search Properties',"},{"type":"DELETE","lineNumber":45,"oldContent":"        iconTheme: const IconThemeData(color: AppColors.textPrimary),"},{"type":"INSERT","lineNumber":47,"content":"        iconTheme: const IconThemeData(color: AppColors.textPrimary),"},{"type":"MODIFY","lineNumber":50,"content":"        builder: (context, state) {","oldContent":"        builder: (context, state) {"},{"type":"DELETE","lineNumber":52,"oldContent":"              crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":54,"oldContent":"              children: ["},{"type":"DELETE","lineNumber":56,"oldContent":"                _buildDateSection(),"},{"type":"INSERT","lineNumber":54,"content":"              crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":55,"content":"              children: ["},{"type":"DELETE","lineNumber":58,"oldContent":"                _buildGuestsSection(),"},{"type":"DELETE","lineNumber":60,"oldContent":"                SizedBox(height: 32.h),"},{"type":"INSERT","lineNumber":58,"content":"                _buildDateSection(),"},{"type":"INSERT","lineNumber":60,"content":"                _buildGuestsSection(),"},{"type":"INSERT","lineNumber":61,"content":"                SizedBox(height: 32.h),"},{"type":"INSERT","lineNumber":62,"content":"                _buildSearchButton(),"},{"type":"DELETE","lineNumber":65,"oldContent":"                _buildSearchButton(),"},{"type":"INSERT","lineNumber":66,"content":"              ],"},{"type":"INSERT","lineNumber":68,"content":"          );"},{"type":"INSERT","lineNumber":69,"content":"        },"},{"type":"INSERT","lineNumber":70,"content":"      ),"},{"type":"INSERT","lineNumber":71,"content":"    );"},{"type":"INSERT","lineNumber":72,"content":"  }"},{"type":"INSERT","lineNumber":73,"content":""},{"type":"DELETE","lineNumber":68,"oldContent":"              ],"},{"type":"DELETE","lineNumber":71,"oldContent":"          );"},{"type":"DELETE","lineNumber":73,"oldContent":"        },"},{"type":"DELETE","lineNumber":74,"oldContent":"      ),"},{"type":"DELETE","lineNumber":76,"oldContent":"    );"},{"type":"DELETE","lineNumber":78,"oldContent":"  }"},{"type":"DELETE","lineNumber":80,"oldContent":""},{"type":"INSERT","lineNumber":96,"content":"          ),"},{"type":"INSERT","lineNumber":97,"content":"        ),"},{"type":"INSERT","lineNumber":99,"content":"    );"},{"type":"INSERT","lineNumber":100,"content":"  }"},{"type":"DELETE","lineNumber":102,"oldContent":"          ),"},{"type":"DELETE","lineNumber":103,"oldContent":"        ),"},{"type":"DELETE","lineNumber":106,"oldContent":"    );"},{"type":"DELETE","lineNumber":107,"oldContent":"  }"},{"type":"DELETE","lineNumber":122,"oldContent":"        padding: EdgeInsets.all(12.w),"},{"type":"DELETE","lineNumber":123,"oldContent":"          borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":124,"oldContent":"        ),"},{"type":"DELETE","lineNumber":126,"oldContent":"        child: Column("},{"type":"DELETE","lineNumber":129,"oldContent":"          crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":126,"content":"        padding: EdgeInsets.all(12.w),"},{"type":"DELETE","lineNumber":132,"oldContent":"            Text("},{"type":"INSERT","lineNumber":129,"content":"          borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":130,"content":"        ),"},{"type":"INSERT","lineNumber":131,"content":"        child: Column("},{"type":"INSERT","lineNumber":132,"content":"          crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":133,"content":"          children: ["},{"type":"INSERT","lineNumber":134,"content":"            Text("},{"type":"DELETE","lineNumber":136,"oldContent":"          children: ["},{"type":"INSERT","lineNumber":137,"content":"            ),"},{"type":"DELETE","lineNumber":140,"oldContent":"            ),"},{"type":"DELETE","lineNumber":145,"oldContent":"            ),"},{"type":"DELETE","lineNumber":147,"oldContent":"  Widget _buildGuestsSection() {"},{"type":"INSERT","lineNumber":146,"content":"            ),"},{"type":"DELETE","lineNumber":149,"oldContent":"    return Column("},{"type":"DELETE","lineNumber":151,"oldContent":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":153,"oldContent":"      children: ["},{"type":"DELETE","lineNumber":155,"oldContent":"        Text("},{"type":"DELETE","lineNumber":157,"oldContent":"          'How many guests?',"},{"type":"INSERT","lineNumber":153,"content":"  Widget _buildGuestsSection() {"},{"type":"INSERT","lineNumber":154,"content":"    return Column("},{"type":"INSERT","lineNumber":155,"content":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":156,"content":"      children: ["},{"type":"INSERT","lineNumber":157,"content":"        Text("},{"type":"INSERT","lineNumber":158,"content":"          'How many guests?',"},{"type":"INSERT","lineNumber":160,"content":"        ),"},{"type":"INSERT","lineNumber":167,"content":"          ),"},{"type":"DELETE","lineNumber":167,"oldContent":"        ),"},{"type":"DELETE","lineNumber":174,"oldContent":"          ),"},{"type":"INSERT","lineNumber":181,"content":"                  ),"},{"type":"DELETE","lineNumber":183,"oldContent":"                  ),"},{"type":"INSERT","lineNumber":186,"content":"                  ),"},{"type":"MODIFY","lineNumber":190,"content":"          ),","oldContent":"                  ),"},{"type":"INSERT","lineNumber":193,"content":"    );"},{"type":"INSERT","lineNumber":194,"content":"  }"},{"type":"INSERT","lineNumber":196,"content":"  Widget _buildSearchButton() {"},{"type":"INSERT","lineNumber":197,"content":"    return SizedBox("},{"type":"INSERT","lineNumber":198,"content":"      width: double.infinity,"},{"type":"INSERT","lineNumber":199,"content":"      height: 50.h,"},{"type":"INSERT","lineNumber":200,"content":"      child: ElevatedButton("},{"type":"INSERT","lineNumber":202,"content":"        style: ElevatedButton.styleFrom("},{"type":"INSERT","lineNumber":203,"content":"          backgroundColor: AppColors.primary,"},{"type":"INSERT","lineNumber":204,"content":"          shape: RoundedRectangleBorder("},{"type":"INSERT","lineNumber":205,"content":"            borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":195,"oldContent":"          ),"},{"type":"INSERT","lineNumber":207,"content":"        ),"},{"type":"DELETE","lineNumber":197,"oldContent":"    );"},{"type":"DELETE","lineNumber":199,"oldContent":"  }"},{"type":"DELETE","lineNumber":202,"oldContent":"  Widget _buildSearchButton() {"},{"type":"DELETE","lineNumber":204,"oldContent":"    return SizedBox("},{"type":"INSERT","lineNumber":213,"content":"    );"},{"type":"DELETE","lineNumber":206,"oldContent":"      width: double.infinity,"},{"type":"DELETE","lineNumber":208,"oldContent":"      height: 50.h,"},{"type":"DELETE","lineNumber":210,"oldContent":"      child: ElevatedButton("},{"type":"DELETE","lineNumber":213,"oldContent":"        style: ElevatedButton.styleFrom("},{"type":"DELETE","lineNumber":215,"oldContent":"          backgroundColor: AppColors.primary,"},{"type":"DELETE","lineNumber":217,"oldContent":"          shape: RoundedRectangleBorder("},{"type":"DELETE","lineNumber":219,"oldContent":"            borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":222,"oldContent":"        ),"},{"type":"DELETE","lineNumber":228,"oldContent":"    );"},{"type":"INSERT","lineNumber":260,"content":"    if (picked != null) {"},{"type":"INSERT","lineNumber":261,"content":"      setState(() {"},{"type":"INSERT","lineNumber":262,"content":"        if (isCheckIn) {"},{"type":"INSERT","lineNumber":263,"content":"          _checkIn = picked;"},{"type":"INSERT","lineNumber":268,"content":"        } else {"},{"type":"INSERT","lineNumber":269,"content":"          _checkOut = picked;"},{"type":"INSERT","lineNumber":270,"content":"        }"},{"type":"INSERT","lineNumber":271,"content":"      });"},{"type":"INSERT","lineNumber":272,"content":"    }"},{"type":"INSERT","lineNumber":273,"content":"  }"},{"type":"INSERT","lineNumber":274,"content":""},{"type":"INSERT","lineNumber":283,"content":""},{"type":"DELETE","lineNumber":275,"oldContent":"    if (picked != null) {"},{"type":"DELETE","lineNumber":277,"oldContent":"      setState(() {"},{"type":"DELETE","lineNumber":279,"oldContent":"        if (isCheckIn) {"},{"type":"DELETE","lineNumber":281,"oldContent":"          _checkIn = picked;"},{"type":"DELETE","lineNumber":286,"oldContent":"        } else {"},{"type":"DELETE","lineNumber":287,"oldContent":"          _checkOut = picked;"},{"type":"DELETE","lineNumber":288,"oldContent":"        }"},{"type":"DELETE","lineNumber":289,"oldContent":"      });"},{"type":"DELETE","lineNumber":290,"oldContent":"    }"},{"type":"DELETE","lineNumber":291,"oldContent":"  }"},{"type":"INSERT","lineNumber":294,"content":"    context.read<SearchBloc>().add(SaveRecentSearchEvent("},{"type":"INSERT","lineNumber":295,"content":"      location: recentSearch.location,"},{"type":"INSERT","lineNumber":296,"content":"      checkIn: recentSearch.checkIn,"},{"type":"INSERT","lineNumber":297,"content":"      checkOut: recentSearch.checkOut,"},{"type":"INSERT","lineNumber":298,"content":"      guests: recentSearch.guests,"},{"type":"INSERT","lineNumber":299,"content":"    ));"},{"type":"DELETE","lineNumber":293,"oldContent":""},{"type":"DELETE","lineNumber":294,"oldContent":"    context.read<SearchBloc>().add(SaveRecentSearchEvent(searchData: {"},{"type":"DELETE","lineNumber":295,"oldContent":""},{"type":"DELETE","lineNumber":296,"oldContent":"      'location': recentSearch.location,"},{"type":"DELETE","lineNumber":297,"oldContent":"      'checkIn': recentSearch.checkIn?.toIso8601String(),"},{"type":"DELETE","lineNumber":298,"oldContent":"      'checkOut': recentSearch.checkOut?.toIso8601String(),"},{"type":"INSERT","lineNumber":301,"content":"    // Create search filter and navigate to results"},{"type":"DELETE","lineNumber":300,"oldContent":"      'guests': recentSearch.guests,"},{"type":"DELETE","lineNumber":302,"oldContent":"      'timestamp': recentSearch.timestamp.toIso8601String(),"},{"type":"DELETE","lineNumber":304,"oldContent":"    }));"},{"type":"DELETE","lineNumber":307,"oldContent":"    // Create search filter and navigate to results"}]},{"timestamp":1758297547950,"changes":[{"type":"INSERT","lineNumber":5,"content":"import '../bloc/search_state.dart';"},{"type":"DELETE","lineNumber":7,"oldContent":"import '../bloc/search_state.dart';"},{"type":"INSERT","lineNumber":21,"content":"  DateTime? _checkOut;"},{"type":"DELETE","lineNumber":22,"oldContent":"  int _guests = 1;"},{"type":"INSERT","lineNumber":26,"content":"    super.initState();"},{"type":"DELETE","lineNumber":28,"oldContent":"    super.initState();"},{"type":"INSERT","lineNumber":31,"content":"  @override"},{"type":"DELETE","lineNumber":33,"oldContent":"  @override"},{"type":"INSERT","lineNumber":40,"content":"      appBar: AppBar("},{"type":"DELETE","lineNumber":42,"oldContent":"      appBar: AppBar("},{"type":"MODIFY","lineNumber":47,"content":"        iconTheme: const IconThemeData(color: AppColors.textPrimary),","oldContent":"        iconTheme: const IconThemeData(color: AppColors.textPrimary),"},{"type":"INSERT","lineNumber":49,"content":"      body: BlocBuilder<SearchBloc, SearchState>("},{"type":"DELETE","lineNumber":50,"oldContent":"        builder: (context, state) {"},{"type":"INSERT","lineNumber":53,"content":"            child: Column("},{"type":"DELETE","lineNumber":55,"oldContent":"            child: Column("},{"type":"INSERT","lineNumber":57,"content":"                SizedBox(height: 16.h),"},{"type":"DELETE","lineNumber":61,"oldContent":"                SizedBox(height: 16.h),"},{"type":"DELETE","lineNumber":68,"oldContent":"  Widget _buildLocationField() {"},{"type":"DELETE","lineNumber":71,"oldContent":"    return Column("},{"type":"DELETE","lineNumber":73,"oldContent":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":76,"oldContent":"      children: ["},{"type":"INSERT","lineNumber":74,"content":"  Widget _buildLocationField() {"},{"type":"INSERT","lineNumber":75,"content":"    return Column("},{"type":"INSERT","lineNumber":76,"content":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":77,"content":"      children: ["},{"type":"MODIFY","lineNumber":98,"content":"      ],","oldContent":"      ],"},{"type":"INSERT","lineNumber":99,"content":"    );"},{"type":"INSERT","lineNumber":100,"content":"  }"},{"type":"DELETE","lineNumber":101,"oldContent":"    );"},{"type":"DELETE","lineNumber":103,"oldContent":"  }"},{"type":"DELETE","lineNumber":123,"oldContent":"        padding: EdgeInsets.all(12.w),"},{"type":"INSERT","lineNumber":125,"content":"      child: Container("},{"type":"INSERT","lineNumber":126,"content":"        padding: EdgeInsets.all(12.w),"},{"type":"INSERT","lineNumber":127,"content":"        decoration: BoxDecoration("},{"type":"INSERT","lineNumber":128,"content":"          border: Border.all(color: Colors.grey[300]!),"},{"type":"DELETE","lineNumber":128,"oldContent":"      child: Container("},{"type":"DELETE","lineNumber":130,"oldContent":"        decoration: BoxDecoration("},{"type":"DELETE","lineNumber":133,"oldContent":"          border: Border.all(color: Colors.grey[300]!),"},{"type":"MODIFY","lineNumber":146,"content":"            ),","oldContent":"            ),"},{"type":"INSERT","lineNumber":150,"content":"    );"},{"type":"INSERT","lineNumber":151,"content":"  }"},{"type":"INSERT","lineNumber":152,"content":""},{"type":"DELETE","lineNumber":152,"oldContent":"    );"},{"type":"DELETE","lineNumber":155,"oldContent":"  }"},{"type":"DELETE","lineNumber":158,"oldContent":""},{"type":"MODIFY","lineNumber":168,"content":"          child: Row(","oldContent":"          child: Row("},{"type":"MODIFY","lineNumber":191,"content":"        ),","oldContent":"                  ),"},{"type":"DELETE","lineNumber":193,"oldContent":""},{"type":"DELETE","lineNumber":195,"oldContent":"        onPressed: _onSearchButtonPressed,"},{"type":"DELETE","lineNumber":197,"oldContent":"          ),"},{"type":"INSERT","lineNumber":195,"content":""},{"type":"DELETE","lineNumber":199,"oldContent":"        child: Text("},{"type":"DELETE","lineNumber":202,"oldContent":"          'Search Properties',"},{"type":"DELETE","lineNumber":205,"oldContent":"          style: AppTextStyles.h5.copyWith(color: Colors.white),"},{"type":"DELETE","lineNumber":206,"oldContent":"        ),"},{"type":"INSERT","lineNumber":201,"content":"        onPressed: _onSearchButtonPressed,"},{"type":"DELETE","lineNumber":209,"oldContent":"      ),"},{"type":"DELETE","lineNumber":212,"oldContent":"  }"},{"type":"INSERT","lineNumber":206,"content":"          ),"},{"type":"INSERT","lineNumber":208,"content":"        child: Text("},{"type":"INSERT","lineNumber":209,"content":"          'Search Properties',"},{"type":"INSERT","lineNumber":210,"content":"          style: AppTextStyles.h5.copyWith(color: Colors.white),"},{"type":"INSERT","lineNumber":211,"content":"        ),"},{"type":"INSERT","lineNumber":212,"content":"      ),"},{"type":"INSERT","lineNumber":213,"content":"    );"},{"type":"INSERT","lineNumber":214,"content":"  }"},{"type":"DELETE","lineNumber":218,"oldContent":"    );"},{"type":"DELETE","lineNumber":261,"oldContent":"          // Adjust check-out if it's before check-in"},{"type":"DELETE","lineNumber":263,"oldContent":"          if (_checkOut != null && _checkOut!.isBefore(picked)) {"},{"type":"DELETE","lineNumber":265,"oldContent":"            _checkOut = picked.add(const Duration(days: 1));"},{"type":"INSERT","lineNumber":264,"content":"          // Adjust check-out if it's before check-in"},{"type":"INSERT","lineNumber":265,"content":"          if (_checkOut != null && _checkOut!.isBefore(picked)) {"},{"type":"INSERT","lineNumber":266,"content":"            _checkOut = picked.add(const Duration(days: 1));"},{"type":"INSERT","lineNumber":268,"content":"        } else {"},{"type":"INSERT","lineNumber":269,"content":"          _checkOut = picked;"},{"type":"INSERT","lineNumber":270,"content":"        }"},{"type":"INSERT","lineNumber":271,"content":"      });"},{"type":"INSERT","lineNumber":272,"content":"    }"},{"type":"INSERT","lineNumber":273,"content":"  }"},{"type":"INSERT","lineNumber":274,"content":""},{"type":"DELETE","lineNumber":272,"oldContent":"        } else {"},{"type":"DELETE","lineNumber":274,"oldContent":"          _checkOut = picked;"},{"type":"DELETE","lineNumber":276,"oldContent":"        }"},{"type":"DELETE","lineNumber":278,"oldContent":"      });"},{"type":"DELETE","lineNumber":280,"oldContent":"    }"},{"type":"INSERT","lineNumber":283,"content":""},{"type":"DELETE","lineNumber":282,"oldContent":"  }"},{"type":"DELETE","lineNumber":284,"oldContent":""},{"type":"DELETE","lineNumber":290,"oldContent":""},{"type":"DELETE","lineNumber":294,"oldContent":""},{"type":"DELETE","lineNumber":301,"oldContent":"    final filter = SearchFilter("},{"type":"INSERT","lineNumber":300,"content":""},{"type":"INSERT","lineNumber":302,"content":"    final filter = SearchFilter("}]},{"timestamp":1758449799442,"changes":[{"type":"INSERT","lineNumber":8,"content":"import 'filter_screen.dart';"},{"type":"MODIFY","lineNumber":43,"content":"          'Search',","oldContent":"          'Search Properties',"},{"type":"INSERT","lineNumber":47,"content":"        elevation: 0,"},{"type":"DELETE","lineNumber":47,"oldContent":"        iconTheme: const IconThemeData(color: AppColors.textPrimary),"},{"type":"INSERT","lineNumber":49,"content":"        centerTitle: true,"},{"type":"INSERT","lineNumber":51,"content":"      backgroundColor: Colors.white,"},{"type":"DELETE","lineNumber":51,"oldContent":"          return SingleChildScrollView("},{"type":"DELETE","lineNumber":52,"oldContent":"            padding: EdgeInsets.all(16.w),"},{"type":"DELETE","lineNumber":53,"oldContent":"            child: Column("},{"type":"DELETE","lineNumber":54,"oldContent":"              crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":55,"oldContent":"              children: ["},{"type":"DELETE","lineNumber":56,"oldContent":"                _buildLocationField(),"},{"type":"DELETE","lineNumber":57,"oldContent":"                SizedBox(height: 16.h),"},{"type":"DELETE","lineNumber":58,"oldContent":"                _buildDateSection(),"},{"type":"DELETE","lineNumber":59,"oldContent":"                SizedBox(height: 16.h),"},{"type":"DELETE","lineNumber":60,"oldContent":"                _buildGuestsSection(),"},{"type":"DELETE","lineNumber":61,"oldContent":"                SizedBox(height: 32.h),"},{"type":"DELETE","lineNumber":62,"oldContent":"                _buildSearchButton(),"},{"type":"DELETE","lineNumber":63,"oldContent":"                SizedBox(height: 24.h),"},{"type":"DELETE","lineNumber":64,"oldContent":"                if (state is LookupsLoaded && state.recentSearches.isNotEmpty)"},{"type":"DELETE","lineNumber":65,"oldContent":"                  _buildRecentSearches(state.recentSearches),"},{"type":"DELETE","lineNumber":66,"oldContent":"              ],"},{"type":"DELETE","lineNumber":67,"oldContent":"            ),"},{"type":"INSERT","lineNumber":54,"content":"          return Column("},{"type":"INSERT","lineNumber":55,"content":"            children: ["},{"type":"INSERT","lineNumber":56,"content":"              Expanded("},{"type":"INSERT","lineNumber":57,"content":"                child: SingleChildScrollView("},{"type":"INSERT","lineNumber":58,"content":"                  padding: EdgeInsets.all(24.w),"},{"type":"INSERT","lineNumber":59,"content":"                  child: Column("},{"type":"INSERT","lineNumber":60,"content":"                    crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":61,"content":"                    children: ["},{"type":"INSERT","lineNumber":62,"content":"                      _buildSearchCard(),"},{"type":"INSERT","lineNumber":63,"content":"                      SizedBox(height: 32.h),"},{"type":"INSERT","lineNumber":64,"content":"                      if (state is LookupsLoaded && state.recentSearches.isNotEmpty)"},{"type":"INSERT","lineNumber":65,"content":"                        _buildRecentSearches(state.recentSearches),"},{"type":"INSERT","lineNumber":66,"content":"                    ],"},{"type":"INSERT","lineNumber":67,"content":"                  ),"},{"type":"INSERT","lineNumber":68,"content":"                ),"},{"type":"INSERT","lineNumber":69,"content":"              ),"},{"type":"INSERT","lineNumber":70,"content":"              _buildSearchButton(),"},{"type":"INSERT","lineNumber":71,"content":"            ],"},{"type":"DELETE","lineNumber":71,"oldContent":"  Widget _buildLocationField() {"},{"type":"DELETE","lineNumber":73,"oldContent":"    return Column("},{"type":"INSERT","lineNumber":77,"content":""},{"type":"INSERT","lineNumber":78,"content":"  Widget _buildSearchCard() {"},{"type":"INSERT","lineNumber":79,"content":"    return Container("},{"type":"INSERT","lineNumber":80,"content":"      padding: EdgeInsets.all(24.w),"},{"type":"INSERT","lineNumber":81,"content":"      decoration: BoxDecoration("},{"type":"INSERT","lineNumber":82,"content":"        color: Colors.white,"},{"type":"INSERT","lineNumber":83,"content":"        borderRadius: BorderRadius.circular(16.r),"},{"type":"INSERT","lineNumber":84,"content":"        boxShadow: ["},{"type":"INSERT","lineNumber":85,"content":"          BoxShadow("},{"type":"INSERT","lineNumber":86,"content":"            color: Colors.grey.withOpacity(0.1),"},{"type":"INSERT","lineNumber":87,"content":"            spreadRadius: 0,"},{"type":"INSERT","lineNumber":88,"content":"            blurRadius: 20,"},{"type":"INSERT","lineNumber":89,"content":"            offset: const Offset(0, 4),"},{"type":"INSERT","lineNumber":90,"content":"          ),],"},{"type":"INSERT","lineNumber":91,"content":"      ),"},{"type":"INSERT","lineNumber":92,"content":"      child: Column("},{"type":"INSERT","lineNumber":93,"content":"        crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":94,"content":"        children: ["},{"type":"INSERT","lineNumber":95,"content":"          _buildLocationField(),"},{"type":"INSERT","lineNumber":96,"content":"          SizedBox(height: 20.h),"},{"type":"INSERT","lineNumber":97,"content":"          _buildDateSection(),"},{"type":"INSERT","lineNumber":98,"content":"          SizedBox(height: 20.h),"},{"type":"INSERT","lineNumber":99,"content":"          _buildGuestsSection(),"},{"type":"INSERT","lineNumber":100,"content":"          SizedBox(height: 24.h),"},{"type":"INSERT","lineNumber":101,"content":"          Row("},{"type":"INSERT","lineNumber":102,"content":"            children: ["},{"type":"INSERT","lineNumber":103,"content":"              Expanded(child: SizedBox()),"},{"type":"INSERT","lineNumber":104,"content":"              _buildFilterButton(),"},{"type":"INSERT","lineNumber":105,"content":"            ],"},{"type":"INSERT","lineNumber":106,"content":"          ),"},{"type":"INSERT","lineNumber":107,"content":"        ],"},{"type":"INSERT","lineNumber":108,"content":"      ),"},{"type":"INSERT","lineNumber":109,"content":"    );"},{"type":"INSERT","lineNumber":110,"content":"  }"},{"type":"INSERT","lineNumber":111,"content":""},{"type":"INSERT","lineNumber":112,"content":"  Widget _buildLocationField() {"},{"type":"INSERT","lineNumber":113,"content":"    return Column("},{"type":"DELETE","lineNumber":77,"oldContent":""},{"type":"DELETE","lineNumber":78,"oldContent":"        Text("},{"type":"DELETE","lineNumber":79,"oldContent":"          'Where are you going?',"},{"type":"DELETE","lineNumber":80,"oldContent":"          style: AppTextStyles.h5.copyWith(color: AppColors.textPrimary),"},{"type":"DELETE","lineNumber":81,"oldContent":"        ),"},{"type":"DELETE","lineNumber":82,"oldContent":"        SizedBox(height: 8.h),"},{"type":"INSERT","lineNumber":119,"content":"            labelText: 'Where To?',"},{"type":"INSERT","lineNumber":120,"content":"            labelStyle: AppTextStyles.bodyMedium.copyWith(color: AppColors.textSecondary),"},{"type":"DELETE","lineNumber":87,"oldContent":"            prefixIcon: const Icon(Icons.location_on, color: AppColors.primary),"},{"type":"INSERT","lineNumber":122,"content":"            hintStyle: AppTextStyles.inputHint,"},{"type":"INSERT","lineNumber":123,"content":"            prefixIcon: Icon(Icons.location_on_outlined, color: AppColors.primary),"},{"type":"INSERT","lineNumber":124,"content":"            filled: true,"},{"type":"INSERT","lineNumber":125,"content":"            fillColor: AppColors.inputBackground,"},{"type":"DELETE","lineNumber":90,"oldContent":"              borderSide: BorderSide(color: Colors.grey[300]!),"},{"type":"INSERT","lineNumber":128,"content":"              borderSide: BorderSide.none,"},{"type":"DELETE","lineNumber":94,"oldContent":"              borderSide: const BorderSide(color: AppColors.primary),"},{"type":"INSERT","lineNumber":132,"content":"              borderSide: BorderSide(color: AppColors.primary),"},{"type":"INSERT","lineNumber":134,"content":"            contentPadding: EdgeInsets.symmetric(horizontal: 16.w, vertical: 14.h),"},{"type":"INSERT","lineNumber":136,"content":"        ),"},{"type":"DELETE","lineNumber":98,"oldContent":"      ],"},{"type":"DELETE","lineNumber":100,"oldContent":""},{"type":"INSERT","lineNumber":140,"content":""},{"type":"DELETE","lineNumber":103,"oldContent":"    return Column("},{"type":"DELETE","lineNumber":104,"oldContent":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":142,"content":"    return Row("},{"type":"DELETE","lineNumber":106,"oldContent":"        Text("},{"type":"DELETE","lineNumber":107,"oldContent":"          'When are you traveling?',"},{"type":"DELETE","lineNumber":108,"oldContent":"          style: AppTextStyles.h5.copyWith(color: AppColors.textPrimary),"},{"type":"DELETE","lineNumber":109,"oldContent":"        ),"},{"type":"DELETE","lineNumber":110,"oldContent":"        SizedBox(height: 8.h),"},{"type":"DELETE","lineNumber":111,"oldContent":"        Row("},{"type":"DELETE","lineNumber":112,"oldContent":"          children: ["},{"type":"DELETE","lineNumber":113,"oldContent":"            Expanded(child: _buildDateField('Check-in', _checkIn, true)),"},{"type":"DELETE","lineNumber":114,"oldContent":"            SizedBox(width: 12.w),"},{"type":"DELETE","lineNumber":115,"oldContent":"            Expanded(child: _buildDateField('Check-out', _checkOut, false)),"},{"type":"DELETE","lineNumber":116,"oldContent":"          ],"},{"type":"DELETE","lineNumber":117,"oldContent":"        ),"},{"type":"INSERT","lineNumber":144,"content":"        Expanded(child: _buildDateField('Check In', _checkIn, true)),"},{"type":"INSERT","lineNumber":145,"content":"        SizedBox(width: 16.w),"},{"type":"INSERT","lineNumber":146,"content":"        Expanded(child: _buildDateField('Check Out', _checkOut, false)),"},{"type":"DELETE","lineNumber":124,"oldContent":"      child: Container("},{"type":"DELETE","lineNumber":126,"oldContent":"        padding: EdgeInsets.all(12.w),"},{"type":"DELETE","lineNumber":127,"oldContent":"          borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":154,"content":"      child: Container("},{"type":"INSERT","lineNumber":155,"content":"        padding: EdgeInsets.symmetric(horizontal: 16.w, vertical: 14.h),"},{"type":"INSERT","lineNumber":157,"content":"          color: AppColors.inputBackground,"},{"type":"INSERT","lineNumber":158,"content":"          borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":159,"content":"          border: Border.all(color: Colors.transparent),"},{"type":"DELETE","lineNumber":130,"oldContent":"          border: Border.all(color: Colors.grey[300]!),"},{"type":"DELETE","lineNumber":131,"oldContent":"        child: Column("},{"type":"DELETE","lineNumber":132,"oldContent":"          crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":161,"content":"        child: Row("},{"type":"DELETE","lineNumber":134,"oldContent":"            Text("},{"type":"DELETE","lineNumber":135,"oldContent":"              label,"},{"type":"DELETE","lineNumber":136,"oldContent":"              style: AppTextStyles.bodySmall.copyWith(color: Colors.grey[600]),"},{"type":"INSERT","lineNumber":163,"content":"            Icon(Icons.calendar_today_outlined, color: AppColors.primary, size: 20.sp),"},{"type":"INSERT","lineNumber":164,"content":"            SizedBox(width: 12.w),"},{"type":"INSERT","lineNumber":165,"content":"            Expanded("},{"type":"INSERT","lineNumber":166,"content":"              child: Column("},{"type":"INSERT","lineNumber":167,"content":"                crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":168,"content":"                children: ["},{"type":"INSERT","lineNumber":169,"content":"                  Text("},{"type":"INSERT","lineNumber":170,"content":"                    label,"},{"type":"INSERT","lineNumber":171,"content":"                    style: AppTextStyles.bodySmall.copyWith(color: AppColors.textSecondary),"},{"type":"INSERT","lineNumber":172,"content":"                  ),"},{"type":"INSERT","lineNumber":173,"content":"                  SizedBox(height: 2.h),"},{"type":"INSERT","lineNumber":174,"content":"                  Text("},{"type":"INSERT","lineNumber":175,"content":"                    date != null"},{"type":"INSERT","lineNumber":176,"content":"                        ? '${date.day}/${date.month}/${date.year}'"},{"type":"INSERT","lineNumber":177,"content":"                        : '1/Sep/2024',"},{"type":"INSERT","lineNumber":178,"content":"                    style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":179,"content":"                      color: AppColors.textPrimary,"},{"type":"INSERT","lineNumber":180,"content":"                      fontWeight: FontWeight.w500,"},{"type":"INSERT","lineNumber":181,"content":"                    ),"},{"type":"INSERT","lineNumber":182,"content":"                  ),"},{"type":"INSERT","lineNumber":183,"content":"                ],"},{"type":"INSERT","lineNumber":184,"content":"              ),"},{"type":"DELETE","lineNumber":138,"oldContent":"            SizedBox(height: 4.h),"},{"type":"DELETE","lineNumber":139,"oldContent":"            Text("},{"type":"DELETE","lineNumber":140,"oldContent":"              date != null"},{"type":"DELETE","lineNumber":141,"oldContent":"                  ? '${date.day}/${date.month}/${date.year}'"},{"type":"DELETE","lineNumber":142,"oldContent":"                  : 'Select date',"},{"type":"DELETE","lineNumber":143,"oldContent":"              style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":144,"oldContent":"                color: date != null ? AppColors.textPrimary : Colors.grey[500],"},{"type":"DELETE","lineNumber":145,"oldContent":"            ),"},{"type":"DELETE","lineNumber":146,"oldContent":"            ),"},{"type":"DELETE","lineNumber":151,"oldContent":"  Widget _buildGuestsSection() {"},{"type":"DELETE","lineNumber":153,"oldContent":"    return Column("},{"type":"DELETE","lineNumber":155,"oldContent":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":156,"oldContent":"      children: ["},{"type":"DELETE","lineNumber":157,"oldContent":"        Text("},{"type":"DELETE","lineNumber":158,"oldContent":"          'How many guests?',"},{"type":"DELETE","lineNumber":159,"oldContent":"          style: AppTextStyles.h5.copyWith(color: AppColors.textPrimary),"},{"type":"DELETE","lineNumber":160,"oldContent":"        ),"},{"type":"DELETE","lineNumber":161,"oldContent":"        SizedBox(height: 8.h),"},{"type":"DELETE","lineNumber":162,"oldContent":"        Container("},{"type":"DELETE","lineNumber":163,"oldContent":"          padding: EdgeInsets.all(12.w),"},{"type":"DELETE","lineNumber":164,"oldContent":"          decoration: BoxDecoration("},{"type":"DELETE","lineNumber":165,"oldContent":"            border: Border.all(color: Colors.grey[300]!),"},{"type":"DELETE","lineNumber":166,"oldContent":"            borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":167,"oldContent":"          child: Row("},{"type":"DELETE","lineNumber":168,"oldContent":"          child: Row("},{"type":"DELETE","lineNumber":169,"oldContent":"            mainAxisAlignment: MainAxisAlignment.spaceBetween,"},{"type":"INSERT","lineNumber":192,"content":"  Widget _buildGuestsSection() {"},{"type":"INSERT","lineNumber":193,"content":"    return Container("},{"type":"INSERT","lineNumber":194,"content":"      padding: EdgeInsets.symmetric(horizontal: 16.w, vertical: 14.h),"},{"type":"INSERT","lineNumber":195,"content":"      decoration: BoxDecoration("},{"type":"INSERT","lineNumber":196,"content":"        color: AppColors.inputBackground,"},{"type":"INSERT","lineNumber":197,"content":"        borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":198,"content":"        border: Border.all(color: Colors.transparent),"},{"type":"INSERT","lineNumber":199,"content":"      ),"},{"type":"INSERT","lineNumber":200,"content":"      child: Row("},{"type":"INSERT","lineNumber":201,"content":"        children: ["},{"type":"INSERT","lineNumber":202,"content":"          Icon(Icons.person_outline, color: AppColors.primary, size: 20.sp),"},{"type":"INSERT","lineNumber":203,"content":"          SizedBox(width: 12.w),"},{"type":"INSERT","lineNumber":204,"content":"          Expanded("},{"type":"INSERT","lineNumber":205,"content":"            child: Column("},{"type":"INSERT","lineNumber":206,"content":"              crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":207,"content":"              children: ["},{"type":"INSERT","lineNumber":208,"content":"                Text("},{"type":"INSERT","lineNumber":209,"content":"                  'Guests',"},{"type":"INSERT","lineNumber":210,"content":"                  style: AppTextStyles.bodySmall.copyWith(color: AppColors.textSecondary),"},{"type":"INSERT","lineNumber":211,"content":"                ),"},{"type":"INSERT","lineNumber":212,"content":"                SizedBox(height: 2.h),"},{"type":"INSERT","lineNumber":213,"content":"                Text("},{"type":"INSERT","lineNumber":214,"content":"                  '$_guests Guests',"},{"type":"INSERT","lineNumber":215,"content":"                  style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":216,"content":"                    color: AppColors.textPrimary,"},{"type":"INSERT","lineNumber":217,"content":"                    fontWeight: FontWeight.w500,"},{"type":"INSERT","lineNumber":218,"content":"                  ),"},{"type":"INSERT","lineNumber":219,"content":"                ),"},{"type":"INSERT","lineNumber":220,"content":"              ],"},{"type":"INSERT","lineNumber":221,"content":"            ),"},{"type":"INSERT","lineNumber":222,"content":"          ),"},{"type":"INSERT","lineNumber":223,"content":"          Row("},{"type":"DELETE","lineNumber":171,"oldContent":"              Text("},{"type":"DELETE","lineNumber":172,"oldContent":"                '$_guests guests',"},{"type":"DELETE","lineNumber":173,"oldContent":"                style: AppTextStyles.bodyMedium.copyWith(color: AppColors.textPrimary),"},{"type":"DELETE","lineNumber":174,"oldContent":"              ),"},{"type":"DELETE","lineNumber":175,"oldContent":"              Row("},{"type":"DELETE","lineNumber":176,"oldContent":"                children: ["},{"type":"DELETE","lineNumber":177,"oldContent":"                  IconButton("},{"type":"DELETE","lineNumber":178,"oldContent":"                    onPressed: _guests > 1 ? () => setState(() => _guests--) : null,"},{"type":"DELETE","lineNumber":179,"oldContent":"                    icon: const Icon(Icons.remove_circle_outline),"},{"type":"INSERT","lineNumber":225,"content":"              GestureDetector("},{"type":"INSERT","lineNumber":226,"content":"                onTap: _guests > 1 ? () => setState(() => _guests--) : null,"},{"type":"INSERT","lineNumber":227,"content":"                child: Container("},{"type":"INSERT","lineNumber":228,"content":"                  padding: EdgeInsets.all(4.w),"},{"type":"INSERT","lineNumber":229,"content":"                  decoration: BoxDecoration("},{"type":"INSERT","lineNumber":230,"content":"                    color: _guests > 1 ? AppColors.primary.withOpacity(0.1) : Colors.grey[200],"},{"type":"INSERT","lineNumber":231,"content":"                    shape: BoxShape.circle,"},{"type":"INSERT","lineNumber":232,"content":"                  ),"},{"type":"INSERT","lineNumber":233,"content":"                  child: Icon("},{"type":"INSERT","lineNumber":234,"content":"                    Icons.remove,"},{"type":"INSERT","lineNumber":236,"content":"                    size: 16.sp,"},{"type":"DELETE","lineNumber":182,"oldContent":"                  IconButton("},{"type":"DELETE","lineNumber":183,"oldContent":"                    onPressed: () => setState(() => _guests++),"},{"type":"DELETE","lineNumber":184,"oldContent":"                    icon: const Icon(Icons.add_circle_outline),"},{"type":"INSERT","lineNumber":238,"content":"                ),"},{"type":"INSERT","lineNumber":239,"content":"              ),"},{"type":"INSERT","lineNumber":240,"content":"              SizedBox(width: 8.w),"},{"type":"INSERT","lineNumber":241,"content":"              GestureDetector("},{"type":"INSERT","lineNumber":242,"content":"                onTap: () => setState(() => _guests++),"},{"type":"INSERT","lineNumber":243,"content":"                child: Container("},{"type":"INSERT","lineNumber":244,"content":"                  padding: EdgeInsets.all(4.w),"},{"type":"INSERT","lineNumber":245,"content":"                  decoration: BoxDecoration("},{"type":"INSERT","lineNumber":246,"content":"                    color: AppColors.primary.withOpacity(0.1),"},{"type":"INSERT","lineNumber":247,"content":"                    shape: BoxShape.circle,"},{"type":"INSERT","lineNumber":248,"content":"                  ),"},{"type":"INSERT","lineNumber":249,"content":"                  child: Icon("},{"type":"INSERT","lineNumber":250,"content":"                    Icons.add,"},{"type":"INSERT","lineNumber":252,"content":"                    size: 16.sp,"},{"type":"DELETE","lineNumber":187,"oldContent":"                ],"},{"type":"INSERT","lineNumber":254,"content":"                ),"},{"type":"DELETE","lineNumber":190,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":191,"oldContent":"        ),"},{"type":"DELETE","lineNumber":192,"oldContent":"      ],"},{"type":"INSERT","lineNumber":257,"content":"          ),"},{"type":"INSERT","lineNumber":258,"content":"        ],"},{"type":"INSERT","lineNumber":259,"content":"      ),"},{"type":"INSERT","lineNumber":261,"content":"  }"},{"type":"INSERT","lineNumber":263,"content":"  Widget _buildFilterButton() {"},{"type":"INSERT","lineNumber":264,"content":"    return GestureDetector("},{"type":"INSERT","lineNumber":265,"content":"      onTap: _openFilterScreen,"},{"type":"INSERT","lineNumber":266,"content":"      child: Container("},{"type":"INSERT","lineNumber":267,"content":"        padding: EdgeInsets.all(12.w),"},{"type":"INSERT","lineNumber":268,"content":"        decoration: BoxDecoration("},{"type":"INSERT","lineNumber":269,"content":"          color: Colors.white,"},{"type":"INSERT","lineNumber":270,"content":"          borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":271,"content":"          border: Border.all(color: AppColors.border),"},{"type":"INSERT","lineNumber":272,"content":"        ),"},{"type":"INSERT","lineNumber":273,"content":"        child: Row("},{"type":"INSERT","lineNumber":274,"content":"          mainAxisSize: MainAxisSize.min,"},{"type":"INSERT","lineNumber":275,"content":"          children: ["},{"type":"INSERT","lineNumber":276,"content":"            Icon(Icons.tune, color: AppColors.textSecondary, size: 20.sp),"},{"type":"INSERT","lineNumber":277,"content":"            SizedBox(width: 4.w),"},{"type":"INSERT","lineNumber":278,"content":"            Text("},{"type":"INSERT","lineNumber":279,"content":"              'Filter',"},{"type":"INSERT","lineNumber":280,"content":"              style: AppTextStyles.bodyMedium.copyWith(color: AppColors.textSecondary),"},{"type":"INSERT","lineNumber":281,"content":"            ),"},{"type":"INSERT","lineNumber":282,"content":"          ],"},{"type":"INSERT","lineNumber":283,"content":"        ),"},{"type":"INSERT","lineNumber":284,"content":"      ),"},{"type":"INSERT","lineNumber":285,"content":"    );"},{"type":"INSERT","lineNumber":287,"content":""},{"type":"DELETE","lineNumber":197,"oldContent":"    return SizedBox("},{"type":"DELETE","lineNumber":198,"oldContent":"        onPressed: _onSearchButtonPressed,"},{"type":"DELETE","lineNumber":199,"oldContent":"      width: double.infinity,"},{"type":"DELETE","lineNumber":200,"oldContent":"      height: 50.h,"},{"type":"DELETE","lineNumber":201,"oldContent":"      child: ElevatedButton("},{"type":"INSERT","lineNumber":289,"content":"    return Container("},{"type":"INSERT","lineNumber":290,"content":"      padding: EdgeInsets.symmetric(horizontal: 24.w, vertical: 16.h),"},{"type":"INSERT","lineNumber":291,"content":"      decoration: BoxDecoration("},{"type":"INSERT","lineNumber":292,"content":"        color: Colors.white,"},{"type":"INSERT","lineNumber":293,"content":"        boxShadow: ["},{"type":"INSERT","lineNumber":294,"content":"          BoxShadow("},{"type":"INSERT","lineNumber":295,"content":"            color: Colors.grey.withOpacity(0.1),"},{"type":"INSERT","lineNumber":296,"content":"            spreadRadius: 0,"},{"type":"INSERT","lineNumber":297,"content":"            blurRadius: 10,"},{"type":"INSERT","lineNumber":298,"content":"            offset: const Offset(0, -2),"},{"type":"DELETE","lineNumber":203,"oldContent":"        style: ElevatedButton.styleFrom("},{"type":"DELETE","lineNumber":204,"oldContent":"        child: Text("},{"type":"DELETE","lineNumber":205,"oldContent":"          backgroundColor: AppColors.primary,"},{"type":"DELETE","lineNumber":206,"oldContent":"          'Search Properties',"},{"type":"DELETE","lineNumber":207,"oldContent":"          style: AppTextStyles.h5.copyWith(color: Colors.white),"},{"type":"DELETE","lineNumber":208,"oldContent":"          shape: RoundedRectangleBorder("},{"type":"INSERT","lineNumber":300,"content":"        ],"},{"type":"INSERT","lineNumber":301,"content":"      ),"},{"type":"INSERT","lineNumber":302,"content":"      child: SizedBox("},{"type":"INSERT","lineNumber":303,"content":"        width: double.infinity,"},{"type":"INSERT","lineNumber":304,"content":"        height: 52.h,"},{"type":"INSERT","lineNumber":305,"content":"        child: ElevatedButton("},{"type":"INSERT","lineNumber":306,"content":"          onPressed: _onSearchButtonPressed,"},{"type":"INSERT","lineNumber":307,"content":"          style: ElevatedButton.styleFrom("},{"type":"INSERT","lineNumber":308,"content":"            backgroundColor: AppColors.primary,"},{"type":"INSERT","lineNumber":309,"content":"            shape: RoundedRectangleBorder("},{"type":"INSERT","lineNumber":310,"content":"              borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":311,"content":"            ),"},{"type":"INSERT","lineNumber":312,"content":"            elevation: 0,"},{"type":"INSERT","lineNumber":313,"content":"          ),"},{"type":"INSERT","lineNumber":314,"content":"          child: Row("},{"type":"INSERT","lineNumber":315,"content":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"INSERT","lineNumber":316,"content":"            children: ["},{"type":"INSERT","lineNumber":317,"content":"              Icon(Icons.search, color: Colors.white, size: 20.sp),"},{"type":"INSERT","lineNumber":318,"content":"              SizedBox(width: 8.w),"},{"type":"INSERT","lineNumber":319,"content":"              Text("},{"type":"INSERT","lineNumber":320,"content":"                'Search',"},{"type":"INSERT","lineNumber":321,"content":"                style: AppTextStyles.buttonText.copyWith(color: Colors.white),"},{"type":"INSERT","lineNumber":322,"content":"              ),"},{"type":"INSERT","lineNumber":323,"content":"            ],"},{"type":"INSERT","lineNumber":324,"content":"          ),"},{"type":"DELETE","lineNumber":210,"oldContent":"            borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":213,"oldContent":"        ),"},{"type":"DELETE","lineNumber":221,"oldContent":"          'Recent Searches',"},{"type":"INSERT","lineNumber":335,"content":"          'Recent Search',"},{"type":"DELETE","lineNumber":224,"oldContent":"        SizedBox(height: 12.h),"},{"type":"INSERT","lineNumber":338,"content":"        SizedBox(height: 16.h),"},{"type":"DELETE","lineNumber":228,"oldContent":"          itemCount: recentSearches.length,"},{"type":"INSERT","lineNumber":342,"content":"          itemCount: recentSearches.length.clamp(0, 3), // Limit to 3 recent searches"},{"type":"DELETE","lineNumber":231,"oldContent":"            return Card("},{"type":"DELETE","lineNumber":232,"oldContent":"              margin: EdgeInsets.only(bottom: 8.h),"},{"type":"DELETE","lineNumber":233,"oldContent":"              child: ListTile("},{"type":"DELETE","lineNumber":234,"oldContent":"                leading: const Icon(Icons.history, color: AppColors.primary),"},{"type":"DELETE","lineNumber":235,"oldContent":"                title: Text("},{"type":"DELETE","lineNumber":236,"oldContent":"                  search.location ?? 'Any location',"},{"type":"DELETE","lineNumber":237,"oldContent":"                  style: AppTextStyles.bodyMedium,"},{"type":"DELETE","lineNumber":238,"oldContent":"                ),"},{"type":"DELETE","lineNumber":239,"oldContent":"                subtitle: Text("},{"type":"DELETE","lineNumber":240,"oldContent":"                  '${search.guests ?? 1} guests  ${search.checkIn != null ? \"${search.checkIn!.day}/${search.checkIn!.month}\" : \"Anytime\"}',"},{"type":"DELETE","lineNumber":241,"oldContent":"                  style: AppTextStyles.bodySmall.copyWith(color: Colors.grey[600]),"},{"type":"DELETE","lineNumber":242,"oldContent":"                ),"},{"type":"DELETE","lineNumber":243,"oldContent":"                onTap: () => _useRecentSearch(search),"},{"type":"INSERT","lineNumber":345,"content":"            return Container("},{"type":"INSERT","lineNumber":346,"content":"              margin: EdgeInsets.only(bottom: 12.h),"},{"type":"INSERT","lineNumber":347,"content":"              padding: EdgeInsets.all(16.w),"},{"type":"INSERT","lineNumber":348,"content":"              decoration: BoxDecoration("},{"type":"INSERT","lineNumber":349,"content":"                color: Colors.white,"},{"type":"INSERT","lineNumber":350,"content":"                borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":351,"content":"                border: Border.all(color: AppColors.border.withOpacity(0.5)),"},{"type":"INSERT","lineNumber":353,"content":"              child: Row("},{"type":"INSERT","lineNumber":354,"content":"                children: ["},{"type":"INSERT","lineNumber":355,"content":"                  Container("},{"type":"INSERT","lineNumber":356,"content":"                    padding: EdgeInsets.all(8.w),"},{"type":"INSERT","lineNumber":357,"content":"                    decoration: BoxDecoration("},{"type":"INSERT","lineNumber":358,"content":"                      color: AppColors.primary.withOpacity(0.1),"},{"type":"INSERT","lineNumber":359,"content":"                      borderRadius: BorderRadius.circular(8.r),"},{"type":"INSERT","lineNumber":360,"content":"                    ),"},{"type":"INSERT","lineNumber":361,"content":"                    child: Icon("},{"type":"INSERT","lineNumber":362,"content":"                      Icons.history,"},{"type":"INSERT","lineNumber":363,"content":"                      color: AppColors.primary,"},{"type":"INSERT","lineNumber":364,"content":"                      size: 16.sp,"},{"type":"INSERT","lineNumber":365,"content":"                    ),"},{"type":"INSERT","lineNumber":366,"content":"                  ),"},{"type":"INSERT","lineNumber":367,"content":"                  SizedBox(width: 12.w),"},{"type":"INSERT","lineNumber":368,"content":"                  Expanded("},{"type":"INSERT","lineNumber":369,"content":"                    child: Column("},{"type":"INSERT","lineNumber":370,"content":"                      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":371,"content":"                      children: ["},{"type":"INSERT","lineNumber":372,"content":"                        Text("},{"type":"INSERT","lineNumber":373,"content":"                          search.location ?? 'Damascus, Kafr Sosa',"},{"type":"INSERT","lineNumber":374,"content":"                          style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":375,"content":"                            color: AppColors.textPrimary,"},{"type":"INSERT","lineNumber":376,"content":"                            fontWeight: FontWeight.w500,"},{"type":"INSERT","lineNumber":377,"content":"                          ),"},{"type":"INSERT","lineNumber":378,"content":"                        ),"},{"type":"INSERT","lineNumber":379,"content":"                        SizedBox(height: 2.h),"},{"type":"INSERT","lineNumber":380,"content":"                        Text("},{"type":"INSERT","lineNumber":381,"content":"                          '${search.checkIn != null ? \"Sep ${search.checkIn!.day}\" : \"Sep 2\"} - ${search.checkOut != null ? \"Sep ${search.checkOut!.day}\" : \"Sep 4\"}, ${search.guests ?? 2} Guests',"},{"type":"INSERT","lineNumber":382,"content":"                          style: AppTextStyles.bodySmall.copyWith(color: AppColors.textSecondary),"},{"type":"INSERT","lineNumber":383,"content":"                        ),"},{"type":"INSERT","lineNumber":384,"content":"                      ],"},{"type":"INSERT","lineNumber":385,"content":"                    ),"},{"type":"INSERT","lineNumber":386,"content":"                  ),"},{"type":"INSERT","lineNumber":387,"content":"                  GestureDetector("},{"type":"INSERT","lineNumber":388,"content":"                    onTap: () => _removeRecentSearch(index),"},{"type":"INSERT","lineNumber":389,"content":"                    child: Icon("},{"type":"INSERT","lineNumber":390,"content":"                      Icons.close,"},{"type":"INSERT","lineNumber":391,"content":"                      color: AppColors.error,"},{"type":"INSERT","lineNumber":392,"content":"                      size: 20.sp,"},{"type":"INSERT","lineNumber":393,"content":"                    ),"},{"type":"INSERT","lineNumber":394,"content":"                  ),"},{"type":"INSERT","lineNumber":395,"content":"                ],"},{"type":"INSERT","lineNumber":396,"content":"              ),"},{"type":"DELETE","lineNumber":262,"oldContent":"          // Adjust check-out if it's before check-in"},{"type":"INSERT","lineNumber":415,"content":"          _checkIn = picked;"},{"type":"INSERT","lineNumber":416,"content":"          // Adjust check-out if it's before check-in"},{"type":"DELETE","lineNumber":266,"oldContent":"          _checkIn = picked;"},{"type":"DELETE","lineNumber":269,"oldContent":"  void _useRecentSearch(RecentSearch search) {"},{"type":"DELETE","lineNumber":271,"oldContent":"    setState(() {"},{"type":"DELETE","lineNumber":273,"oldContent":"      _locationController.text = search.location ?? '';"},{"type":"DELETE","lineNumber":275,"oldContent":"      _checkIn = search.checkIn;"},{"type":"DELETE","lineNumber":278,"oldContent":"      _checkOut = search.checkOut;"},{"type":"DELETE","lineNumber":280,"oldContent":"      _guests = search.guests ?? 1;"},{"type":"DELETE","lineNumber":281,"oldContent":"    });"},{"type":"INSERT","lineNumber":427,"content":""},{"type":"INSERT","lineNumber":428,"content":"  void _openFilterScreen() {"},{"type":"INSERT","lineNumber":429,"content":"    final bloc = context.read<SearchBloc>();"},{"type":"INSERT","lineNumber":430,"content":"    final currentState = bloc.state;"},{"type":"INSERT","lineNumber":431,"content":"    "},{"type":"INSERT","lineNumber":432,"content":"    SearchFilter currentFilter = const SearchFilter();"},{"type":"INSERT","lineNumber":433,"content":"    "},{"type":"INSERT","lineNumber":434,"content":"    if (currentState is LookupsLoaded) {"},{"type":"INSERT","lineNumber":435,"content":"      currentFilter = currentState.currentFilter;"},{"type":"INSERT","lineNumber":436,"content":"    } else if (currentState is SearchLoaded) {"},{"type":"INSERT","lineNumber":437,"content":"      currentFilter = currentState.currentFilter;"},{"type":"INSERT","lineNumber":438,"content":"    }"},{"type":"INSERT","lineNumber":439,"content":"    "},{"type":"INSERT","lineNumber":440,"content":"    Navigator.of(context).push("},{"type":"INSERT","lineNumber":441,"content":"      MaterialPageRoute("},{"type":"INSERT","lineNumber":442,"content":"        builder: (context) => BlocProvider.value("},{"type":"INSERT","lineNumber":443,"content":"          value: bloc,"},{"type":"INSERT","lineNumber":444,"content":"          child: FilterScreen(currentFilter: currentFilter),"},{"type":"INSERT","lineNumber":445,"content":"        ),"},{"type":"INSERT","lineNumber":446,"content":"      ),"},{"type":"INSERT","lineNumber":447,"content":"    );"},{"type":"DELETE","lineNumber":283,"oldContent":"  void _onSearchButtonPressed() {"},{"type":"INSERT","lineNumber":450,"content":"  void _removeRecentSearch(int index) {"},{"type":"INSERT","lineNumber":451,"content":"    // TODO: Implement remove recent search functionality"},{"type":"INSERT","lineNumber":452,"content":"    // This would require adding a new event to the bloc"},{"type":"INSERT","lineNumber":453,"content":"  }"},{"type":"INSERT","lineNumber":454,"content":""},{"type":"INSERT","lineNumber":455,"content":"  void _onSearchButtonPressed() {"},{"type":"DELETE","lineNumber":299,"oldContent":""},{"type":"DELETE","lineNumber":301,"oldContent":"    final filter = SearchFilter("},{"type":"INSERT","lineNumber":471,"content":""},{"type":"INSERT","lineNumber":473,"content":"    final filter = SearchFilter("}]},{"timestamp":1758449803062,"changes":[{"type":"DELETE","lineNumber":43,"oldContent":"          'Search Properties',"},{"type":"INSERT","lineNumber":44,"content":"          style: AppTextStyles.h4.copyWith(color: AppColors.textPrimary),"},{"type":"DELETE","lineNumber":47,"oldContent":"        iconTheme: const IconThemeData(color: AppColors.textPrimary),"},{"type":"DELETE","lineNumber":49,"oldContent":"      ),"},{"type":"INSERT","lineNumber":48,"content":"        iconTheme: const IconThemeData(color: AppColors.textPrimary),"},{"type":"INSERT","lineNumber":50,"content":"      ),"},{"type":"INSERT","lineNumber":51,"content":"      backgroundColor: Colors.white,"},{"type":"DELETE","lineNumber":53,"oldContent":"      backgroundColor: Colors.white,"},{"type":"DELETE","lineNumber":69,"oldContent":"          );"},{"type":"DELETE","lineNumber":71,"oldContent":"        },"},{"type":"MODIFY","lineNumber":72,"content":"          );","oldContent":"      ),"},{"type":"INSERT","lineNumber":73,"content":"        },"},{"type":"INSERT","lineNumber":74,"content":"      ),"},{"type":"DELETE","lineNumber":77,"oldContent":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":78,"oldContent":"      children: ["},{"type":"DELETE","lineNumber":86,"oldContent":"        TextFormField("},{"type":"DELETE","lineNumber":88,"oldContent":"          controller: _locationController,"},{"type":"DELETE","lineNumber":90,"oldContent":"          decoration: InputDecoration("},{"type":"DELETE","lineNumber":92,"oldContent":"            hintText: 'Enter destination',"},{"type":"DELETE","lineNumber":95,"oldContent":"            border: OutlineInputBorder("},{"type":"DELETE","lineNumber":97,"oldContent":"              borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":98,"oldContent":"          ),],"},{"type":"INSERT","lineNumber":90,"content":"          ),"},{"type":"INSERT","lineNumber":91,"content":"        ],"},{"type":"DELETE","lineNumber":100,"oldContent":"            ),"},{"type":"DELETE","lineNumber":102,"oldContent":"            focusedBorder: OutlineInputBorder("},{"type":"DELETE","lineNumber":104,"oldContent":"              borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":107,"oldContent":"            ),"},{"type":"DELETE","lineNumber":109,"oldContent":"          ),"},{"type":"DELETE","lineNumber":111,"oldContent":"      ],"},{"type":"DELETE","lineNumber":114,"oldContent":"    );"},{"type":"DELETE","lineNumber":117,"oldContent":"  }"},{"type":"DELETE","lineNumber":119,"oldContent":"  Widget _buildDateSection() {"},{"type":"DELETE","lineNumber":123,"oldContent":"      children: ["},{"type":"DELETE","lineNumber":132,"oldContent":"      ],"},{"type":"INSERT","lineNumber":115,"content":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":116,"content":"      children: ["},{"type":"INSERT","lineNumber":117,"content":"        TextFormField("},{"type":"INSERT","lineNumber":118,"content":"          controller: _locationController,"},{"type":"INSERT","lineNumber":119,"content":"          decoration: InputDecoration("},{"type":"DELETE","lineNumber":134,"oldContent":"    );"},{"type":"DELETE","lineNumber":136,"oldContent":"  }"},{"type":"DELETE","lineNumber":137,"oldContent":""},{"type":"INSERT","lineNumber":122,"content":"            hintText: 'Enter destination',"},{"type":"DELETE","lineNumber":139,"oldContent":"  Widget _buildDateField(String label, DateTime? date, bool isCheckIn) {"},{"type":"DELETE","lineNumber":141,"oldContent":"    return GestureDetector("},{"type":"DELETE","lineNumber":144,"oldContent":"      onTap: () => _selectDate(isCheckIn),"},{"type":"INSERT","lineNumber":127,"content":"            border: OutlineInputBorder("},{"type":"INSERT","lineNumber":128,"content":"              borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":146,"oldContent":"        decoration: BoxDecoration("},{"type":"DELETE","lineNumber":147,"oldContent":"        ),"},{"type":"INSERT","lineNumber":130,"content":"            ),"},{"type":"INSERT","lineNumber":131,"content":"            focusedBorder: OutlineInputBorder("},{"type":"INSERT","lineNumber":132,"content":"              borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":149,"oldContent":"          children: ["},{"type":"INSERT","lineNumber":134,"content":"            ),"},{"type":"INSERT","lineNumber":136,"content":"          ),"},{"type":"DELETE","lineNumber":152,"oldContent":"            ),"},{"type":"INSERT","lineNumber":138,"content":"      ],"},{"type":"INSERT","lineNumber":139,"content":"    );"},{"type":"INSERT","lineNumber":140,"content":"  }"},{"type":"INSERT","lineNumber":142,"content":"  Widget _buildDateSection() {"},{"type":"INSERT","lineNumber":144,"content":"      children: ["},{"type":"DELETE","lineNumber":158,"oldContent":"          ],"},{"type":"DELETE","lineNumber":159,"oldContent":"        ),"},{"type":"DELETE","lineNumber":160,"oldContent":"      ),"},{"type":"INSERT","lineNumber":148,"content":"      ],"},{"type":"DELETE","lineNumber":163,"oldContent":"      child: Container("},{"type":"INSERT","lineNumber":152,"content":"  Widget _buildDateField(String label, DateTime? date, bool isCheckIn) {"},{"type":"INSERT","lineNumber":153,"content":"    return GestureDetector("},{"type":"INSERT","lineNumber":154,"content":"      onTap: () => _selectDate(isCheckIn),"},{"type":"INSERT","lineNumber":155,"content":"      child: Container("},{"type":"INSERT","lineNumber":157,"content":"        decoration: BoxDecoration("},{"type":"INSERT","lineNumber":161,"content":"        ),"},{"type":"INSERT","lineNumber":163,"content":"          children: ["},{"type":"DELETE","lineNumber":178,"oldContent":"            children: ["},{"type":"DELETE","lineNumber":189,"oldContent":"                    color: _guests > 1 ? AppColors.primary : Colors.grey[400],"},{"type":"DELETE","lineNumber":192,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":195,"oldContent":"                    color: AppColors.primary,"},{"type":"DELETE","lineNumber":196,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":197,"oldContent":"              ),"},{"type":"DELETE","lineNumber":198,"oldContent":"            ],"},{"type":"INSERT","lineNumber":186,"content":"            ),"},{"type":"INSERT","lineNumber":187,"content":"          ],"},{"type":"INSERT","lineNumber":188,"content":"        ),"},{"type":"INSERT","lineNumber":189,"content":"      ),"},{"type":"INSERT","lineNumber":190,"content":"    );"},{"type":"INSERT","lineNumber":191,"content":"  }"},{"type":"INSERT","lineNumber":192,"content":""},{"type":"DELETE","lineNumber":201,"oldContent":"    );"},{"type":"DELETE","lineNumber":203,"oldContent":""},{"type":"DELETE","lineNumber":205,"oldContent":"  }"},{"type":"DELETE","lineNumber":207,"oldContent":"  Widget _buildSearchButton() {"},{"type":"DELETE","lineNumber":214,"oldContent":"          ),"},{"type":"DELETE","lineNumber":222,"oldContent":"        ),"},{"type":"DELETE","lineNumber":225,"oldContent":"      ),"},{"type":"DELETE","lineNumber":227,"oldContent":"    );"},{"type":"DELETE","lineNumber":230,"oldContent":"  }"},{"type":"DELETE","lineNumber":232,"oldContent":""},{"type":"DELETE","lineNumber":234,"oldContent":"  Widget _buildRecentSearches(List<RecentSearch> recentSearches) {"},{"type":"DELETE","lineNumber":236,"oldContent":"    return Column("},{"type":"DELETE","lineNumber":238,"oldContent":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":240,"oldContent":"      children: ["},{"type":"DELETE","lineNumber":242,"oldContent":"        Text("},{"type":"DELETE","lineNumber":245,"oldContent":"          style: AppTextStyles.h5.copyWith(color: AppColors.textPrimary),"},{"type":"DELETE","lineNumber":247,"oldContent":"        ),"},{"type":"INSERT","lineNumber":225,"content":"            children: ["},{"type":"DELETE","lineNumber":249,"oldContent":"        ListView.builder("},{"type":"DELETE","lineNumber":251,"oldContent":"          shrinkWrap: true,"},{"type":"DELETE","lineNumber":253,"oldContent":"          physics: const NeverScrollableScrollPhysics(),"},{"type":"DELETE","lineNumber":256,"oldContent":"          itemBuilder: (context, index) {"},{"type":"DELETE","lineNumber":258,"oldContent":"            final search = recentSearches[index];"},{"type":"INSERT","lineNumber":236,"content":"                    color: _guests > 1 ? AppColors.primary : Colors.grey[400],"},{"type":"INSERT","lineNumber":238,"content":"                  ),"},{"type":"DELETE","lineNumber":271,"oldContent":"              ),"},{"type":"DELETE","lineNumber":273,"oldContent":"            );"},{"type":"DELETE","lineNumber":275,"oldContent":"          },"},{"type":"DELETE","lineNumber":277,"oldContent":"        ),"},{"type":"DELETE","lineNumber":279,"oldContent":"      ],"},{"type":"DELETE","lineNumber":281,"oldContent":"    );"},{"type":"DELETE","lineNumber":283,"oldContent":"  }"},{"type":"DELETE","lineNumber":284,"oldContent":""},{"type":"INSERT","lineNumber":252,"content":"                    color: AppColors.primary,"},{"type":"DELETE","lineNumber":286,"oldContent":"  Future<void> _selectDate(bool isCheckIn) async {"},{"type":"DELETE","lineNumber":287,"oldContent":"    final DateTime? picked = await showDatePicker("},{"type":"INSERT","lineNumber":254,"content":"                  ),"},{"type":"DELETE","lineNumber":289,"oldContent":"      context: context,"},{"type":"DELETE","lineNumber":290,"oldContent":"      initialDate: isCheckIn ? _checkIn ?? DateTime.now() : _checkOut ?? DateTime.now(),"},{"type":"DELETE","lineNumber":291,"oldContent":"      firstDate: DateTime.now(),"},{"type":"INSERT","lineNumber":256,"content":"              ),"},{"type":"INSERT","lineNumber":257,"content":"            ],"},{"type":"DELETE","lineNumber":293,"oldContent":"      lastDate: DateTime.now().add(const Duration(days: 365)),"},{"type":"DELETE","lineNumber":295,"oldContent":"    );"},{"type":"DELETE","lineNumber":297,"oldContent":""},{"type":"DELETE","lineNumber":298,"oldContent":"    if (picked != null) {"},{"type":"INSERT","lineNumber":261,"content":"    );"},{"type":"DELETE","lineNumber":300,"oldContent":"      setState(() {"},{"type":"INSERT","lineNumber":263,"content":""},{"type":"DELETE","lineNumber":302,"oldContent":"        if (isCheckIn) {"},{"type":"DELETE","lineNumber":304,"oldContent":"          if (_checkOut != null && _checkOut!.isBefore(picked)) {"},{"type":"DELETE","lineNumber":306,"oldContent":"            _checkOut = picked.add(const Duration(days: 1));"},{"type":"DELETE","lineNumber":309,"oldContent":"          }"},{"type":"DELETE","lineNumber":311,"oldContent":"        } else {"},{"type":"DELETE","lineNumber":314,"oldContent":"          _checkOut = picked;"},{"type":"DELETE","lineNumber":317,"oldContent":"        }"},{"type":"DELETE","lineNumber":320,"oldContent":"      });"},{"type":"DELETE","lineNumber":323,"oldContent":"    }"},{"type":"DELETE","lineNumber":325,"oldContent":"  }"},{"type":"DELETE","lineNumber":328,"oldContent":""},{"type":"DELETE","lineNumber":332,"oldContent":"  }"},{"type":"DELETE","lineNumber":335,"oldContent":""},{"type":"DELETE","lineNumber":337,"oldContent":"    // Save to recent searches"},{"type":"DELETE","lineNumber":338,"oldContent":"    final recentSearch = RecentSearch("},{"type":"INSERT","lineNumber":287,"content":"  }"},{"type":"DELETE","lineNumber":340,"oldContent":"      location: _locationController.text.trim().isEmpty ? null : _locationController.text.trim(),"},{"type":"DELETE","lineNumber":341,"oldContent":"      checkIn: _checkIn,"},{"type":"INSERT","lineNumber":289,"content":"  Widget _buildSearchButton() {"},{"type":"DELETE","lineNumber":343,"oldContent":"      checkOut: _checkOut,"},{"type":"DELETE","lineNumber":345,"oldContent":"      guests: _guests,"},{"type":"DELETE","lineNumber":347,"oldContent":"      timestamp: DateTime.now(),"},{"type":"DELETE","lineNumber":349,"oldContent":"    );"},{"type":"DELETE","lineNumber":351,"oldContent":"    "},{"type":"DELETE","lineNumber":353,"oldContent":"    context.read<SearchBloc>().add(SaveRecentSearchEvent("},{"type":"DELETE","lineNumber":355,"oldContent":"      location: recentSearch.location,"},{"type":"DELETE","lineNumber":357,"oldContent":"      checkIn: recentSearch.checkIn,"},{"type":"DELETE","lineNumber":359,"oldContent":"      checkOut: recentSearch.checkOut,"},{"type":"DELETE","lineNumber":361,"oldContent":"      guests: recentSearch.guests,"},{"type":"INSERT","lineNumber":300,"content":"          ),"},{"type":"DELETE","lineNumber":363,"oldContent":"    ));"},{"type":"DELETE","lineNumber":366,"oldContent":"    // Create search filter and navigate to results"},{"type":"DELETE","lineNumber":368,"oldContent":"      address: _locationController.text.trim().isEmpty ? null : _locationController.text.trim(),"},{"type":"DELETE","lineNumber":370,"oldContent":"      checkInDate: _checkIn?.millisecondsSinceEpoch,"},{"type":"DELETE","lineNumber":372,"oldContent":"      checkOutDate: _checkOut?.millisecondsSinceEpoch,"},{"type":"DELETE","lineNumber":374,"oldContent":"    );"},{"type":"DELETE","lineNumber":376,"oldContent":"    "},{"type":"DELETE","lineNumber":378,"oldContent":"    Navigator.of(context).push("},{"type":"DELETE","lineNumber":380,"oldContent":"      MaterialPageRoute("},{"type":"DELETE","lineNumber":382,"oldContent":"        builder: (context) => BlocProvider.value("},{"type":"DELETE","lineNumber":384,"oldContent":"          value: context.read<SearchBloc>()..add(SearchPropertiesEvent(filter: filter)),"},{"type":"DELETE","lineNumber":386,"oldContent":"          child: const SearchResultsScreen(),"},{"type":"DELETE","lineNumber":388,"oldContent":"        ),"},{"type":"DELETE","lineNumber":390,"oldContent":"      ),"},{"type":"DELETE","lineNumber":392,"oldContent":"    );"},{"type":"DELETE","lineNumber":394,"oldContent":"  }"},{"type":"DELETE","lineNumber":396,"oldContent":"}"},{"type":"DELETE","lineNumber":398,"oldContent":""},{"type":"DELETE","lineNumber":400,"oldContent":"    final filter = SearchFilter("},{"type":"DELETE","lineNumber":402,"oldContent":""},{"type":"DELETE","lineNumber":404,"oldContent":"  void _onSearchButtonPressed() {"},{"type":"DELETE","lineNumber":406,"oldContent":""},{"type":"DELETE","lineNumber":408,"oldContent":"  }"},{"type":"DELETE","lineNumber":410,"oldContent":"    // This would require adding a new event to the bloc"},{"type":"DELETE","lineNumber":411,"oldContent":"    // TODO: Implement remove recent search functionality"},{"type":"DELETE","lineNumber":412,"oldContent":"  void _removeRecentSearch(int index) {"},{"type":"DELETE","lineNumber":413,"oldContent":"    );"},{"type":"DELETE","lineNumber":414,"oldContent":"      ),"},{"type":"DELETE","lineNumber":416,"oldContent":"          child: FilterScreen(currentFilter: currentFilter),"},{"type":"DELETE","lineNumber":417,"oldContent":"          value: bloc,"},{"type":"DELETE","lineNumber":418,"oldContent":"        builder: (context) => BlocProvider.value("},{"type":"DELETE","lineNumber":419,"oldContent":"      MaterialPageRoute("},{"type":"DELETE","lineNumber":420,"oldContent":"    Navigator.of(context).push("},{"type":"INSERT","lineNumber":327,"content":"      ),"},{"type":"INSERT","lineNumber":328,"content":"    );"},{"type":"INSERT","lineNumber":329,"content":"  }"},{"type":"INSERT","lineNumber":330,"content":""},{"type":"INSERT","lineNumber":331,"content":"  Widget _buildRecentSearches(List<RecentSearch> recentSearches) {"},{"type":"INSERT","lineNumber":332,"content":"    return Column("},{"type":"INSERT","lineNumber":333,"content":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":334,"content":"      children: ["},{"type":"INSERT","lineNumber":335,"content":"        Text("},{"type":"DELETE","lineNumber":422,"oldContent":"    "},{"type":"DELETE","lineNumber":423,"oldContent":"    }"},{"type":"DELETE","lineNumber":424,"oldContent":"      currentFilter = currentState.currentFilter;"},{"type":"INSERT","lineNumber":337,"content":"          style: AppTextStyles.h5.copyWith(color: AppColors.textPrimary),"},{"type":"INSERT","lineNumber":338,"content":"        ),"},{"type":"DELETE","lineNumber":426,"oldContent":"    } else if (currentState is SearchLoaded) {"},{"type":"DELETE","lineNumber":427,"oldContent":"      currentFilter = currentState.currentFilter;"},{"type":"DELETE","lineNumber":428,"oldContent":"    if (currentState is LookupsLoaded) {"},{"type":"DELETE","lineNumber":429,"oldContent":"    "},{"type":"INSERT","lineNumber":340,"content":"        ListView.builder("},{"type":"INSERT","lineNumber":341,"content":"          shrinkWrap: true,"},{"type":"INSERT","lineNumber":342,"content":"          physics: const NeverScrollableScrollPhysics(),"},{"type":"DELETE","lineNumber":431,"oldContent":"    SearchFilter currentFilter = const SearchFilter();"},{"type":"DELETE","lineNumber":432,"oldContent":"    "},{"type":"DELETE","lineNumber":433,"oldContent":"    final currentState = bloc.state;"},{"type":"INSERT","lineNumber":344,"content":"          itemBuilder: (context, index) {"},{"type":"INSERT","lineNumber":345,"content":"            final search = recentSearches[index];"},{"type":"DELETE","lineNumber":435,"oldContent":"    final bloc = context.read<SearchBloc>();"},{"type":"DELETE","lineNumber":437,"oldContent":"  void _openFilterScreen() {"},{"type":"DELETE","lineNumber":439,"oldContent":""},{"type":"DELETE","lineNumber":441,"oldContent":"          // Adjust check-out if it's before check-in"},{"type":"DELETE","lineNumber":443,"oldContent":"          _checkIn = picked;"},{"type":"DELETE","lineNumber":445,"oldContent":"              ),"},{"type":"DELETE","lineNumber":447,"oldContent":"                ],"},{"type":"DELETE","lineNumber":448,"oldContent":"                  ),"},{"type":"INSERT","lineNumber":353,"content":"              ),"},{"type":"DELETE","lineNumber":450,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":452,"oldContent":"                      size: 20.sp,"},{"type":"DELETE","lineNumber":454,"oldContent":"                      color: AppColors.error,"},{"type":"DELETE","lineNumber":456,"oldContent":"                      Icons.close,"},{"type":"DELETE","lineNumber":458,"oldContent":"                    child: Icon("},{"type":"DELETE","lineNumber":460,"oldContent":"                    onTap: () => _removeRecentSearch(index),"},{"type":"DELETE","lineNumber":462,"oldContent":"                  GestureDetector("},{"type":"DELETE","lineNumber":464,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":466,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":468,"oldContent":"                      ],"},{"type":"DELETE","lineNumber":470,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":472,"oldContent":"                          style: AppTextStyles.bodySmall.copyWith(color: AppColors.textSecondary),"},{"type":"DELETE","lineNumber":474,"oldContent":"                          '${search.checkIn != null ? \"Sep ${search.checkIn!.day}\" : \"Sep 2\"} - ${search.checkOut != null ? \"Sep ${search.checkOut!.day}\" : \"Sep 4\"}, ${search.guests ?? 2} Guests',"},{"type":"DELETE","lineNumber":476,"oldContent":"                        Text("},{"type":"DELETE","lineNumber":478,"oldContent":"                        SizedBox(height: 2.h),"},{"type":"DELETE","lineNumber":480,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":482,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":484,"oldContent":"                            fontWeight: FontWeight.w500,"},{"type":"DELETE","lineNumber":486,"oldContent":"                            color: AppColors.textPrimary,"},{"type":"DELETE","lineNumber":488,"oldContent":"                          style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":375,"content":"                          style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":376,"content":"                            color: AppColors.textPrimary,"},{"type":"INSERT","lineNumber":377,"content":"                            fontWeight: FontWeight.w500,"},{"type":"INSERT","lineNumber":378,"content":"                          ),"},{"type":"INSERT","lineNumber":379,"content":"                        ),"},{"type":"INSERT","lineNumber":380,"content":"                        SizedBox(height: 2.h),"},{"type":"INSERT","lineNumber":381,"content":"                        Text("},{"type":"INSERT","lineNumber":382,"content":"                          '${search.checkIn != null ? \"Sep ${search.checkIn!.day}\" : \"Sep 2\"} - ${search.checkOut != null ? \"Sep ${search.checkOut!.day}\" : \"Sep 4\"}, ${search.guests ?? 2} Guests',"},{"type":"INSERT","lineNumber":383,"content":"                          style: AppTextStyles.bodySmall.copyWith(color: AppColors.textSecondary),"},{"type":"INSERT","lineNumber":384,"content":"                        ),"},{"type":"INSERT","lineNumber":385,"content":"                      ],"},{"type":"INSERT","lineNumber":386,"content":"                    ),"},{"type":"INSERT","lineNumber":387,"content":"                  ),"},{"type":"INSERT","lineNumber":388,"content":"                  GestureDetector("},{"type":"INSERT","lineNumber":389,"content":"                    onTap: () => _removeRecentSearch(index),"},{"type":"INSERT","lineNumber":390,"content":"                    child: Icon("},{"type":"INSERT","lineNumber":391,"content":"                      Icons.close,"},{"type":"INSERT","lineNumber":392,"content":"                      color: AppColors.error,"},{"type":"INSERT","lineNumber":393,"content":"                      size: 20.sp,"},{"type":"INSERT","lineNumber":394,"content":"                    ),"},{"type":"INSERT","lineNumber":395,"content":"                  ),"},{"type":"INSERT","lineNumber":396,"content":"                ],"},{"type":"INSERT","lineNumber":397,"content":"              ),"},{"type":"INSERT","lineNumber":398,"content":"            );"},{"type":"INSERT","lineNumber":399,"content":"          },"},{"type":"INSERT","lineNumber":400,"content":"        ),"},{"type":"INSERT","lineNumber":401,"content":"      ],"},{"type":"INSERT","lineNumber":402,"content":"    );"},{"type":"INSERT","lineNumber":403,"content":"  }"},{"type":"INSERT","lineNumber":404,"content":""},{"type":"INSERT","lineNumber":405,"content":"  Future<void> _selectDate(bool isCheckIn) async {"},{"type":"INSERT","lineNumber":406,"content":"    final DateTime? picked = await showDatePicker("},{"type":"INSERT","lineNumber":407,"content":"      context: context,"},{"type":"INSERT","lineNumber":408,"content":"      initialDate: isCheckIn ? _checkIn ?? DateTime.now() : _checkOut ?? DateTime.now(),"},{"type":"INSERT","lineNumber":409,"content":"      firstDate: DateTime.now(),"},{"type":"INSERT","lineNumber":410,"content":"      lastDate: DateTime.now().add(const Duration(days: 365)),"},{"type":"INSERT","lineNumber":411,"content":"    );"},{"type":"INSERT","lineNumber":412,"content":""},{"type":"INSERT","lineNumber":413,"content":"    if (picked != null) {"},{"type":"INSERT","lineNumber":414,"content":"      setState(() {"},{"type":"INSERT","lineNumber":415,"content":"        if (isCheckIn) {"},{"type":"INSERT","lineNumber":416,"content":"          _checkIn = picked;"},{"type":"INSERT","lineNumber":417,"content":"          // Adjust check-out if it's before check-in"},{"type":"INSERT","lineNumber":418,"content":"          if (_checkOut != null && _checkOut!.isBefore(picked)) {"},{"type":"INSERT","lineNumber":419,"content":"            _checkOut = picked.add(const Duration(days: 1));"},{"type":"INSERT","lineNumber":420,"content":"          }"},{"type":"INSERT","lineNumber":421,"content":"        } else {"},{"type":"INSERT","lineNumber":422,"content":"          _checkOut = picked;"},{"type":"INSERT","lineNumber":423,"content":"        }"},{"type":"INSERT","lineNumber":424,"content":"      });"},{"type":"INSERT","lineNumber":425,"content":"    }"},{"type":"INSERT","lineNumber":426,"content":"  }"},{"type":"INSERT","lineNumber":427,"content":""},{"type":"INSERT","lineNumber":428,"content":""},{"type":"INSERT","lineNumber":429,"content":"  void _openFilterScreen() {"},{"type":"INSERT","lineNumber":430,"content":"    final bloc = context.read<SearchBloc>();"},{"type":"INSERT","lineNumber":431,"content":"    final currentState = bloc.state;"},{"type":"INSERT","lineNumber":432,"content":"    "},{"type":"INSERT","lineNumber":433,"content":"    SearchFilter currentFilter = const SearchFilter();"},{"type":"INSERT","lineNumber":434,"content":"    "},{"type":"INSERT","lineNumber":435,"content":"    if (currentState is LookupsLoaded) {"},{"type":"INSERT","lineNumber":436,"content":"      currentFilter = currentState.currentFilter;"},{"type":"INSERT","lineNumber":437,"content":"    } else if (currentState is SearchLoaded) {"},{"type":"INSERT","lineNumber":438,"content":"      currentFilter = currentState.currentFilter;"},{"type":"INSERT","lineNumber":439,"content":"    }"},{"type":"INSERT","lineNumber":440,"content":"    "},{"type":"INSERT","lineNumber":441,"content":"    Navigator.of(context).push("},{"type":"INSERT","lineNumber":442,"content":"      MaterialPageRoute("},{"type":"INSERT","lineNumber":443,"content":"        builder: (context) => BlocProvider.value("},{"type":"INSERT","lineNumber":444,"content":"          value: bloc,"},{"type":"INSERT","lineNumber":445,"content":"          child: FilterScreen(currentFilter: currentFilter),"},{"type":"INSERT","lineNumber":446,"content":"        ),"},{"type":"INSERT","lineNumber":447,"content":"      ),"},{"type":"INSERT","lineNumber":448,"content":"    );"},{"type":"INSERT","lineNumber":449,"content":"  }"},{"type":"INSERT","lineNumber":450,"content":""},{"type":"INSERT","lineNumber":451,"content":"  void _removeRecentSearch(int index) {"},{"type":"INSERT","lineNumber":452,"content":"    // TODO: Implement remove recent search functionality"},{"type":"INSERT","lineNumber":453,"content":"    // This would require adding a new event to the bloc"},{"type":"INSERT","lineNumber":454,"content":"  }"},{"type":"INSERT","lineNumber":455,"content":""},{"type":"INSERT","lineNumber":456,"content":"  void _onSearchButtonPressed() {"},{"type":"INSERT","lineNumber":457,"content":"    // Save to recent searches"},{"type":"INSERT","lineNumber":458,"content":"    final recentSearch = RecentSearch("},{"type":"INSERT","lineNumber":459,"content":"      location: _locationController.text.trim().isEmpty ? null : _locationController.text.trim(),"},{"type":"INSERT","lineNumber":460,"content":"      checkIn: _checkIn,"},{"type":"INSERT","lineNumber":461,"content":"      checkOut: _checkOut,"},{"type":"INSERT","lineNumber":462,"content":"      guests: _guests,"},{"type":"INSERT","lineNumber":463,"content":"      timestamp: DateTime.now(),"},{"type":"INSERT","lineNumber":464,"content":"    );"},{"type":"INSERT","lineNumber":465,"content":"    "},{"type":"INSERT","lineNumber":466,"content":"    context.read<SearchBloc>().add(SaveRecentSearchEvent("},{"type":"INSERT","lineNumber":467,"content":"      location: recentSearch.location,"},{"type":"INSERT","lineNumber":468,"content":"      checkIn: recentSearch.checkIn,"},{"type":"INSERT","lineNumber":469,"content":"      checkOut: recentSearch.checkOut,"},{"type":"INSERT","lineNumber":470,"content":"      guests: recentSearch.guests,"},{"type":"INSERT","lineNumber":471,"content":"    ));"},{"type":"INSERT","lineNumber":472,"content":""},{"type":"INSERT","lineNumber":473,"content":"    // Create search filter and navigate to results"},{"type":"INSERT","lineNumber":474,"content":"    final filter = SearchFilter("},{"type":"INSERT","lineNumber":475,"content":"      address: _locationController.text.trim().isEmpty ? null : _locationController.text.trim(),"},{"type":"INSERT","lineNumber":476,"content":"      checkInDate: _checkIn?.millisecondsSinceEpoch,"},{"type":"INSERT","lineNumber":477,"content":"      checkOutDate: _checkOut?.millisecondsSinceEpoch,"},{"type":"INSERT","lineNumber":478,"content":"    );"},{"type":"INSERT","lineNumber":479,"content":"    "},{"type":"INSERT","lineNumber":480,"content":"    Navigator.of(context).push("},{"type":"INSERT","lineNumber":481,"content":"      MaterialPageRoute("},{"type":"INSERT","lineNumber":482,"content":"        builder: (context) => BlocProvider.value("},{"type":"INSERT","lineNumber":483,"content":"          value: context.read<SearchBloc>()..add(SearchPropertiesEvent(filter: filter)),"},{"type":"INSERT","lineNumber":484,"content":"          child: const SearchResultsScreen(),"},{"type":"INSERT","lineNumber":485,"content":"        ),"},{"type":"INSERT","lineNumber":486,"content":"      ),"},{"type":"INSERT","lineNumber":487,"content":"    );"},{"type":"INSERT","lineNumber":488,"content":"  }"},{"type":"INSERT","lineNumber":489,"content":"}"},{"type":"INSERT","lineNumber":490,"content":""}]},{"timestamp":1758450187855,"changes":[{"type":"MODIFY","lineNumber":44,"content":"          style: AppTextStyles.h4.copyWith(color: AppColors.textPrimary),","oldContent":"          style: AppTextStyles.h4.copyWith(color: AppColors.textPrimary),"},{"type":"DELETE","lineNumber":47,"oldContent":"        iconTheme: const IconThemeData(color: AppColors.textPrimary),"},{"type":"DELETE","lineNumber":49,"oldContent":"      ),"},{"type":"INSERT","lineNumber":48,"content":"        iconTheme: const IconThemeData(color: AppColors.textPrimary),"},{"type":"INSERT","lineNumber":50,"content":"      ),"},{"type":"INSERT","lineNumber":70,"content":"              _buildSearchButton(),"},{"type":"INSERT","lineNumber":71,"content":"            ],"},{"type":"DELETE","lineNumber":73,"oldContent":"      ),"},{"type":"DELETE","lineNumber":74,"oldContent":"            ],"},{"type":"DELETE","lineNumber":86,"oldContent":"          ),"},{"type":"DELETE","lineNumber":87,"oldContent":"        ],"},{"type":"INSERT","lineNumber":90,"content":"          ),"},{"type":"INSERT","lineNumber":91,"content":"        ],"},{"type":"DELETE","lineNumber":101,"oldContent":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":103,"oldContent":"      children: ["},{"type":"DELETE","lineNumber":105,"oldContent":"        TextFormField("},{"type":"DELETE","lineNumber":106,"oldContent":"          controller: _locationController,"},{"type":"DELETE","lineNumber":108,"oldContent":"          decoration: InputDecoration("},{"type":"DELETE","lineNumber":111,"oldContent":"            hintText: 'Enter destination',"},{"type":"DELETE","lineNumber":116,"oldContent":"            border: OutlineInputBorder("},{"type":"DELETE","lineNumber":118,"oldContent":"              borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":121,"oldContent":"            ),"},{"type":"DELETE","lineNumber":123,"oldContent":"            focusedBorder: OutlineInputBorder("},{"type":"DELETE","lineNumber":125,"oldContent":"              borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":115,"content":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":116,"content":"      children: ["},{"type":"INSERT","lineNumber":117,"content":"        TextFormField("},{"type":"INSERT","lineNumber":118,"content":"          controller: _locationController,"},{"type":"INSERT","lineNumber":119,"content":"          decoration: InputDecoration("},{"type":"DELETE","lineNumber":127,"oldContent":"            ),"},{"type":"DELETE","lineNumber":129,"oldContent":"          ),"},{"type":"DELETE","lineNumber":130,"oldContent":"      ],"},{"type":"INSERT","lineNumber":122,"content":"            hintText: 'Enter destination',"},{"type":"DELETE","lineNumber":132,"oldContent":"    );"},{"type":"DELETE","lineNumber":133,"oldContent":"  }"},{"type":"DELETE","lineNumber":135,"oldContent":"  Widget _buildDateSection() {"},{"type":"DELETE","lineNumber":138,"oldContent":"      children: ["},{"type":"INSERT","lineNumber":127,"content":"            border: OutlineInputBorder("},{"type":"INSERT","lineNumber":128,"content":"              borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":140,"oldContent":"      ],"},{"type":"INSERT","lineNumber":130,"content":"            ),"},{"type":"INSERT","lineNumber":131,"content":"            focusedBorder: OutlineInputBorder("},{"type":"INSERT","lineNumber":132,"content":"              borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":134,"content":"            ),"},{"type":"INSERT","lineNumber":136,"content":"          ),"},{"type":"DELETE","lineNumber":144,"oldContent":"  Widget _buildDateField(String label, DateTime? date, bool isCheckIn) {"},{"type":"DELETE","lineNumber":145,"oldContent":"    return GestureDetector("},{"type":"INSERT","lineNumber":138,"content":"      ],"},{"type":"INSERT","lineNumber":139,"content":"    );"},{"type":"INSERT","lineNumber":140,"content":"  }"},{"type":"DELETE","lineNumber":147,"oldContent":"      onTap: () => _selectDate(isCheckIn),"},{"type":"INSERT","lineNumber":142,"content":"  Widget _buildDateSection() {"},{"type":"DELETE","lineNumber":149,"oldContent":"      child: Container("},{"type":"INSERT","lineNumber":144,"content":"      children: ["},{"type":"DELETE","lineNumber":152,"oldContent":"        decoration: BoxDecoration("},{"type":"DELETE","lineNumber":154,"oldContent":"        ),"},{"type":"INSERT","lineNumber":148,"content":"      ],"},{"type":"DELETE","lineNumber":157,"oldContent":"          children: ["},{"type":"INSERT","lineNumber":152,"content":"  Widget _buildDateField(String label, DateTime? date, bool isCheckIn) {"},{"type":"INSERT","lineNumber":153,"content":"    return GestureDetector("},{"type":"INSERT","lineNumber":154,"content":"      onTap: () => _selectDate(isCheckIn),"},{"type":"INSERT","lineNumber":155,"content":"      child: Container("},{"type":"INSERT","lineNumber":157,"content":"        decoration: BoxDecoration("},{"type":"INSERT","lineNumber":161,"content":"        ),"},{"type":"INSERT","lineNumber":163,"content":"          children: ["},{"type":"DELETE","lineNumber":179,"oldContent":"            ),"},{"type":"DELETE","lineNumber":181,"oldContent":"          ],"},{"type":"DELETE","lineNumber":183,"oldContent":"        ),"},{"type":"DELETE","lineNumber":185,"oldContent":"      ),"},{"type":"DELETE","lineNumber":186,"oldContent":"    );"},{"type":"DELETE","lineNumber":188,"oldContent":"  }"},{"type":"DELETE","lineNumber":190,"oldContent":""},{"type":"INSERT","lineNumber":186,"content":"            ),"},{"type":"INSERT","lineNumber":187,"content":"          ],"},{"type":"INSERT","lineNumber":188,"content":"        ),"},{"type":"INSERT","lineNumber":189,"content":"      ),"},{"type":"INSERT","lineNumber":190,"content":"    );"},{"type":"INSERT","lineNumber":191,"content":"  }"},{"type":"INSERT","lineNumber":192,"content":""},{"type":"DELETE","lineNumber":213,"oldContent":"            children: ["},{"type":"DELETE","lineNumber":220,"oldContent":"                    color: _guests > 1 ? AppColors.primary : Colors.grey[400],"},{"type":"DELETE","lineNumber":222,"oldContent":"                  ),"},{"type":"INSERT","lineNumber":225,"content":"            children: ["},{"type":"DELETE","lineNumber":230,"oldContent":"                    color: AppColors.primary,"},{"type":"DELETE","lineNumber":232,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":235,"oldContent":"              ),"},{"type":"DELETE","lineNumber":236,"oldContent":"            ],"},{"type":"DELETE","lineNumber":240,"oldContent":"    );"},{"type":"DELETE","lineNumber":243,"oldContent":""},{"type":"INSERT","lineNumber":236,"content":"                    color: _guests > 1 ? AppColors.primary : Colors.grey[400],"},{"type":"INSERT","lineNumber":238,"content":"                  ),"},{"type":"INSERT","lineNumber":252,"content":"                    color: AppColors.primary,"},{"type":"DELETE","lineNumber":259,"oldContent":"  }"},{"type":"INSERT","lineNumber":254,"content":"                  ),"},{"type":"DELETE","lineNumber":261,"oldContent":"  Widget _buildSearchButton() {"},{"type":"INSERT","lineNumber":256,"content":"              ),"},{"type":"INSERT","lineNumber":257,"content":"            ],"},{"type":"INSERT","lineNumber":261,"content":"    );"},{"type":"DELETE","lineNumber":266,"oldContent":"          ),"},{"type":"INSERT","lineNumber":263,"content":""},{"type":"DELETE","lineNumber":283,"oldContent":"      ),"},{"type":"DELETE","lineNumber":285,"oldContent":"    );"},{"type":"DELETE","lineNumber":286,"oldContent":"  }"},{"type":"DELETE","lineNumber":288,"oldContent":""},{"type":"DELETE","lineNumber":290,"oldContent":"  Widget _buildRecentSearches(List<RecentSearch> recentSearches) {"},{"type":"DELETE","lineNumber":292,"oldContent":"    return Column("},{"type":"DELETE","lineNumber":293,"oldContent":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":295,"oldContent":"      children: ["},{"type":"DELETE","lineNumber":297,"oldContent":"        Text("},{"type":"DELETE","lineNumber":299,"oldContent":"          style: AppTextStyles.h5.copyWith(color: AppColors.textPrimary),"},{"type":"DELETE","lineNumber":300,"oldContent":"        ),"},{"type":"INSERT","lineNumber":287,"content":"  }"},{"type":"DELETE","lineNumber":302,"oldContent":"        ListView.builder("},{"type":"DELETE","lineNumber":303,"oldContent":"          shrinkWrap: true,"},{"type":"DELETE","lineNumber":304,"oldContent":"          physics: const NeverScrollableScrollPhysics(),"},{"type":"INSERT","lineNumber":289,"content":"  Widget _buildSearchButton() {"},{"type":"DELETE","lineNumber":306,"oldContent":"          itemBuilder: (context, index) {"},{"type":"DELETE","lineNumber":308,"oldContent":"            final search = recentSearches[index];"},{"type":"DELETE","lineNumber":313,"oldContent":"              ),"},{"type":"INSERT","lineNumber":300,"content":"          ),"},{"type":"DELETE","lineNumber":325,"oldContent":"                          style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":309,"content":"            backgroundColor: AppColors.primary,"},{"type":"INSERT","lineNumber":310,"content":"            shape: RoundedRectangleBorder("},{"type":"INSERT","lineNumber":311,"content":"              borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":312,"content":"            ),"},{"type":"INSERT","lineNumber":313,"content":"            elevation: 0,"},{"type":"INSERT","lineNumber":314,"content":"          ),"},{"type":"INSERT","lineNumber":315,"content":"          child: Row("},{"type":"INSERT","lineNumber":316,"content":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"INSERT","lineNumber":317,"content":"            children: ["},{"type":"INSERT","lineNumber":318,"content":"              Icon(Icons.search, color: Colors.white, size: 20.sp),"},{"type":"INSERT","lineNumber":319,"content":"              SizedBox(width: 8.w),"},{"type":"INSERT","lineNumber":320,"content":"              Text("},{"type":"INSERT","lineNumber":321,"content":"                'Search',"},{"type":"INSERT","lineNumber":322,"content":"                style: AppTextStyles.buttonText.copyWith(color: Colors.white),"},{"type":"INSERT","lineNumber":323,"content":"              ),"},{"type":"INSERT","lineNumber":324,"content":"            ],"},{"type":"INSERT","lineNumber":325,"content":"          ),"},{"type":"INSERT","lineNumber":326,"content":"        ),"},{"type":"INSERT","lineNumber":327,"content":"      ),"},{"type":"INSERT","lineNumber":328,"content":"    );"},{"type":"INSERT","lineNumber":329,"content":"  }"},{"type":"INSERT","lineNumber":330,"content":""},{"type":"INSERT","lineNumber":331,"content":"  Widget _buildRecentSearches(List<RecentSearch> recentSearches) {"},{"type":"INSERT","lineNumber":332,"content":"    return Column("},{"type":"INSERT","lineNumber":333,"content":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":334,"content":"      children: ["},{"type":"INSERT","lineNumber":335,"content":"        Text("},{"type":"INSERT","lineNumber":336,"content":"          'Recent Search',"},{"type":"INSERT","lineNumber":337,"content":"          style: AppTextStyles.h5.copyWith(color: AppColors.textPrimary),"},{"type":"INSERT","lineNumber":338,"content":"        ),"},{"type":"INSERT","lineNumber":339,"content":"        SizedBox(height: 16.h),"},{"type":"INSERT","lineNumber":340,"content":"        ListView.builder("},{"type":"INSERT","lineNumber":341,"content":"          shrinkWrap: true,"},{"type":"INSERT","lineNumber":342,"content":"          physics: const NeverScrollableScrollPhysics(),"},{"type":"INSERT","lineNumber":343,"content":"          itemCount: recentSearches.length.clamp(0, 3), // Limit to 3 recent searches"},{"type":"INSERT","lineNumber":344,"content":"          itemBuilder: (context, index) {"},{"type":"INSERT","lineNumber":345,"content":"            final search = recentSearches[index];"},{"type":"INSERT","lineNumber":346,"content":"            return Container("},{"type":"INSERT","lineNumber":347,"content":"              margin: EdgeInsets.only(bottom: 12.h),"},{"type":"INSERT","lineNumber":348,"content":"              padding: EdgeInsets.all(16.w),"},{"type":"INSERT","lineNumber":349,"content":"              decoration: BoxDecoration("},{"type":"INSERT","lineNumber":350,"content":"                color: Colors.white,"},{"type":"INSERT","lineNumber":351,"content":"                borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":352,"content":"                border: Border.all(color: AppColors.border.withOpacity(0.5)),"},{"type":"INSERT","lineNumber":353,"content":"              ),"},{"type":"INSERT","lineNumber":354,"content":"              child: Row("},{"type":"INSERT","lineNumber":355,"content":"                children: ["},{"type":"INSERT","lineNumber":356,"content":"                  Container("},{"type":"INSERT","lineNumber":357,"content":"                    padding: EdgeInsets.all(8.w),"},{"type":"INSERT","lineNumber":358,"content":"                    decoration: BoxDecoration("},{"type":"INSERT","lineNumber":359,"content":"                      color: AppColors.primary.withOpacity(0.1),"},{"type":"INSERT","lineNumber":360,"content":"                      borderRadius: BorderRadius.circular(8.r),"},{"type":"INSERT","lineNumber":361,"content":"                    ),"},{"type":"INSERT","lineNumber":362,"content":"                    child: Icon("},{"type":"INSERT","lineNumber":363,"content":"                      Icons.history,"},{"type":"INSERT","lineNumber":364,"content":"                      color: AppColors.primary,"},{"type":"INSERT","lineNumber":365,"content":"                      size: 16.sp,"},{"type":"INSERT","lineNumber":366,"content":"                    ),"},{"type":"INSERT","lineNumber":367,"content":"                  ),"},{"type":"INSERT","lineNumber":368,"content":"                  SizedBox(width: 12.w),"},{"type":"INSERT","lineNumber":369,"content":"                  Expanded("},{"type":"INSERT","lineNumber":370,"content":"                    child: Column("},{"type":"INSERT","lineNumber":371,"content":"                      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":372,"content":"                      children: ["},{"type":"INSERT","lineNumber":373,"content":"                        Text("},{"type":"INSERT","lineNumber":374,"content":"                          search.location ?? 'Damascus, Kafr Sosa',"},{"type":"INSERT","lineNumber":375,"content":"                          style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":329,"oldContent":"            backgroundColor: AppColors.primary,"},{"type":"DELETE","lineNumber":332,"oldContent":"            shape: RoundedRectangleBorder("},{"type":"DELETE","lineNumber":335,"oldContent":"              borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":338,"oldContent":"            ),"},{"type":"DELETE","lineNumber":341,"oldContent":"            elevation: 0,"},{"type":"DELETE","lineNumber":344,"oldContent":"          ),"},{"type":"DELETE","lineNumber":347,"oldContent":"          child: Row("},{"type":"DELETE","lineNumber":350,"oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"DELETE","lineNumber":353,"oldContent":"            children: ["},{"type":"DELETE","lineNumber":356,"oldContent":"              Icon(Icons.search, color: Colors.white, size: 20.sp),"},{"type":"DELETE","lineNumber":359,"oldContent":"              SizedBox(width: 8.w),"},{"type":"DELETE","lineNumber":362,"oldContent":"              Text("},{"type":"DELETE","lineNumber":365,"oldContent":"                'Search',"},{"type":"DELETE","lineNumber":368,"oldContent":"                style: AppTextStyles.buttonText.copyWith(color: Colors.white),"},{"type":"DELETE","lineNumber":371,"oldContent":"              ),"},{"type":"DELETE","lineNumber":374,"oldContent":"            ],"},{"type":"DELETE","lineNumber":377,"oldContent":"          ),"},{"type":"DELETE","lineNumber":384,"oldContent":"        ),"},{"type":"DELETE","lineNumber":391,"oldContent":"          'Recent Search',"},{"type":"DELETE","lineNumber":396,"oldContent":"        SizedBox(height: 16.h),"},{"type":"DELETE","lineNumber":402,"oldContent":"          itemCount: recentSearches.length.clamp(0, 3), // Limit to 3 recent searches"},{"type":"DELETE","lineNumber":407,"oldContent":"            return Container("},{"type":"DELETE","lineNumber":410,"oldContent":"              margin: EdgeInsets.only(bottom: 12.h),"},{"type":"DELETE","lineNumber":413,"oldContent":"              padding: EdgeInsets.all(16.w),"},{"type":"DELETE","lineNumber":416,"oldContent":"              decoration: BoxDecoration("},{"type":"DELETE","lineNumber":417,"oldContent":"    Navigator.of(context).push("},{"type":"DELETE","lineNumber":418,"oldContent":"      MaterialPageRoute("},{"type":"DELETE","lineNumber":419,"oldContent":"                color: Colors.white,"},{"type":"DELETE","lineNumber":420,"oldContent":"        builder: (context) => BlocProvider.value("},{"type":"DELETE","lineNumber":421,"oldContent":"          value: bloc,"},{"type":"DELETE","lineNumber":422,"oldContent":"                borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":423,"oldContent":"          child: FilterScreen(currentFilter: currentFilter),"},{"type":"DELETE","lineNumber":424,"oldContent":"        ),"},{"type":"DELETE","lineNumber":425,"oldContent":"                border: Border.all(color: AppColors.border.withOpacity(0.5)),"},{"type":"DELETE","lineNumber":426,"oldContent":"      ),"},{"type":"INSERT","lineNumber":441,"content":"    Navigator.of(context).pushNamed("},{"type":"INSERT","lineNumber":442,"content":"      '/filter',"},{"type":"INSERT","lineNumber":443,"content":"      arguments: {'filter': currentFilter},"},{"type":"DELETE","lineNumber":429,"oldContent":"              child: Row("},{"type":"DELETE","lineNumber":432,"oldContent":"                children: ["},{"type":"DELETE","lineNumber":435,"oldContent":"                  Container("},{"type":"DELETE","lineNumber":438,"oldContent":"                    padding: EdgeInsets.all(8.w),"},{"type":"DELETE","lineNumber":441,"oldContent":"                    decoration: BoxDecoration("},{"type":"DELETE","lineNumber":444,"oldContent":"                      color: AppColors.primary.withOpacity(0.1),"},{"type":"DELETE","lineNumber":447,"oldContent":"                      borderRadius: BorderRadius.circular(8.r),"},{"type":"DELETE","lineNumber":450,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":453,"oldContent":"                    child: Icon("},{"type":"DELETE","lineNumber":456,"oldContent":"                      Icons.history,"},{"type":"DELETE","lineNumber":459,"oldContent":"                      color: AppColors.primary,"},{"type":"DELETE","lineNumber":462,"oldContent":"                      size: 16.sp,"},{"type":"DELETE","lineNumber":465,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":468,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":471,"oldContent":"                  SizedBox(width: 12.w),"},{"type":"DELETE","lineNumber":474,"oldContent":"                  Expanded("},{"type":"DELETE","lineNumber":477,"oldContent":"                    child: Column("},{"type":"DELETE","lineNumber":480,"oldContent":"                      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":483,"oldContent":"                      children: ["},{"type":"DELETE","lineNumber":486,"oldContent":"                        Text("},{"type":"DELETE","lineNumber":489,"oldContent":"                          search.location ?? 'Damascus, Kafr Sosa',"}]},{"timestamp":1758450202900,"changes":[{"type":"INSERT","lineNumber":43,"content":"          'Search',"},{"type":"DELETE","lineNumber":44,"oldContent":"          style: AppTextStyles.h4.copyWith(color: AppColors.textPrimary),"},{"type":"DELETE","lineNumber":47,"oldContent":"        iconTheme: const IconThemeData(color: AppColors.textPrimary),"},{"type":"DELETE","lineNumber":49,"oldContent":"      ),"},{"type":"INSERT","lineNumber":48,"content":"        iconTheme: const IconThemeData(color: AppColors.textPrimary),"},{"type":"INSERT","lineNumber":50,"content":"      ),"},{"type":"MODIFY","lineNumber":72,"content":"          );","oldContent":"          );"},{"type":"DELETE","lineNumber":88,"oldContent":"          ),"},{"type":"MODIFY","lineNumber":90,"content":"          ),","oldContent":"        ],"},{"type":"INSERT","lineNumber":91,"content":"        ],"},{"type":"DELETE","lineNumber":109,"oldContent":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":111,"oldContent":"      children: ["},{"type":"DELETE","lineNumber":112,"oldContent":"        TextFormField("},{"type":"DELETE","lineNumber":114,"oldContent":"          controller: _locationController,"},{"type":"DELETE","lineNumber":115,"oldContent":"          decoration: InputDecoration("},{"type":"DELETE","lineNumber":118,"oldContent":"            hintText: 'Enter destination',"},{"type":"INSERT","lineNumber":115,"content":"      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":116,"content":"      children: ["},{"type":"INSERT","lineNumber":117,"content":"        TextFormField("},{"type":"INSERT","lineNumber":118,"content":"          controller: _locationController,"},{"type":"INSERT","lineNumber":119,"content":"          decoration: InputDecoration("},{"type":"INSERT","lineNumber":121,"content":"            labelStyle: AppTextStyles.bodyMedium.copyWith(color: AppColors.textSecondary),"},{"type":"INSERT","lineNumber":122,"content":"            hintText: 'Enter destination',"},{"type":"INSERT","lineNumber":123,"content":"            hintStyle: AppTextStyles.inputHint,"},{"type":"INSERT","lineNumber":124,"content":"            prefixIcon: Icon(Icons.location_on_outlined, color: AppColors.primary),"},{"type":"INSERT","lineNumber":125,"content":"            filled: true,"},{"type":"INSERT","lineNumber":126,"content":"            fillColor: AppColors.inputBackground,"},{"type":"DELETE","lineNumber":124,"oldContent":"            labelStyle: AppTextStyles.bodyMedium.copyWith(color: AppColors.textSecondary),"},{"type":"INSERT","lineNumber":129,"content":"              borderSide: BorderSide.none,"},{"type":"DELETE","lineNumber":127,"oldContent":"            hintStyle: AppTextStyles.inputHint,"},{"type":"INSERT","lineNumber":133,"content":"              borderSide: BorderSide(color: AppColors.primary),"},{"type":"DELETE","lineNumber":130,"oldContent":"            prefixIcon: Icon(Icons.location_on_outlined, color: AppColors.primary),"},{"type":"INSERT","lineNumber":135,"content":"            contentPadding: EdgeInsets.symmetric(horizontal: 16.w, vertical: 14.h),"},{"type":"DELETE","lineNumber":132,"oldContent":"            filled: true,"},{"type":"DELETE","lineNumber":133,"oldContent":"            fillColor: AppColors.inputBackground,"},{"type":"INSERT","lineNumber":137,"content":"        ),"},{"type":"DELETE","lineNumber":136,"oldContent":"              borderSide: BorderSide.none,"},{"type":"DELETE","lineNumber":138,"oldContent":"              borderSide: BorderSide(color: AppColors.primary),"},{"type":"DELETE","lineNumber":139,"oldContent":"  Widget _buildDateSection() {"},{"type":"DELETE","lineNumber":140,"oldContent":"            contentPadding: EdgeInsets.symmetric(horizontal: 16.w, vertical: 14.h),"},{"type":"DELETE","lineNumber":141,"oldContent":"        ),"},{"type":"DELETE","lineNumber":142,"oldContent":"      children: ["},{"type":"DELETE","lineNumber":144,"oldContent":"      ],"},{"type":"INSERT","lineNumber":142,"content":"  Widget _buildDateSection() {"},{"type":"INSERT","lineNumber":144,"content":"      children: ["},{"type":"DELETE","lineNumber":148,"oldContent":"  Widget _buildDateField(String label, DateTime? date, bool isCheckIn) {"},{"type":"DELETE","lineNumber":149,"oldContent":"    return GestureDetector("},{"type":"DELETE","lineNumber":151,"oldContent":"      onTap: () => _selectDate(isCheckIn),"},{"type":"DELETE","lineNumber":152,"oldContent":"      child: Container("},{"type":"INSERT","lineNumber":148,"content":"      ],"},{"type":"DELETE","lineNumber":155,"oldContent":"        decoration: BoxDecoration("},{"type":"INSERT","lineNumber":152,"content":"  Widget _buildDateField(String label, DateTime? date, bool isCheckIn) {"},{"type":"INSERT","lineNumber":153,"content":"    return GestureDetector("},{"type":"INSERT","lineNumber":154,"content":"      onTap: () => _selectDate(isCheckIn),"},{"type":"INSERT","lineNumber":155,"content":"      child: Container("},{"type":"INSERT","lineNumber":157,"content":"        decoration: BoxDecoration("},{"type":"DELETE","lineNumber":159,"oldContent":"        ),"},{"type":"DELETE","lineNumber":162,"oldContent":"          children: ["},{"type":"INSERT","lineNumber":161,"content":"        ),"},{"type":"INSERT","lineNumber":163,"content":"          children: ["},{"type":"INSERT","lineNumber":182,"content":"                    ),"},{"type":"INSERT","lineNumber":183,"content":"                  ),"},{"type":"INSERT","lineNumber":184,"content":"                ],"},{"type":"INSERT","lineNumber":185,"content":"              ),"},{"type":"DELETE","lineNumber":184,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":187,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":190,"oldContent":"                ],"},{"type":"DELETE","lineNumber":192,"oldContent":"              ),"},{"type":"DELETE","lineNumber":222,"oldContent":"            children: ["},{"type":"INSERT","lineNumber":225,"content":"            children: ["},{"type":"DELETE","lineNumber":231,"oldContent":"                    color: _guests > 1 ? AppColors.primary : Colors.grey[400],"},{"type":"DELETE","lineNumber":233,"oldContent":"                  ),"},{"type":"INSERT","lineNumber":236,"content":"                    color: _guests > 1 ? AppColors.primary : Colors.grey[400],"},{"type":"INSERT","lineNumber":238,"content":"                  ),"},{"type":"DELETE","lineNumber":246,"oldContent":"                    color: AppColors.primary,"},{"type":"DELETE","lineNumber":249,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":252,"oldContent":"              ),"},{"type":"DELETE","lineNumber":254,"oldContent":"            ],"},{"type":"INSERT","lineNumber":252,"content":"                    color: AppColors.primary,"},{"type":"INSERT","lineNumber":254,"content":"                  ),"},{"type":"DELETE","lineNumber":258,"oldContent":"    );"},{"type":"INSERT","lineNumber":256,"content":"              ),"},{"type":"INSERT","lineNumber":257,"content":"            ],"},{"type":"DELETE","lineNumber":260,"oldContent":""},{"type":"INSERT","lineNumber":261,"content":"    );"},{"type":"INSERT","lineNumber":263,"content":""},{"type":"DELETE","lineNumber":281,"oldContent":"  }"},{"type":"DELETE","lineNumber":283,"oldContent":"  Widget _buildSearchButton() {"},{"type":"DELETE","lineNumber":289,"oldContent":"          ),"},{"type":"INSERT","lineNumber":287,"content":"  }"},{"type":"INSERT","lineNumber":289,"content":"  Widget _buildSearchButton() {"},{"type":"DELETE","lineNumber":293,"oldContent":"            backgroundColor: AppColors.primary,"},{"type":"DELETE","lineNumber":295,"oldContent":"            shape: RoundedRectangleBorder("},{"type":"DELETE","lineNumber":297,"oldContent":"              borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":299,"oldContent":"            ),"},{"type":"INSERT","lineNumber":296,"content":"            color: Colors.grey.withOpacity(0.1),"},{"type":"INSERT","lineNumber":297,"content":"            spreadRadius: 0,"},{"type":"INSERT","lineNumber":298,"content":"            blurRadius: 10,"},{"type":"INSERT","lineNumber":299,"content":"            offset: const Offset(0, -2),"},{"type":"INSERT","lineNumber":300,"content":"          ),"},{"type":"INSERT","lineNumber":301,"content":"        ],"},{"type":"INSERT","lineNumber":302,"content":"      ),"},{"type":"INSERT","lineNumber":303,"content":"      child: SizedBox("},{"type":"INSERT","lineNumber":304,"content":"        width: double.infinity,"},{"type":"INSERT","lineNumber":305,"content":"        height: 52.h,"},{"type":"INSERT","lineNumber":306,"content":"        child: ElevatedButton("},{"type":"INSERT","lineNumber":307,"content":"          onPressed: _onSearchButtonPressed,"},{"type":"INSERT","lineNumber":308,"content":"          style: ElevatedButton.styleFrom("},{"type":"INSERT","lineNumber":309,"content":"            backgroundColor: AppColors.primary,"},{"type":"INSERT","lineNumber":310,"content":"            shape: RoundedRectangleBorder("},{"type":"INSERT","lineNumber":311,"content":"              borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":312,"content":"            ),"},{"type":"DELETE","lineNumber":303,"oldContent":"            color: Colors.grey.withOpacity(0.1),"},{"type":"DELETE","lineNumber":305,"oldContent":"            spreadRadius: 0,"},{"type":"DELETE","lineNumber":307,"oldContent":"            blurRadius: 10,"},{"type":"DELETE","lineNumber":309,"oldContent":"            offset: const Offset(0, -2),"},{"type":"DELETE","lineNumber":311,"oldContent":"        ],"},{"type":"DELETE","lineNumber":313,"oldContent":"      ),"},{"type":"DELETE","lineNumber":315,"oldContent":"      child: SizedBox("},{"type":"DELETE","lineNumber":317,"oldContent":"        width: double.infinity,"},{"type":"DELETE","lineNumber":319,"oldContent":"        height: 52.h,"},{"type":"DELETE","lineNumber":321,"oldContent":"        child: ElevatedButton("},{"type":"DELETE","lineNumber":323,"oldContent":"          onPressed: _onSearchButtonPressed,"},{"type":"DELETE","lineNumber":326,"oldContent":"          style: ElevatedButton.styleFrom("},{"type":"DELETE","lineNumber":328,"oldContent":"                            color: AppColors.textPrimary,"},{"type":"DELETE","lineNumber":330,"oldContent":"                            fontWeight: FontWeight.w500,"},{"type":"DELETE","lineNumber":333,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":335,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":338,"oldContent":"                        SizedBox(height: 2.h),"},{"type":"DELETE","lineNumber":340,"oldContent":"                        Text("},{"type":"DELETE","lineNumber":343,"oldContent":"                          '${search.checkIn != null ? \"Sep ${search.checkIn!.day}\" : \"Sep 2\"} - ${search.checkOut != null ? \"Sep ${search.checkOut!.day}\" : \"Sep 4\"}, ${search.guests ?? 2} Guests',"},{"type":"DELETE","lineNumber":345,"oldContent":"                          style: AppTextStyles.bodySmall.copyWith(color: AppColors.textSecondary),"},{"type":"DELETE","lineNumber":348,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":350,"oldContent":"                      ],"},{"type":"DELETE","lineNumber":353,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":355,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":358,"oldContent":"                  GestureDetector("},{"type":"DELETE","lineNumber":360,"oldContent":"                    onTap: () => _removeRecentSearch(index),"},{"type":"DELETE","lineNumber":363,"oldContent":"                    child: Icon("},{"type":"DELETE","lineNumber":365,"oldContent":"                      Icons.close,"},{"type":"DELETE","lineNumber":368,"oldContent":"                      color: AppColors.error,"},{"type":"DELETE","lineNumber":370,"oldContent":"                      size: 20.sp,"},{"type":"DELETE","lineNumber":373,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":375,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":378,"oldContent":"                ],"},{"type":"DELETE","lineNumber":380,"oldContent":"              ),"},{"type":"DELETE","lineNumber":383,"oldContent":"            );"},{"type":"DELETE","lineNumber":385,"oldContent":"          },"},{"type":"DELETE","lineNumber":388,"oldContent":"        ),"},{"type":"DELETE","lineNumber":390,"oldContent":"      ],"},{"type":"DELETE","lineNumber":393,"oldContent":"    );"},{"type":"DELETE","lineNumber":395,"oldContent":"  }"},{"type":"DELETE","lineNumber":398,"oldContent":""},{"type":"DELETE","lineNumber":400,"oldContent":"  Future<void> _selectDate(bool isCheckIn) async {"},{"type":"DELETE","lineNumber":403,"oldContent":"    final DateTime? picked = await showDatePicker("},{"type":"DELETE","lineNumber":405,"oldContent":"      context: context,"},{"type":"INSERT","lineNumber":376,"content":"                            color: AppColors.textPrimary,"},{"type":"INSERT","lineNumber":377,"content":"                            fontWeight: FontWeight.w500,"},{"type":"INSERT","lineNumber":378,"content":"                          ),"},{"type":"INSERT","lineNumber":379,"content":"                        ),"},{"type":"INSERT","lineNumber":380,"content":"                        SizedBox(height: 2.h),"},{"type":"INSERT","lineNumber":381,"content":"                        Text("},{"type":"INSERT","lineNumber":382,"content":"                          '${search.checkIn != null ? \"Sep ${search.checkIn!.day}\" : \"Sep 2\"} - ${search.checkOut != null ? \"Sep ${search.checkOut!.day}\" : \"Sep 4\"}, ${search.guests ?? 2} Guests',"},{"type":"INSERT","lineNumber":383,"content":"                          style: AppTextStyles.bodySmall.copyWith(color: AppColors.textSecondary),"},{"type":"INSERT","lineNumber":384,"content":"                        ),"},{"type":"INSERT","lineNumber":385,"content":"                      ],"},{"type":"INSERT","lineNumber":386,"content":"                    ),"},{"type":"INSERT","lineNumber":387,"content":"                  ),"},{"type":"INSERT","lineNumber":388,"content":"                  GestureDetector("},{"type":"INSERT","lineNumber":389,"content":"                    onTap: () => _removeRecentSearch(index),"},{"type":"INSERT","lineNumber":390,"content":"                    child: Icon("},{"type":"INSERT","lineNumber":391,"content":"                      Icons.close,"},{"type":"INSERT","lineNumber":392,"content":"                      color: AppColors.error,"},{"type":"INSERT","lineNumber":393,"content":"                      size: 20.sp,"},{"type":"INSERT","lineNumber":394,"content":"                    ),"},{"type":"INSERT","lineNumber":395,"content":"                  ),"},{"type":"INSERT","lineNumber":396,"content":"                ],"},{"type":"INSERT","lineNumber":397,"content":"              ),"},{"type":"INSERT","lineNumber":398,"content":"            );"},{"type":"INSERT","lineNumber":399,"content":"          },"},{"type":"INSERT","lineNumber":400,"content":"        ),"},{"type":"INSERT","lineNumber":401,"content":"      ],"},{"type":"INSERT","lineNumber":402,"content":"    );"},{"type":"INSERT","lineNumber":403,"content":"  }"},{"type":"INSERT","lineNumber":404,"content":""},{"type":"INSERT","lineNumber":405,"content":"  Future<void> _selectDate(bool isCheckIn) async {"},{"type":"INSERT","lineNumber":406,"content":"    final DateTime? picked = await showDatePicker("},{"type":"INSERT","lineNumber":407,"content":"      context: context,"},{"type":"INSERT","lineNumber":441,"content":"    Navigator.of(context).pushNamed("},{"type":"INSERT","lineNumber":442,"content":"      '/filter',"},{"type":"INSERT","lineNumber":443,"content":"      arguments: {'filter': currentFilter},"},{"type":"DELETE","lineNumber":451,"oldContent":"    Navigator.of(context).pushNamed("},{"type":"DELETE","lineNumber":452,"oldContent":"      '/filter',"},{"type":"DELETE","lineNumber":454,"oldContent":"      arguments: {'filter': currentFilter},"},{"type":"DELETE","lineNumber":476,"oldContent":"    Navigator.of(context).push("},{"type":"DELETE","lineNumber":477,"oldContent":"      MaterialPageRoute("},{"type":"DELETE","lineNumber":478,"oldContent":"        builder: (context) => BlocProvider.value("},{"type":"DELETE","lineNumber":479,"oldContent":"          value: context.read<SearchBloc>()..add(SearchPropertiesEvent(filter: filter)),"},{"type":"DELETE","lineNumber":480,"oldContent":"          child: const SearchResultsScreen(),"},{"type":"DELETE","lineNumber":481,"oldContent":"        ),"},{"type":"DELETE","lineNumber":482,"oldContent":"      ),"},{"type":"INSERT","lineNumber":476,"content":"    Navigator.of(context).pushNamed("},{"type":"INSERT","lineNumber":477,"content":"      '/search-results',"},{"type":"INSERT","lineNumber":478,"content":"      arguments: {'filter': filter},"}]},{"timestamp":1758450257912,"changes":[{"type":"DELETE","lineNumber":7,"oldContent":"import 'search_results_screen.dart';"},{"type":"DELETE","lineNumber":8,"oldContent":"import 'filter_screen.dart';"},{"type":"DELETE","lineNumber":47,"oldContent":"        iconTheme: const IconThemeData(color: AppColors.textPrimary),"},{"type":"DELETE","lineNumber":49,"oldContent":"      ),"},{"type":"INSERT","lineNumber":46,"content":"        iconTheme: const IconThemeData(color: AppColors.textPrimary),"},{"type":"INSERT","lineNumber":48,"content":"      ),"},{"type":"INSERT","lineNumber":69,"content":"            ],"},{"type":"DELETE","lineNumber":72,"oldContent":"          );"},{"type":"INSERT","lineNumber":87,"content":"            offset: const Offset(0, 4),"},{"type":"DELETE","lineNumber":91,"oldContent":"            offset: const Offset(0, 4),"},{"type":"INSERT","lineNumber":109,"content":"  }"},{"type":"INSERT","lineNumber":110,"content":""},{"type":"INSERT","lineNumber":111,"content":"  Widget _buildLocationField() {"},{"type":"INSERT","lineNumber":112,"content":"    return Column("},{"type":"DELETE","lineNumber":113,"oldContent":"  }"},{"type":"DELETE","lineNumber":115,"oldContent":""},{"type":"DELETE","lineNumber":118,"oldContent":"  Widget _buildLocationField() {"},{"type":"DELETE","lineNumber":119,"oldContent":"    return Column("},{"type":"MODIFY","lineNumber":119,"content":"            labelStyle: AppTextStyles.bodyMedium.copyWith(color: AppColors.textSecondary),","oldContent":"            labelStyle: AppTextStyles.bodyMedium.copyWith(color: AppColors.textSecondary),"},{"type":"DELETE","lineNumber":123,"oldContent":"            border: OutlineInputBorder("},{"type":"DELETE","lineNumber":125,"oldContent":"              borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":128,"oldContent":"            ),"},{"type":"DELETE","lineNumber":130,"oldContent":"            focusedBorder: OutlineInputBorder("},{"type":"INSERT","lineNumber":125,"content":"            border: OutlineInputBorder("},{"type":"DELETE","lineNumber":134,"oldContent":"          ),"},{"type":"INSERT","lineNumber":129,"content":"            focusedBorder: OutlineInputBorder("},{"type":"INSERT","lineNumber":130,"content":"              borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":136,"oldContent":"      ],"},{"type":"INSERT","lineNumber":132,"content":"            ),"},{"type":"DELETE","lineNumber":138,"oldContent":"    );"},{"type":"INSERT","lineNumber":134,"content":"          ),"},{"type":"INSERT","lineNumber":136,"content":"      ],"},{"type":"INSERT","lineNumber":137,"content":"    );"},{"type":"DELETE","lineNumber":141,"oldContent":"  Widget _buildDateSection() {"},{"type":"DELETE","lineNumber":143,"oldContent":"      children: ["},{"type":"INSERT","lineNumber":140,"content":"  Widget _buildDateSection() {"},{"type":"INSERT","lineNumber":142,"content":"      children: ["},{"type":"MODIFY","lineNumber":146,"content":"      ],","oldContent":"      ],"},{"type":"INSERT","lineNumber":147,"content":"    );"},{"type":"INSERT","lineNumber":148,"content":"  }"},{"type":"INSERT","lineNumber":149,"content":""},{"type":"DELETE","lineNumber":151,"oldContent":"    );"},{"type":"DELETE","lineNumber":153,"oldContent":"  }"},{"type":"DELETE","lineNumber":155,"oldContent":""},{"type":"MODIFY","lineNumber":155,"content":"        decoration: BoxDecoration(","oldContent":"        decoration: BoxDecoration("},{"type":"DELETE","lineNumber":160,"oldContent":"        ),"},{"type":"DELETE","lineNumber":162,"oldContent":"          children: ["},{"type":"INSERT","lineNumber":159,"content":"        ),"},{"type":"INSERT","lineNumber":161,"content":"          children: ["},{"type":"DELETE","lineNumber":183,"oldContent":"            ),"},{"type":"MODIFY","lineNumber":184,"content":"            ),","oldContent":"          ],"},{"type":"INSERT","lineNumber":185,"content":"          ],"},{"type":"MODIFY","lineNumber":223,"content":"            children: [","oldContent":"            children: ["},{"type":"DELETE","lineNumber":234,"oldContent":"                    color: _guests > 1 ? AppColors.primary : Colors.grey[400],"},{"type":"DELETE","lineNumber":237,"oldContent":"                  ),"},{"type":"INSERT","lineNumber":234,"content":"                    color: _guests > 1 ? AppColors.primary : Colors.grey[400],"},{"type":"INSERT","lineNumber":236,"content":"                  ),"},{"type":"DELETE","lineNumber":250,"oldContent":"                    color: AppColors.primary,"},{"type":"DELETE","lineNumber":252,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":254,"oldContent":"              ),"},{"type":"INSERT","lineNumber":250,"content":"                    color: AppColors.primary,"},{"type":"DELETE","lineNumber":256,"oldContent":"            ],"},{"type":"INSERT","lineNumber":252,"content":"                  ),"},{"type":"INSERT","lineNumber":254,"content":"              ),"},{"type":"INSERT","lineNumber":255,"content":"            ],"},{"type":"DELETE","lineNumber":259,"oldContent":"    );"},{"type":"DELETE","lineNumber":262,"oldContent":""},{"type":"INSERT","lineNumber":259,"content":"    );"},{"type":"INSERT","lineNumber":261,"content":""},{"type":"DELETE","lineNumber":285,"oldContent":"  }"},{"type":"DELETE","lineNumber":288,"oldContent":"  Widget _buildSearchButton() {"},{"type":"INSERT","lineNumber":285,"content":"  }"},{"type":"INSERT","lineNumber":287,"content":"  Widget _buildSearchButton() {"},{"type":"DELETE","lineNumber":293,"oldContent":"            color: Colors.grey.withOpacity(0.1),"},{"type":"INSERT","lineNumber":292,"content":"        boxShadow: ["},{"type":"INSERT","lineNumber":293,"content":"          BoxShadow("},{"type":"INSERT","lineNumber":294,"content":"            color: Colors.grey.withOpacity(0.1),"},{"type":"DELETE","lineNumber":297,"oldContent":"        boxShadow: ["},{"type":"DELETE","lineNumber":300,"oldContent":"          BoxShadow("},{"type":"DELETE","lineNumber":302,"oldContent":"            elevation: 0,"},{"type":"DELETE","lineNumber":304,"oldContent":"          ),"},{"type":"DELETE","lineNumber":307,"oldContent":"          child: Row("},{"type":"DELETE","lineNumber":310,"oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"DELETE","lineNumber":313,"oldContent":"            children: ["},{"type":"DELETE","lineNumber":316,"oldContent":"              Icon(Icons.search, color: Colors.white, size: 20.sp),"},{"type":"INSERT","lineNumber":311,"content":"            elevation: 0,"},{"type":"INSERT","lineNumber":312,"content":"          ),"},{"type":"INSERT","lineNumber":313,"content":"          child: Row("},{"type":"INSERT","lineNumber":314,"content":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"INSERT","lineNumber":315,"content":"            children: ["},{"type":"INSERT","lineNumber":316,"content":"              Icon(Icons.search, color: Colors.white, size: 20.sp),"},{"type":"DELETE","lineNumber":356,"oldContent":"                            color: AppColors.textPrimary,"},{"type":"DELETE","lineNumber":358,"oldContent":"                            fontWeight: FontWeight.w500,"},{"type":"INSERT","lineNumber":356,"content":"                    decoration: BoxDecoration("},{"type":"INSERT","lineNumber":357,"content":"                      color: AppColors.primary.withOpacity(0.1),"},{"type":"INSERT","lineNumber":358,"content":"                      borderRadius: BorderRadius.circular(8.r),"},{"type":"INSERT","lineNumber":359,"content":"                    ),"},{"type":"INSERT","lineNumber":360,"content":"                    child: Icon("},{"type":"INSERT","lineNumber":361,"content":"                      Icons.history,"},{"type":"INSERT","lineNumber":362,"content":"                      color: AppColors.primary,"},{"type":"INSERT","lineNumber":363,"content":"                      size: 16.sp,"},{"type":"INSERT","lineNumber":364,"content":"                    ),"},{"type":"INSERT","lineNumber":365,"content":"                  ),"},{"type":"INSERT","lineNumber":366,"content":"                  SizedBox(width: 12.w),"},{"type":"INSERT","lineNumber":367,"content":"                  Expanded("},{"type":"INSERT","lineNumber":368,"content":"                    child: Column("},{"type":"INSERT","lineNumber":369,"content":"                      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":370,"content":"                      children: ["},{"type":"INSERT","lineNumber":371,"content":"                        Text("},{"type":"INSERT","lineNumber":372,"content":"                          search.location ?? 'Damascus, Kafr Sosa',"},{"type":"INSERT","lineNumber":373,"content":"                          style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":374,"content":"                            color: AppColors.textPrimary,"},{"type":"INSERT","lineNumber":375,"content":"                            fontWeight: FontWeight.w500,"},{"type":"DELETE","lineNumber":362,"oldContent":"                    decoration: BoxDecoration("},{"type":"DELETE","lineNumber":365,"oldContent":"                      color: AppColors.primary.withOpacity(0.1),"},{"type":"DELETE","lineNumber":367,"oldContent":"                      borderRadius: BorderRadius.circular(8.r),"},{"type":"DELETE","lineNumber":370,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":373,"oldContent":"                    child: Icon("},{"type":"DELETE","lineNumber":375,"oldContent":"                      Icons.history,"},{"type":"DELETE","lineNumber":378,"oldContent":"                      color: AppColors.primary,"},{"type":"DELETE","lineNumber":381,"oldContent":"                      size: 16.sp,"},{"type":"DELETE","lineNumber":383,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":387,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":389,"oldContent":"                  SizedBox(width: 12.w),"},{"type":"DELETE","lineNumber":391,"oldContent":"                  Expanded("},{"type":"DELETE","lineNumber":394,"oldContent":"                    child: Column("},{"type":"DELETE","lineNumber":397,"oldContent":"                      crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":399,"oldContent":"                      children: ["},{"type":"DELETE","lineNumber":402,"oldContent":"                        Text("},{"type":"DELETE","lineNumber":405,"oldContent":"                          search.location ?? 'Damascus, Kafr Sosa',"},{"type":"DELETE","lineNumber":407,"oldContent":"                          style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":442,"oldContent":"    );"},{"type":"DELETE","lineNumber":444,"oldContent":"  }"},{"type":"INSERT","lineNumber":442,"content":"    );"},{"type":"INSERT","lineNumber":443,"content":"  }"}]}]},"D:/flutter projects/ahlanfeekum/lib/main.dart":{"filePath":"D:/flutter projects/ahlanfeekum/lib/main.dart","baseContent":"import 'package:flutter/material.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\nimport 'package:flutter_bloc/flutter_bloc.dart';\nimport 'core/di/injection.dart' as di;\nimport 'theming/app_theme.dart';\nimport 'features/auth/presentation/pages/initial_splash_screen.dart';\nimport 'features/search/presentation/pages/search_results_screen.dart';\n\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  await di.initializeDependencies();\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return ScreenUtilInit(\n      designSize: const Size(375, 812),\n      minTextAdapt: true,\n      splitScreenMode: true,\n      builder: (context, child) {\n        return MaterialApp(\n          title: 'Ahlanfeekum',\n          theme: AppTheme.lightTheme,\n          debugShowCheckedModeBanner: false,\n          home: const InitialSplashScreen(),\n          routes: {\n            '/search-results': (context) => const SearchResultsScreen(),\n          },\n        );\n      },\n    );\n  }\n}","baseTimestamp":1758197806903,"deltas":[{"timestamp":1758198284245,"changes":[{"type":"DELETE","lineNumber":7,"oldContent":""},{"type":"MODIFY","lineNumber":9,"content":"","oldContent":"void main() async {"},{"type":"INSERT","lineNumber":10,"content":"void main() async {"},{"type":"DELETE","lineNumber":26,"oldContent":"        return MaterialApp("},{"type":"DELETE","lineNumber":27,"oldContent":"          title: 'Ahlanfeekum',"},{"type":"DELETE","lineNumber":28,"oldContent":"          theme: AppTheme.lightTheme,"},{"type":"DELETE","lineNumber":29,"oldContent":"          debugShowCheckedModeBanner: false,"},{"type":"DELETE","lineNumber":30,"oldContent":"          home: const InitialSplashScreen(),"},{"type":"DELETE","lineNumber":31,"oldContent":"          routes: {"},{"type":"DELETE","lineNumber":32,"oldContent":"            '/search-results': (context) => const SearchResultsScreen(),"},{"type":"DELETE","lineNumber":33,"oldContent":"          },"},{"type":"INSERT","lineNumber":26,"content":"        return MultiBlocProvider("},{"type":"INSERT","lineNumber":27,"content":"          providers: ["},{"type":"INSERT","lineNumber":28,"content":"            BlocProvider<AuthBloc>("},{"type":"INSERT","lineNumber":29,"content":"              create: (context) => di.getIt<AuthBloc>(),"},{"type":"INSERT","lineNumber":30,"content":"            ),"},{"type":"INSERT","lineNumber":31,"content":"            BlocProvider<RegistrationCubit>("},{"type":"INSERT","lineNumber":32,"content":"              create: (context) => di.getIt<RegistrationCubit>(),"},{"type":"INSERT","lineNumber":33,"content":"            ),"},{"type":"INSERT","lineNumber":34,"content":"          ],"},{"type":"INSERT","lineNumber":35,"content":"          child: MaterialApp("},{"type":"INSERT","lineNumber":36,"content":"            title: 'Ahlanfeekum',"},{"type":"INSERT","lineNumber":37,"content":"            theme: AppTheme.lightTheme,"},{"type":"INSERT","lineNumber":38,"content":"            debugShowCheckedModeBanner: false,"},{"type":"INSERT","lineNumber":39,"content":"            home: const InitialSplashScreen(),"},{"type":"INSERT","lineNumber":40,"content":"            routes: {"},{"type":"INSERT","lineNumber":41,"content":"              '/search-results': (context) => const SearchResultsScreen(),"},{"type":"INSERT","lineNumber":42,"content":"            },"},{"type":"INSERT","lineNumber":43,"content":"          ),"}]},{"timestamp":1758198402436,"changes":[{"type":"INSERT","lineNumber":8,"content":"import 'features/auth/presentation/cubit/registration_cubit.dart';"},{"type":"DELETE","lineNumber":10,"oldContent":"import 'features/auth/presentation/cubit/registration_cubit.dart';"},{"type":"DELETE","lineNumber":35,"oldContent":"        );"},{"type":"DELETE","lineNumber":37,"oldContent":"      },"},{"type":"DELETE","lineNumber":39,"oldContent":"    );"},{"type":"DELETE","lineNumber":41,"oldContent":"  }"},{"type":"DELETE","lineNumber":43,"oldContent":"}"},{"type":"DELETE","lineNumber":45,"oldContent":"          ),"},{"type":"DELETE","lineNumber":47,"oldContent":"            },"},{"type":"INSERT","lineNumber":42,"content":"            },"},{"type":"INSERT","lineNumber":43,"content":"          ),"},{"type":"INSERT","lineNumber":44,"content":"        );"},{"type":"INSERT","lineNumber":45,"content":"      },"},{"type":"INSERT","lineNumber":46,"content":"    );"},{"type":"INSERT","lineNumber":47,"content":"  }"},{"type":"INSERT","lineNumber":48,"content":"}"}]},{"timestamp":1758198455817,"changes":[{"type":"DELETE","lineNumber":38,"oldContent":"            },"},{"type":"INSERT","lineNumber":39,"content":"            home: const InitialSplashScreen(),"},{"type":"INSERT","lineNumber":40,"content":"            routes: {"},{"type":"INSERT","lineNumber":41,"content":"              '/search-results': (context) => BlocProvider.value("},{"type":"INSERT","lineNumber":42,"content":"                value: di.getIt<AuthBloc>(),"},{"type":"INSERT","lineNumber":43,"content":"                child: const SearchResultsScreen(),"},{"type":"INSERT","lineNumber":44,"content":"              ),"},{"type":"INSERT","lineNumber":45,"content":"            },"},{"type":"DELETE","lineNumber":42,"oldContent":"            home: const InitialSplashScreen(),"},{"type":"DELETE","lineNumber":45,"oldContent":"            routes: {"},{"type":"DELETE","lineNumber":48,"oldContent":"              '/search-results': (context) => const SearchResultsScreen(),"}]},{"timestamp":1758198473107,"changes":[{"type":"MODIFY","lineNumber":39,"content":"            home: const InitialSplashScreen(),","oldContent":"            home: const InitialSplashScreen(),"},{"type":"INSERT","lineNumber":41,"content":"              '/search-results': (context) => BlocProvider("},{"type":"INSERT","lineNumber":42,"content":"                create: (context) => di.getIt<SearchBloc>(),"},{"type":"INSERT","lineNumber":43,"content":"                child: const SearchResultsScreen(),"},{"type":"INSERT","lineNumber":44,"content":"              ),"},{"type":"INSERT","lineNumber":45,"content":"            },"},{"type":"DELETE","lineNumber":42,"oldContent":"              '/search-results': (context) => BlocProvider.value("},{"type":"DELETE","lineNumber":44,"oldContent":"                value: di.getIt<AuthBloc>(),"},{"type":"DELETE","lineNumber":45,"oldContent":"                child: const SearchResultsScreen(),"},{"type":"DELETE","lineNumber":47,"oldContent":"              ),"},{"type":"DELETE","lineNumber":49,"oldContent":"            },"}]},{"timestamp":1758198572696,"changes":[{"type":"INSERT","lineNumber":4,"content":"import 'features/search/presentation/bloc/search_bloc.dart';"},{"type":"INSERT","lineNumber":39,"content":"            debugShowCheckedModeBanner: false,"},{"type":"DELETE","lineNumber":39,"oldContent":"            home: const InitialSplashScreen(),"},{"type":"DELETE","lineNumber":42,"oldContent":"          ),"},{"type":"DELETE","lineNumber":45,"oldContent":"        );"},{"type":"INSERT","lineNumber":47,"content":"          ),"},{"type":"INSERT","lineNumber":48,"content":"        );"}]},{"timestamp":1758295872456,"changes":[{"type":"DELETE","lineNumber":1,"oldContent":"import 'package:flutter_screenutil/flutter_screenutil.dart';"},{"type":"DELETE","lineNumber":3,"oldContent":"import 'core/di/injection.dart' as di;"},{"type":"DELETE","lineNumber":4,"oldContent":"import 'features/search/presentation/bloc/search_bloc.dart';"},{"type":"INSERT","lineNumber":2,"content":"import 'package:flutter_screenutil/flutter_screenutil.dart';"},{"type":"INSERT","lineNumber":3,"content":"import 'package:easy_localization/easy_localization.dart';"},{"type":"INSERT","lineNumber":4,"content":""},{"type":"INSERT","lineNumber":5,"content":"import 'core/di/injection.dart';"},{"type":"DELETE","lineNumber":7,"oldContent":"import 'features/search/presentation/pages/search_results_screen.dart';"},{"type":"DELETE","lineNumber":9,"oldContent":"import 'features/auth/presentation/cubit/registration_cubit.dart';"},{"type":"DELETE","lineNumber":13,"oldContent":"  await di.initializeDependencies();"},{"type":"DELETE","lineNumber":14,"oldContent":"  runApp(const MyApp());"},{"type":"INSERT","lineNumber":12,"content":""},{"type":"INSERT","lineNumber":13,"content":"  // Initialize EasyLocalization"},{"type":"INSERT","lineNumber":14,"content":"  await EasyLocalization.ensureInitialized();"},{"type":"INSERT","lineNumber":15,"content":""},{"type":"INSERT","lineNumber":16,"content":"  // Initialize dependencies"},{"type":"INSERT","lineNumber":17,"content":"  await initializeDependencies();"},{"type":"INSERT","lineNumber":18,"content":""},{"type":"INSERT","lineNumber":19,"content":"  runApp("},{"type":"INSERT","lineNumber":20,"content":"    EasyLocalization("},{"type":"INSERT","lineNumber":21,"content":"      supportedLocales: const [Locale('en'), Locale('ar')],"},{"type":"INSERT","lineNumber":22,"content":"      path: 'assets/translations',"},{"type":"INSERT","lineNumber":23,"content":"      fallbackLocale: const Locale('en'),"},{"type":"INSERT","lineNumber":24,"content":"      child: const MyApp(),"},{"type":"INSERT","lineNumber":25,"content":"    ),"},{"type":"INSERT","lineNumber":26,"content":"  );"},{"type":"DELETE","lineNumber":23,"oldContent":"      designSize: const Size(375, 812),"},{"type":"INSERT","lineNumber":35,"content":"      designSize: const Size(375, 812), // iPhone X design size"},{"type":"DELETE","lineNumber":29,"oldContent":"            BlocProvider<AuthBloc>("},{"type":"DELETE","lineNumber":30,"oldContent":"              create: (context) => di.getIt<AuthBloc>(),"},{"type":"DELETE","lineNumber":31,"oldContent":"            ),"},{"type":"DELETE","lineNumber":32,"oldContent":"            BlocProvider<RegistrationCubit>("},{"type":"DELETE","lineNumber":33,"oldContent":"              create: (context) => di.getIt<RegistrationCubit>(),"},{"type":"DELETE","lineNumber":34,"oldContent":"            ),"},{"type":"INSERT","lineNumber":41,"content":"            BlocProvider<AuthBloc>(create: (context) => getIt<AuthBloc>()),"},{"type":"DELETE","lineNumber":37,"oldContent":"            title: 'Ahlanfeekum',"},{"type":"INSERT","lineNumber":44,"content":"            title: 'Ahlan Feekum',"},{"type":"INSERT","lineNumber":45,"content":"            debugShowCheckedModeBanner: false,"},{"type":"INSERT","lineNumber":47,"content":"            darkTheme: AppTheme.darkTheme,"},{"type":"INSERT","lineNumber":48,"content":"            localizationsDelegates: context.localizationDelegates,"},{"type":"INSERT","lineNumber":49,"content":"            supportedLocales: context.supportedLocales,"},{"type":"INSERT","lineNumber":50,"content":"            locale: context.locale,"},{"type":"DELETE","lineNumber":40,"oldContent":"            debugShowCheckedModeBanner: false,"},{"type":"DELETE","lineNumber":41,"oldContent":"            routes: {"},{"type":"DELETE","lineNumber":42,"oldContent":"              '/search-results': (context) => BlocProvider("},{"type":"DELETE","lineNumber":43,"oldContent":"                create: (context) => di.getIt<SearchBloc>(),"},{"type":"DELETE","lineNumber":44,"oldContent":"                child: const SearchResultsScreen(),"},{"type":"DELETE","lineNumber":45,"oldContent":"              ),"},{"type":"DELETE","lineNumber":47,"oldContent":"            },"},{"type":"INSERT","lineNumber":58,"content":""}]},{"timestamp":1758298078730,"changes":[{"type":"MODIFY","lineNumber":2,"content":"import 'package:flutter_screenutil/flutter_screenutil.dart';","oldContent":"import 'package:flutter_screenutil/flutter_screenutil.dart';"},{"type":"MODIFY","lineNumber":12,"content":"","oldContent":""},{"type":"DELETE","lineNumber":16,"oldContent":"}"},{"type":"DELETE","lineNumber":18,"oldContent":""},{"type":"DELETE","lineNumber":20,"oldContent":"class MyApp extends StatelessWidget {"},{"type":"DELETE","lineNumber":22,"oldContent":"  const MyApp({super.key});"},{"type":"DELETE","lineNumber":24,"oldContent":""},{"type":"DELETE","lineNumber":26,"oldContent":"  @override"},{"type":"DELETE","lineNumber":28,"oldContent":"  Widget build(BuildContext context) {"},{"type":"DELETE","lineNumber":30,"oldContent":"    return ScreenUtilInit("},{"type":"DELETE","lineNumber":33,"oldContent":"      minTextAdapt: true,"},{"type":"DELETE","lineNumber":35,"oldContent":"      splitScreenMode: true,"},{"type":"INSERT","lineNumber":27,"content":"}"},{"type":"INSERT","lineNumber":28,"content":""},{"type":"INSERT","lineNumber":29,"content":"class MyApp extends StatelessWidget {"},{"type":"INSERT","lineNumber":30,"content":"  const MyApp({super.key});"},{"type":"INSERT","lineNumber":31,"content":""},{"type":"INSERT","lineNumber":32,"content":"  @override"},{"type":"INSERT","lineNumber":33,"content":"  Widget build(BuildContext context) {"},{"type":"INSERT","lineNumber":34,"content":"    return ScreenUtilInit("},{"type":"INSERT","lineNumber":35,"content":"      designSize: const Size(375, 812), // iPhone X design size"},{"type":"INSERT","lineNumber":36,"content":"      minTextAdapt: true,"},{"type":"INSERT","lineNumber":37,"content":"      splitScreenMode: true,"},{"type":"DELETE","lineNumber":40,"oldContent":"      designSize: const Size(375, 812), // iPhone X design size"},{"type":"INSERT","lineNumber":41,"content":"            BlocProvider<AuthBloc>(create: (context) => getIt<AuthBloc>()),"},{"type":"DELETE","lineNumber":43,"oldContent":"            theme: AppTheme.lightTheme,"},{"type":"DELETE","lineNumber":44,"oldContent":"            home: const InitialSplashScreen(),"},{"type":"DELETE","lineNumber":45,"oldContent":"            BlocProvider<AuthBloc>(create: (context) => getIt<AuthBloc>()),"},{"type":"DELETE","lineNumber":48,"oldContent":"          ),"},{"type":"DELETE","lineNumber":49,"oldContent":"            darkTheme: AppTheme.darkTheme,"},{"type":"INSERT","lineNumber":46,"content":"            theme: AppTheme.lightTheme,"},{"type":"INSERT","lineNumber":47,"content":"            themeMode: ThemeMode.light,"},{"type":"DELETE","lineNumber":51,"oldContent":"        );"},{"type":"DELETE","lineNumber":53,"oldContent":"      },"},{"type":"INSERT","lineNumber":51,"content":"            home: const InitialSplashScreen(),"},{"type":"INSERT","lineNumber":52,"content":"          ),"},{"type":"INSERT","lineNumber":53,"content":"        );"},{"type":"INSERT","lineNumber":54,"content":"      },"}]},{"timestamp":1758298122188,"changes":[{"type":"INSERT","lineNumber":1,"content":"import 'package:flutter_bloc/flutter_bloc.dart';"},{"type":"DELETE","lineNumber":2,"oldContent":"import 'package:flutter_screenutil/flutter_screenutil.dart';"},{"type":"INSERT","lineNumber":11,"content":"  WidgetsFlutterBinding.ensureInitialized();"},{"type":"DELETE","lineNumber":12,"oldContent":""},{"type":"DELETE","lineNumber":21,"oldContent":"}"},{"type":"INSERT","lineNumber":22,"content":"      path: 'assets/translations',"},{"type":"INSERT","lineNumber":23,"content":"      fallbackLocale: const Locale('en'),"},{"type":"INSERT","lineNumber":24,"content":"      child: const MyApp(),"},{"type":"INSERT","lineNumber":25,"content":"    ),"},{"type":"INSERT","lineNumber":26,"content":"  );"},{"type":"INSERT","lineNumber":27,"content":"}"},{"type":"DELETE","lineNumber":25,"oldContent":"      path: 'assets/translations',"},{"type":"DELETE","lineNumber":28,"oldContent":"      fallbackLocale: const Locale('en'),"},{"type":"DELETE","lineNumber":30,"oldContent":"      child: const MyApp(),"},{"type":"DELETE","lineNumber":33,"oldContent":"    ),"},{"type":"DELETE","lineNumber":36,"oldContent":"  );"},{"type":"DELETE","lineNumber":44,"oldContent":"            theme: AppTheme.lightTheme,"},{"type":"MODIFY","lineNumber":46,"content":"            theme: AppTheme.lightTheme,","oldContent":"            themeMode: ThemeMode.light,"},{"type":"INSERT","lineNumber":47,"content":"            themeMode: ThemeMode.light,"},{"type":"INSERT","lineNumber":49,"content":"            supportedLocales: context.supportedLocales,"},{"type":"INSERT","lineNumber":50,"content":"            locale: context.locale,"},{"type":"DELETE","lineNumber":51,"oldContent":"            supportedLocales: context.supportedLocales,"},{"type":"DELETE","lineNumber":54,"oldContent":"            locale: context.locale,"}]},{"timestamp":1758450157691,"changes":[{"type":"INSERT","lineNumber":9,"content":"import 'features/search/presentation/bloc/search_bloc.dart';"},{"type":"INSERT","lineNumber":10,"content":"import 'features/search/presentation/pages/search_screen.dart';"},{"type":"INSERT","lineNumber":11,"content":"import 'features/search/presentation/pages/search_results_screen.dart';"},{"type":"INSERT","lineNumber":12,"content":"import 'features/search/presentation/pages/filter_screen.dart';"},{"type":"DELETE","lineNumber":21,"oldContent":"      path: 'assets/translations',"},{"type":"INSERT","lineNumber":26,"content":"      path: 'assets/translations',"},{"type":"DELETE","lineNumber":24,"oldContent":""},{"type":"DELETE","lineNumber":26,"oldContent":"class MyApp extends StatelessWidget {"},{"type":"DELETE","lineNumber":29,"oldContent":"  const MyApp({super.key});"},{"type":"INSERT","lineNumber":33,"content":"class MyApp extends StatelessWidget {"},{"type":"INSERT","lineNumber":34,"content":"  const MyApp({super.key});"},{"type":"INSERT","lineNumber":35,"content":""},{"type":"INSERT","lineNumber":49,"content":"            debugShowCheckedModeBanner: false,"},{"type":"DELETE","lineNumber":47,"oldContent":"            debugShowCheckedModeBanner: false,"},{"type":"DELETE","lineNumber":50,"oldContent":"            home: const InitialSplashScreen(),"},{"type":"INSERT","lineNumber":55,"content":"            home: const InitialSplashScreen(),"}]},{"timestamp":1758450172790,"changes":[{"type":"DELETE","lineNumber":10,"oldContent":""},{"type":"DELETE","lineNumber":12,"oldContent":"void main() async {"},{"type":"DELETE","lineNumber":14,"oldContent":"  WidgetsFlutterBinding.ensureInitialized();"},{"type":"INSERT","lineNumber":13,"content":"import 'features/search/data/models/search_filter.dart';"},{"type":"INSERT","lineNumber":15,"content":"void main() async {"},{"type":"INSERT","lineNumber":16,"content":"  WidgetsFlutterBinding.ensureInitialized();"},{"type":"INSERT","lineNumber":17,"content":""},{"type":"INSERT","lineNumber":27,"content":"      path: 'assets/translations',"},{"type":"DELETE","lineNumber":28,"oldContent":"      path: 'assets/translations',"},{"type":"DELETE","lineNumber":33,"oldContent":"  @override"},{"type":"DELETE","lineNumber":35,"oldContent":"  Widget build(BuildContext context) {"},{"type":"MODIFY","lineNumber":37,"content":"  @override","oldContent":"    return ScreenUtilInit("},{"type":"INSERT","lineNumber":38,"content":"  Widget build(BuildContext context) {"},{"type":"INSERT","lineNumber":39,"content":"    return ScreenUtilInit("},{"type":"INSERT","lineNumber":50,"content":"            debugShowCheckedModeBanner: false,"},{"type":"DELETE","lineNumber":52,"oldContent":"            debugShowCheckedModeBanner: false,"},{"type":"INSERT","lineNumber":56,"content":"            home: const InitialSplashScreen(),"},{"type":"INSERT","lineNumber":57,"content":"            onGenerateRoute: AppRouter.onGenerateRoute,"},{"type":"DELETE","lineNumber":58,"oldContent":"            home: const InitialSplashScreen(),"},{"type":"INSERT","lineNumber":65,"content":"class AppRouter {"},{"type":"INSERT","lineNumber":66,"content":"  static Route<dynamic> onGenerateRoute(RouteSettings settings) {"},{"type":"INSERT","lineNumber":67,"content":"    debugPrint('Navigating to: ${settings.name}');"},{"type":"INSERT","lineNumber":68,"content":"    "},{"type":"INSERT","lineNumber":69,"content":"    switch (settings.name) {"},{"type":"INSERT","lineNumber":70,"content":"      case '/search':"},{"type":"INSERT","lineNumber":71,"content":"        return MaterialPageRoute("},{"type":"INSERT","lineNumber":72,"content":"          builder: (context) => BlocProvider("},{"type":"INSERT","lineNumber":73,"content":"            create: (_) => getIt<SearchBloc>(),"},{"type":"INSERT","lineNumber":74,"content":"            child: const SearchScreen(),"},{"type":"INSERT","lineNumber":75,"content":"          ),"},{"type":"INSERT","lineNumber":76,"content":"        );"},{"type":"INSERT","lineNumber":77,"content":"        "},{"type":"INSERT","lineNumber":78,"content":"      case '/search-results':"},{"type":"INSERT","lineNumber":79,"content":"        final searchFilter = settings.arguments as Map<String, dynamic>?;"},{"type":"INSERT","lineNumber":80,"content":"        return MaterialPageRoute("},{"type":"INSERT","lineNumber":81,"content":"          builder: (context) => BlocProvider("},{"type":"INSERT","lineNumber":82,"content":"            create: (_) => getIt<SearchBloc>(),"},{"type":"INSERT","lineNumber":83,"content":"            child: const SearchResultsScreen(),"},{"type":"INSERT","lineNumber":84,"content":"          ),"},{"type":"INSERT","lineNumber":85,"content":"        );"},{"type":"INSERT","lineNumber":86,"content":"        "},{"type":"INSERT","lineNumber":87,"content":"      case '/filter':"},{"type":"INSERT","lineNumber":88,"content":"        final currentFilter = settings.arguments as Map<String, dynamic>?;"},{"type":"INSERT","lineNumber":89,"content":"        return MaterialPageRoute("},{"type":"INSERT","lineNumber":90,"content":"          builder: (context) => BlocProvider("},{"type":"INSERT","lineNumber":91,"content":"            create: (_) => getIt<SearchBloc>(),"},{"type":"INSERT","lineNumber":92,"content":"            child: FilterScreen("},{"type":"INSERT","lineNumber":93,"content":"              currentFilter: currentFilter?['filter'] ?? const SearchFilter(),"},{"type":"INSERT","lineNumber":94,"content":"            ),"},{"type":"INSERT","lineNumber":95,"content":"          ),"},{"type":"INSERT","lineNumber":96,"content":"        );"},{"type":"INSERT","lineNumber":97,"content":"        "},{"type":"INSERT","lineNumber":98,"content":"      default:"},{"type":"INSERT","lineNumber":99,"content":"        return MaterialPageRoute("},{"type":"INSERT","lineNumber":100,"content":"          builder: (_) => const InitialSplashScreen(),"},{"type":"INSERT","lineNumber":101,"content":"        );"},{"type":"INSERT","lineNumber":102,"content":"    }"},{"type":"INSERT","lineNumber":103,"content":"  }"},{"type":"INSERT","lineNumber":104,"content":"}"},{"type":"INSERT","lineNumber":105,"content":""}]},{"timestamp":1758450257878,"changes":[{"type":"DELETE","lineNumber":11,"oldContent":"import 'features/search/data/models/search_filter.dart';"},{"type":"MODIFY","lineNumber":13,"content":"import 'features/search/data/models/search_filter.dart';","oldContent":"void main() async {"},{"type":"INSERT","lineNumber":14,"content":""},{"type":"INSERT","lineNumber":15,"content":"void main() async {"},{"type":"DELETE","lineNumber":17,"oldContent":""},{"type":"MODIFY","lineNumber":28,"content":"      fallbackLocale: const Locale('en'),","oldContent":"      fallbackLocale: const Locale('en'),"},{"type":"INSERT","lineNumber":36,"content":""},{"type":"DELETE","lineNumber":38,"oldContent":""},{"type":"MODIFY","lineNumber":51,"content":"            theme: AppTheme.lightTheme,","oldContent":"            theme: AppTheme.lightTheme,"},{"type":"DELETE","lineNumber":56,"oldContent":"          ),"},{"type":"MODIFY","lineNumber":58,"content":"          ),","oldContent":"        );"},{"type":"INSERT","lineNumber":59,"content":"        );"},{"type":"DELETE","lineNumber":65,"oldContent":""},{"type":"DELETE","lineNumber":66,"oldContent":"}"},{"type":"DELETE","lineNumber":68,"oldContent":"  }"},{"type":"DELETE","lineNumber":70,"oldContent":"    }"},{"type":"DELETE","lineNumber":72,"oldContent":"        );"},{"type":"DELETE","lineNumber":74,"oldContent":"          builder: (_) => const InitialSplashScreen(),"},{"type":"DELETE","lineNumber":76,"oldContent":"        return MaterialPageRoute("},{"type":"DELETE","lineNumber":78,"oldContent":"      default:"},{"type":"DELETE","lineNumber":80,"oldContent":"        "},{"type":"DELETE","lineNumber":82,"oldContent":"        );"},{"type":"DELETE","lineNumber":84,"oldContent":"          ),"},{"type":"DELETE","lineNumber":86,"oldContent":"            ),"},{"type":"DELETE","lineNumber":88,"oldContent":"              currentFilter: currentFilter?['filter'] ?? const SearchFilter(),"},{"type":"DELETE","lineNumber":90,"oldContent":"            child: FilterScreen("},{"type":"DELETE","lineNumber":92,"oldContent":"            create: (_) => getIt<SearchBloc>(),"},{"type":"DELETE","lineNumber":94,"oldContent":"          builder: (context) => BlocProvider("},{"type":"DELETE","lineNumber":95,"oldContent":"        final searchFilter = settings.arguments as Map<String, dynamic>?;"},{"type":"DELETE","lineNumber":97,"oldContent":"        return MaterialPageRoute("},{"type":"DELETE","lineNumber":98,"oldContent":"        final currentFilter = settings.arguments as Map<String, dynamic>?;"},{"type":"DELETE","lineNumber":100,"oldContent":"      case '/filter':"},{"type":"DELETE","lineNumber":102,"oldContent":"        "},{"type":"INSERT","lineNumber":83,"content":"          ),"},{"type":"INSERT","lineNumber":85,"content":"        "},{"type":"INSERT","lineNumber":86,"content":"      case '/filter':"},{"type":"INSERT","lineNumber":87,"content":"        final currentFilter = settings.arguments as Map<String, dynamic>?;"},{"type":"INSERT","lineNumber":88,"content":"        return MaterialPageRoute("},{"type":"INSERT","lineNumber":89,"content":"          builder: (context) => BlocProvider("},{"type":"INSERT","lineNumber":90,"content":"            create: (_) => getIt<SearchBloc>(),"},{"type":"INSERT","lineNumber":91,"content":"            child: FilterScreen("},{"type":"INSERT","lineNumber":92,"content":"              currentFilter: currentFilter?['filter'] ?? const SearchFilter(),"},{"type":"INSERT","lineNumber":93,"content":"            ),"},{"type":"INSERT","lineNumber":95,"content":"        );"},{"type":"INSERT","lineNumber":96,"content":"        "},{"type":"INSERT","lineNumber":97,"content":"      default:"},{"type":"INSERT","lineNumber":98,"content":"        return MaterialPageRoute("},{"type":"INSERT","lineNumber":99,"content":"          builder: (_) => const InitialSplashScreen(),"},{"type":"INSERT","lineNumber":100,"content":"        );"},{"type":"INSERT","lineNumber":101,"content":"    }"},{"type":"INSERT","lineNumber":102,"content":"  }"},{"type":"INSERT","lineNumber":103,"content":"}"},{"type":"INSERT","lineNumber":104,"content":""}]},{"timestamp":1758456561926,"changes":[{"type":"INSERT","lineNumber":9,"content":"import 'features/auth/data/datasources/auth_local_data_source.dart';"},{"type":"INSERT","lineNumber":13,"content":"import 'features/search/presentation/pages/filter_screen.dart';"},{"type":"DELETE","lineNumber":14,"oldContent":"import 'features/search/presentation/pages/filter_screen.dart';"},{"type":"INSERT","lineNumber":25,"content":"  // Clear any invalid authentication tokens"},{"type":"INSERT","lineNumber":26,"content":"  await _clearInvalidTokens();"},{"type":"INSERT","lineNumber":27,"content":""},{"type":"INSERT","lineNumber":31,"content":"      path: 'assets/translations',"},{"type":"DELETE","lineNumber":28,"oldContent":"      fallbackLocale: const Locale('en'),"},{"type":"INSERT","lineNumber":54,"content":"            debugShowCheckedModeBanner: false,"},{"type":"DELETE","lineNumber":51,"oldContent":"            theme: AppTheme.lightTheme,"},{"type":"INSERT","lineNumber":61,"content":"            onGenerateRoute: AppRouter.onGenerateRoute,"},{"type":"DELETE","lineNumber":59,"oldContent":"            onGenerateRoute: AppRouter.onGenerateRoute,"},{"type":"DELETE","lineNumber":68,"oldContent":"    "},{"type":"INSERT","lineNumber":72,"content":""},{"type":"DELETE","lineNumber":73,"oldContent":"          ),"},{"type":"DELETE","lineNumber":75,"oldContent":"        "},{"type":"DELETE","lineNumber":77,"oldContent":"      case '/filter':"},{"type":"DELETE","lineNumber":78,"oldContent":"        final currentFilter = settings.arguments as Map<String, dynamic>?;"},{"type":"INSERT","lineNumber":80,"content":"        );"},{"type":"INSERT","lineNumber":81,"content":""},{"type":"INSERT","lineNumber":82,"content":"      case '/search-results':"},{"type":"INSERT","lineNumber":85,"content":"            create: (_) => getIt<SearchBloc>(),"},{"type":"INSERT","lineNumber":86,"content":"            child: const SearchResultsScreen(),"},{"type":"INSERT","lineNumber":87,"content":"          ),"},{"type":"INSERT","lineNumber":89,"content":""},{"type":"INSERT","lineNumber":90,"content":"      case '/filter':"},{"type":"INSERT","lineNumber":91,"content":"        final currentFilter = settings.arguments as Map<String, dynamic>?;"},{"type":"INSERT","lineNumber":92,"content":"        return MaterialPageRoute("},{"type":"INSERT","lineNumber":93,"content":"          builder: (context) => BlocProvider("},{"type":"DELETE","lineNumber":85,"oldContent":"        "},{"type":"DELETE","lineNumber":88,"oldContent":"      case '/search-results':"},{"type":"INSERT","lineNumber":98,"content":"          ),"},{"type":"DELETE","lineNumber":90,"oldContent":"        "},{"type":"DELETE","lineNumber":91,"oldContent":"        return MaterialPageRoute("},{"type":"INSERT","lineNumber":100,"content":""},{"type":"DELETE","lineNumber":93,"oldContent":"        return MaterialPageRoute("},{"type":"DELETE","lineNumber":94,"oldContent":"          builder: (_) => const InitialSplashScreen(),"},{"type":"DELETE","lineNumber":95,"oldContent":"          builder: (context) => BlocProvider("},{"type":"DELETE","lineNumber":96,"oldContent":"        );"},{"type":"INSERT","lineNumber":102,"content":"        return MaterialPageRoute(builder: (_) => const InitialSplashScreen());"},{"type":"DELETE","lineNumber":98,"oldContent":"            create: (_) => getIt<SearchBloc>(),"},{"type":"DELETE","lineNumber":101,"oldContent":"            child: const SearchResultsScreen(),"},{"type":"DELETE","lineNumber":103,"oldContent":"        );"},{"type":"DELETE","lineNumber":104,"oldContent":"          ),"}]},{"timestamp":1758456576943,"changes":[{"type":"MODIFY","lineNumber":14,"content":"import 'features/search/data/models/search_filter.dart';","oldContent":"import 'features/search/data/models/search_filter.dart';"},{"type":"DELETE","lineNumber":25,"oldContent":"  runApp("},{"type":"DELETE","lineNumber":27,"oldContent":"    EasyLocalization("},{"type":"DELETE","lineNumber":29,"oldContent":"      supportedLocales: const [Locale('en'), Locale('ar')],"},{"type":"INSERT","lineNumber":28,"content":"  runApp("},{"type":"INSERT","lineNumber":29,"content":"    EasyLocalization("},{"type":"INSERT","lineNumber":30,"content":"      supportedLocales: const [Locale('en'), Locale('ar')],"},{"type":"INSERT","lineNumber":31,"content":"      path: 'assets/translations',"},{"type":"DELETE","lineNumber":34,"oldContent":"      path: 'assets/translations',"},{"type":"INSERT","lineNumber":38,"content":"// Helper function to clear invalid authentication tokens"},{"type":"INSERT","lineNumber":39,"content":"Future<void> _clearInvalidTokens() async {"},{"type":"INSERT","lineNumber":40,"content":"  try {"},{"type":"INSERT","lineNumber":41,"content":"    final authLocalDataSource = getIt<AuthLocalDataSource>();"},{"type":"INSERT","lineNumber":42,"content":"    await authLocalDataSource.clearInvalidTokens();"},{"type":"INSERT","lineNumber":43,"content":"  } catch (e) {"},{"type":"INSERT","lineNumber":44,"content":"    print(' Error clearing invalid tokens during app initialization: $e');"},{"type":"INSERT","lineNumber":45,"content":"  }"},{"type":"INSERT","lineNumber":46,"content":"}"},{"type":"INSERT","lineNumber":47,"content":""},{"type":"INSERT","lineNumber":64,"content":"            debugShowCheckedModeBanner: false,"},{"type":"DELETE","lineNumber":57,"oldContent":"            debugShowCheckedModeBanner: false,"},{"type":"INSERT","lineNumber":71,"content":"            onGenerateRoute: AppRouter.onGenerateRoute,"},{"type":"DELETE","lineNumber":64,"oldContent":"            onGenerateRoute: AppRouter.onGenerateRoute,"},{"type":"INSERT","lineNumber":82,"content":""},{"type":"DELETE","lineNumber":75,"oldContent":""},{"type":"DELETE","lineNumber":81,"oldContent":"        return MaterialPageRoute("},{"type":"DELETE","lineNumber":83,"oldContent":"          builder: (context) => BlocProvider("},{"type":"DELETE","lineNumber":85,"oldContent":"        );"},{"type":"INSERT","lineNumber":93,"content":"        return MaterialPageRoute("},{"type":"INSERT","lineNumber":94,"content":"          builder: (context) => BlocProvider("},{"type":"DELETE","lineNumber":87,"oldContent":"            child: FilterScreen("},{"type":"DELETE","lineNumber":88,"oldContent":"            create: (_) => getIt<SearchBloc>(),"},{"type":"DELETE","lineNumber":90,"oldContent":"              currentFilter: currentFilter?['filter'] ?? const SearchFilter(),"},{"type":"DELETE","lineNumber":92,"oldContent":"            ),"},{"type":"DELETE","lineNumber":93,"oldContent":""},{"type":"INSERT","lineNumber":99,"content":""},{"type":"DELETE","lineNumber":98,"oldContent":"      default:"},{"type":"DELETE","lineNumber":100,"oldContent":"    }"},{"type":"INSERT","lineNumber":104,"content":"            create: (_) => getIt<SearchBloc>(),"},{"type":"INSERT","lineNumber":105,"content":"            child: FilterScreen("},{"type":"INSERT","lineNumber":106,"content":"              currentFilter: currentFilter?['filter'] ?? const SearchFilter(),"},{"type":"INSERT","lineNumber":107,"content":"            ),"},{"type":"DELETE","lineNumber":102,"oldContent":"  }"},{"type":"INSERT","lineNumber":109,"content":"        );"},{"type":"DELETE","lineNumber":104,"oldContent":"}"},{"type":"INSERT","lineNumber":111,"content":"      default:"},{"type":"INSERT","lineNumber":113,"content":"    }"},{"type":"INSERT","lineNumber":114,"content":"  }"},{"type":"INSERT","lineNumber":115,"content":"}"}]},{"timestamp":1758632720489,"changes":[{"type":"INSERT","lineNumber":13,"content":"import 'features/search/presentation/pages/filter_screen.dart';"},{"type":"MODIFY","lineNumber":15,"content":"import 'features/rent_create/presentation/pages/rent_create_flow_screen.dart';","oldContent":"import 'features/search/data/models/search_filter.dart';"},{"type":"INSERT","lineNumber":16,"content":"import 'features/rent_create/presentation/bloc/rent_create_bloc.dart';"},{"type":"DELETE","lineNumber":26,"oldContent":"  runApp("},{"type":"INSERT","lineNumber":29,"content":""},{"type":"INSERT","lineNumber":30,"content":"  runApp("},{"type":"DELETE","lineNumber":30,"oldContent":""},{"type":"DELETE","lineNumber":39,"oldContent":"class MyApp extends StatelessWidget {"},{"type":"DELETE","lineNumber":41,"oldContent":"  const MyApp({super.key});"},{"type":"DELETE","lineNumber":43,"oldContent":""},{"type":"DELETE","lineNumber":45,"oldContent":"  @override"},{"type":"DELETE","lineNumber":47,"oldContent":"  Widget build(BuildContext context) {"},{"type":"DELETE","lineNumber":49,"oldContent":"    return ScreenUtilInit("},{"type":"DELETE","lineNumber":51,"oldContent":"      designSize: const Size(375, 812), // iPhone X design size"},{"type":"DELETE","lineNumber":53,"oldContent":"      minTextAdapt: true,"},{"type":"DELETE","lineNumber":55,"oldContent":"      splitScreenMode: true,"},{"type":"INSERT","lineNumber":50,"content":"class MyApp extends StatelessWidget {"},{"type":"INSERT","lineNumber":51,"content":"  const MyApp({super.key});"},{"type":"INSERT","lineNumber":52,"content":""},{"type":"INSERT","lineNumber":53,"content":"  @override"},{"type":"INSERT","lineNumber":54,"content":"  Widget build(BuildContext context) {"},{"type":"INSERT","lineNumber":55,"content":"    return ScreenUtilInit("},{"type":"INSERT","lineNumber":56,"content":"      designSize: const Size(375, 812), // iPhone X design size"},{"type":"INSERT","lineNumber":57,"content":"      minTextAdapt: true,"},{"type":"INSERT","lineNumber":58,"content":"      splitScreenMode: true,"},{"type":"INSERT","lineNumber":66,"content":"            debugShowCheckedModeBanner: false,"},{"type":"INSERT","lineNumber":73,"content":"            onGenerateRoute: AppRouter.onGenerateRoute,"},{"type":"DELETE","lineNumber":73,"oldContent":"            debugShowCheckedModeBanner: false,"},{"type":"DELETE","lineNumber":80,"oldContent":"            onGenerateRoute: AppRouter.onGenerateRoute,"},{"type":"INSERT","lineNumber":84,"content":""},{"type":"DELETE","lineNumber":91,"oldContent":""},{"type":"INSERT","lineNumber":95,"content":"        return MaterialPageRoute("},{"type":"INSERT","lineNumber":96,"content":"          builder: (context) => BlocProvider("},{"type":"DELETE","lineNumber":96,"oldContent":"        return MaterialPageRoute("},{"type":"DELETE","lineNumber":97,"oldContent":"          builder: (context) => BlocProvider("},{"type":"INSERT","lineNumber":101,"content":""},{"type":"DELETE","lineNumber":102,"oldContent":""},{"type":"DELETE","lineNumber":104,"oldContent":"          ),"},{"type":"DELETE","lineNumber":105,"oldContent":""},{"type":"DELETE","lineNumber":108,"oldContent":"        return MaterialPageRoute(builder: (_) => const InitialSplashScreen());"},{"type":"DELETE","lineNumber":110,"oldContent":""},{"type":"DELETE","lineNumber":112,"oldContent":"}"},{"type":"DELETE","lineNumber":113,"oldContent":"  }"},{"type":"INSERT","lineNumber":110,"content":"          ),"},{"type":"DELETE","lineNumber":115,"oldContent":"    }"},{"type":"INSERT","lineNumber":112,"content":""},{"type":"INSERT","lineNumber":114,"content":"        return MaterialPageRoute(builder: (_) => const InitialSplashScreen());"},{"type":"INSERT","lineNumber":115,"content":"    }"},{"type":"INSERT","lineNumber":116,"content":"  }"},{"type":"INSERT","lineNumber":117,"content":"}"},{"type":"INSERT","lineNumber":118,"content":""}]},{"timestamp":1758632735511,"changes":[{"type":"DELETE","lineNumber":15,"oldContent":"import 'features/search/data/models/search_filter.dart';"},{"type":"INSERT","lineNumber":17,"content":""},{"type":"DELETE","lineNumber":29,"oldContent":"    EasyLocalization("},{"type":"MODIFY","lineNumber":31,"content":"    EasyLocalization(","oldContent":"      supportedLocales: const [Locale('en'), Locale('ar')],"},{"type":"INSERT","lineNumber":32,"content":"      supportedLocales: const [Locale('en'), Locale('ar')],"},{"type":"DELETE","lineNumber":46,"oldContent":"class MyApp extends StatelessWidget {"},{"type":"INSERT","lineNumber":47,"content":"  }"},{"type":"INSERT","lineNumber":48,"content":"}"},{"type":"INSERT","lineNumber":49,"content":""},{"type":"INSERT","lineNumber":50,"content":"class MyApp extends StatelessWidget {"},{"type":"DELETE","lineNumber":50,"oldContent":"  }"},{"type":"DELETE","lineNumber":53,"oldContent":"}"},{"type":"DELETE","lineNumber":56,"oldContent":""},{"type":"MODIFY","lineNumber":59,"content":"      builder: (context, child) {","oldContent":"      builder: (context, child) {"},{"type":"INSERT","lineNumber":63,"content":"            BlocProvider<SearchBloc>(create: (context) => getIt<SearchBloc>()),"},{"type":"INSERT","lineNumber":64,"content":"            BlocProvider<RentCreateBloc>(create: (context) => getIt<RentCreateBloc>()),"},{"type":"INSERT","lineNumber":68,"content":"            debugShowCheckedModeBanner: false,"},{"type":"DELETE","lineNumber":68,"oldContent":"            debugShowCheckedModeBanner: false,"},{"type":"INSERT","lineNumber":75,"content":"            onGenerateRoute: AppRouter.onGenerateRoute,"},{"type":"DELETE","lineNumber":76,"oldContent":"            onGenerateRoute: AppRouter.onGenerateRoute,"},{"type":"INSERT","lineNumber":86,"content":""},{"type":"DELETE","lineNumber":86,"oldContent":""},{"type":"DELETE","lineNumber":88,"oldContent":"          builder: (context) => BlocProvider("},{"type":"DELETE","lineNumber":89,"oldContent":"            create: (_) => getIt<SearchBloc>(),"},{"type":"DELETE","lineNumber":90,"oldContent":"            child: const SearchScreen(),"},{"type":"DELETE","lineNumber":91,"oldContent":"          ),"},{"type":"INSERT","lineNumber":90,"content":"          builder: (context) => const SearchScreen(),"},{"type":"DELETE","lineNumber":95,"oldContent":"            create: (_) => getIt<SearchBloc>(),"},{"type":"DELETE","lineNumber":96,"oldContent":"            child: const SearchResultsScreen(),"},{"type":"DELETE","lineNumber":98,"oldContent":"          ),"},{"type":"DELETE","lineNumber":99,"oldContent":"          builder: (context) => BlocProvider("},{"type":"INSERT","lineNumber":95,"content":"          builder: (context) => const SearchResultsScreen(),"},{"type":"INSERT","lineNumber":97,"content":""},{"type":"DELETE","lineNumber":103,"oldContent":""},{"type":"DELETE","lineNumber":105,"oldContent":"          builder: (context) => BlocProvider("},{"type":"DELETE","lineNumber":106,"oldContent":"            create: (_) => getIt<SearchBloc>(),"},{"type":"DELETE","lineNumber":107,"oldContent":"            child: FilterScreen("},{"type":"DELETE","lineNumber":108,"oldContent":"              currentFilter: currentFilter?['filter'] ?? const SearchFilter(),"},{"type":"INSERT","lineNumber":101,"content":"          builder: (context) => FilterScreen("},{"type":"INSERT","lineNumber":102,"content":"            currentFilter: currentFilter?['filter'] ?? const SearchFilter(),"},{"type":"DELETE","lineNumber":110,"oldContent":"            ),"},{"type":"INSERT","lineNumber":104,"content":"        );"},{"type":"DELETE","lineNumber":112,"oldContent":"        return MaterialPageRoute(builder: (_) => const InitialSplashScreen());"},{"type":"INSERT","lineNumber":106,"content":"      case '/rent-create':"},{"type":"INSERT","lineNumber":107,"content":"        return MaterialPageRoute("},{"type":"INSERT","lineNumber":108,"content":"          builder: (context) => const RentCreateFlowScreen(),"},{"type":"INSERT","lineNumber":110,"content":""},{"type":"INSERT","lineNumber":111,"content":"      default:"},{"type":"INSERT","lineNumber":112,"content":"        return MaterialPageRoute(builder: (_) => const InitialSplashScreen());"},{"type":"DELETE","lineNumber":116,"oldContent":"      default:"}]},{"timestamp":1758632855848,"changes":[{"type":"MODIFY","lineNumber":17,"content":"","oldContent":""},{"type":"INSERT","lineNumber":30,"content":"  runApp("},{"type":"DELETE","lineNumber":32,"oldContent":"  runApp("},{"type":"MODIFY","lineNumber":47,"content":"  }","oldContent":"  }"},{"type":"DELETE","lineNumber":49,"oldContent":"  const MyApp({super.key});"},{"type":"MODIFY","lineNumber":51,"content":"  const MyApp({super.key});","oldContent":""},{"type":"INSERT","lineNumber":52,"content":""},{"type":"INSERT","lineNumber":58,"content":"      splitScreenMode: true,"},{"type":"DELETE","lineNumber":59,"oldContent":"      builder: (context, child) {"},{"type":"DELETE","lineNumber":63,"oldContent":"            BlocProvider<SearchBloc>(create: (context) => getIt<SearchBloc>()),"},{"type":"DELETE","lineNumber":65,"oldContent":"            BlocProvider<RentCreateBloc>(create: (context) => getIt<RentCreateBloc>()),"},{"type":"INSERT","lineNumber":66,"content":"            debugShowCheckedModeBanner: false,"},{"type":"DELETE","lineNumber":70,"oldContent":"            debugShowCheckedModeBanner: false,"},{"type":"INSERT","lineNumber":73,"content":"            onGenerateRoute: AppRouter.onGenerateRoute,"},{"type":"DELETE","lineNumber":77,"oldContent":"            onGenerateRoute: AppRouter.onGenerateRoute,"},{"type":"INSERT","lineNumber":84,"content":""},{"type":"DELETE","lineNumber":88,"oldContent":""},{"type":"INSERT","lineNumber":92,"content":"        return MaterialPageRoute("},{"type":"INSERT","lineNumber":94,"content":"        );"},{"type":"INSERT","lineNumber":96,"content":"      case '/filter':"},{"type":"INSERT","lineNumber":97,"content":"        final currentFilter = settings.arguments as Map<String, dynamic>?;"},{"type":"DELETE","lineNumber":97,"oldContent":"        );"},{"type":"DELETE","lineNumber":99,"oldContent":"      case '/filter':"},{"type":"MODIFY","lineNumber":101,"content":"          ),","oldContent":"        final currentFilter = settings.arguments as Map<String, dynamic>?;"},{"type":"MODIFY","lineNumber":103,"content":"","oldContent":"        return MaterialPageRoute("},{"type":"MODIFY","lineNumber":107,"content":"        );","oldContent":"          ),"},{"type":"DELETE","lineNumber":110,"oldContent":""},{"type":"DELETE","lineNumber":112,"oldContent":"        );"}]},{"timestamp":1758632870879,"changes":[{"type":"INSERT","lineNumber":16,"content":"import 'features/rent_create/presentation/bloc/rent_create_bloc.dart';"},{"type":"DELETE","lineNumber":17,"oldContent":""},{"type":"INSERT","lineNumber":46,"content":"    print(' Error clearing invalid tokens during app initialization: $e');"},{"type":"DELETE","lineNumber":47,"oldContent":"  }"},{"type":"INSERT","lineNumber":50,"content":"class MyApp extends StatelessWidget {"},{"type":"DELETE","lineNumber":52,"oldContent":"class MyApp extends StatelessWidget {"},{"type":"DELETE","lineNumber":64,"oldContent":"            debugShowCheckedModeBanner: false,"},{"type":"INSERT","lineNumber":66,"content":"            debugShowCheckedModeBanner: false,"},{"type":"DELETE","lineNumber":71,"oldContent":"            onGenerateRoute: AppRouter.onGenerateRoute,"},{"type":"INSERT","lineNumber":73,"content":"            onGenerateRoute: AppRouter.onGenerateRoute,"},{"type":"DELETE","lineNumber":82,"oldContent":""},{"type":"INSERT","lineNumber":84,"content":""},{"type":"MODIFY","lineNumber":88,"content":"          builder: (context) => BlocProvider(","oldContent":"          builder: (context) => const SearchScreen(),"},{"type":"INSERT","lineNumber":89,"content":"            create: (_) => getIt<SearchBloc>(),"},{"type":"INSERT","lineNumber":90,"content":"            child: const SearchScreen(),"},{"type":"INSERT","lineNumber":91,"content":"          ),"},{"type":"DELETE","lineNumber":90,"oldContent":"        return MaterialPageRoute("},{"type":"INSERT","lineNumber":95,"content":"        return MaterialPageRoute("},{"type":"INSERT","lineNumber":96,"content":"          builder: (context) => BlocProvider("},{"type":"INSERT","lineNumber":97,"content":"            create: (_) => getIt<SearchBloc>(),"},{"type":"INSERT","lineNumber":98,"content":"            child: const SearchResultsScreen(),"},{"type":"INSERT","lineNumber":99,"content":"          ),"},{"type":"DELETE","lineNumber":94,"oldContent":"          builder: (context) => const SearchResultsScreen(),"},{"type":"DELETE","lineNumber":97,"oldContent":"        return MaterialPageRoute("},{"type":"DELETE","lineNumber":99,"oldContent":"          builder: (context) => FilterScreen("},{"type":"DELETE","lineNumber":100,"oldContent":"            currentFilter: currentFilter?['filter'] ?? const SearchFilter(),"},{"type":"INSERT","lineNumber":104,"content":"        return MaterialPageRoute("},{"type":"INSERT","lineNumber":105,"content":"          builder: (context) => BlocProvider("},{"type":"INSERT","lineNumber":106,"content":"            create: (_) => getIt<SearchBloc>(),"},{"type":"INSERT","lineNumber":107,"content":"            child: FilterScreen("},{"type":"INSERT","lineNumber":108,"content":"              currentFilter: currentFilter?['filter'] ?? const SearchFilter(),"},{"type":"INSERT","lineNumber":109,"content":"            ),"},{"type":"DELETE","lineNumber":106,"oldContent":"          builder: (context) => const RentCreateFlowScreen(),"},{"type":"INSERT","lineNumber":115,"content":"          builder: (context) => MultiBlocProvider("},{"type":"INSERT","lineNumber":116,"content":"            providers: ["},{"type":"INSERT","lineNumber":117,"content":"              BlocProvider(create: (_) => getIt<RentCreateBloc>()),"},{"type":"INSERT","lineNumber":118,"content":"              BlocProvider(create: (_) => getIt<SearchBloc>()..add(const LoadLookupsEvent())),"},{"type":"INSERT","lineNumber":119,"content":"            ],"},{"type":"INSERT","lineNumber":120,"content":"            child: const RentCreateFlowScreen(),"},{"type":"INSERT","lineNumber":121,"content":"          ),"}]},{"timestamp":1758632885908,"changes":[{"type":"INSERT","lineNumber":11,"content":"import 'features/search/presentation/bloc/search_event.dart';"},{"type":"DELETE","lineNumber":65,"oldContent":"            debugShowCheckedModeBanner: false,"},{"type":"INSERT","lineNumber":67,"content":"            debugShowCheckedModeBanner: false,"},{"type":"DELETE","lineNumber":72,"oldContent":"            onGenerateRoute: AppRouter.onGenerateRoute,"},{"type":"INSERT","lineNumber":74,"content":"            onGenerateRoute: AppRouter.onGenerateRoute,"},{"type":"DELETE","lineNumber":83,"oldContent":""},{"type":"INSERT","lineNumber":85,"content":""},{"type":"DELETE","lineNumber":90,"oldContent":"        );"},{"type":"INSERT","lineNumber":93,"content":"        );"},{"type":"DELETE","lineNumber":95,"oldContent":"        );"},{"type":"DELETE","lineNumber":97,"oldContent":""},{"type":"DELETE","lineNumber":99,"oldContent":"      case '/filter':"},{"type":"DELETE","lineNumber":102,"oldContent":"        final currentFilter = settings.arguments as Map<String, dynamic>?;"},{"type":"DELETE","lineNumber":104,"oldContent":"          ),"},{"type":"INSERT","lineNumber":103,"content":"      case '/filter':"},{"type":"INSERT","lineNumber":104,"content":"        final currentFilter = settings.arguments as Map<String, dynamic>?;"},{"type":"DELETE","lineNumber":108,"oldContent":"      case '/rent-create':"},{"type":"DELETE","lineNumber":110,"oldContent":"        return MaterialPageRoute("},{"type":"DELETE","lineNumber":113,"oldContent":"        );"},{"type":"DELETE","lineNumber":115,"oldContent":""},{"type":"INSERT","lineNumber":111,"content":"          ),"},{"type":"INSERT","lineNumber":112,"content":"        );"},{"type":"INSERT","lineNumber":113,"content":""},{"type":"INSERT","lineNumber":114,"content":"      case '/rent-create':"},{"type":"INSERT","lineNumber":115,"content":"        return MaterialPageRoute("},{"type":"INSERT","lineNumber":116,"content":"          builder: (context) => MultiBlocProvider("},{"type":"INSERT","lineNumber":117,"content":"            providers: ["},{"type":"INSERT","lineNumber":118,"content":"              BlocProvider(create: (_) => getIt<RentCreateBloc>()),"},{"type":"INSERT","lineNumber":119,"content":"              BlocProvider(create: (_) => getIt<SearchBloc>()..add(const LoadLookupsEvent())),"},{"type":"INSERT","lineNumber":120,"content":"            ],"},{"type":"INSERT","lineNumber":121,"content":"            child: const RentCreateFlowScreen(),"},{"type":"INSERT","lineNumber":122,"content":"          ),"},{"type":"INSERT","lineNumber":123,"content":"        );"},{"type":"INSERT","lineNumber":124,"content":""},{"type":"DELETE","lineNumber":123,"oldContent":"          builder: (context) => MultiBlocProvider("},{"type":"DELETE","lineNumber":124,"oldContent":"          ),"},{"type":"DELETE","lineNumber":125,"oldContent":"            providers: ["},{"type":"DELETE","lineNumber":126,"oldContent":"            child: const RentCreateFlowScreen(),"},{"type":"DELETE","lineNumber":127,"oldContent":"              BlocProvider(create: (_) => getIt<RentCreateBloc>()),"},{"type":"DELETE","lineNumber":128,"oldContent":"            ],"},{"type":"DELETE","lineNumber":129,"oldContent":"              BlocProvider(create: (_) => getIt<SearchBloc>()..add(const LoadLookupsEvent())),"}]},{"timestamp":1758632931016,"changes":[{"type":"DELETE","lineNumber":100,"oldContent":"      case '/filter':"},{"type":"DELETE","lineNumber":102,"oldContent":"        final currentFilter = settings.arguments as Map<String, dynamic>?;"},{"type":"INSERT","lineNumber":103,"content":"      case '/filter':"},{"type":"INSERT","lineNumber":104,"content":"        final currentFilter = settings.arguments as Map<String, dynamic>?;"},{"type":"DELETE","lineNumber":107,"oldContent":"          ),"},{"type":"MODIFY","lineNumber":109,"content":"              currentFilter: currentFilter?['filter'] ?? const SearchFilter(),","oldContent":"        );"},{"type":"INSERT","lineNumber":110,"content":"            ),"},{"type":"INSERT","lineNumber":111,"content":"          ),"},{"type":"INSERT","lineNumber":112,"content":"        );"},{"type":"DELETE","lineNumber":113,"oldContent":"              currentFilter: currentFilter?['filter'] ?? const SearchFilter(),"},{"type":"DELETE","lineNumber":116,"oldContent":"            ),"},{"type":"DELETE","lineNumber":118,"oldContent":"      default:"},{"type":"DELETE","lineNumber":120,"oldContent":"        return MaterialPageRoute(builder: (_) => const InitialSplashScreen());"},{"type":"DELETE","lineNumber":122,"oldContent":"    }"},{"type":"DELETE","lineNumber":124,"oldContent":"  }"},{"type":"DELETE","lineNumber":126,"oldContent":"}"},{"type":"DELETE","lineNumber":128,"oldContent":""},{"type":"INSERT","lineNumber":125,"content":"      default:"},{"type":"INSERT","lineNumber":126,"content":"        return MaterialPageRoute(builder: (_) => const InitialSplashScreen());"},{"type":"INSERT","lineNumber":127,"content":"    }"},{"type":"INSERT","lineNumber":128,"content":"  }"},{"type":"INSERT","lineNumber":129,"content":"}"},{"type":"INSERT","lineNumber":130,"content":""}]},{"timestamp":1758633798806,"changes":[{"type":"MODIFY","lineNumber":7,"content":"import 'features/auth/presentation/pages/initial_splash_screen.dart';","oldContent":"import 'core/di/injection.dart' as di;"},{"type":"MODIFY","lineNumber":60,"content":"      builder: (context, child) {","oldContent":"      splitScreenMode: true,"},{"type":"MODIFY","lineNumber":81,"content":"","oldContent":"            },"},{"type":"DELETE","lineNumber":101,"oldContent":"      case '/filter':"},{"type":"MODIFY","lineNumber":103,"content":"      case '/filter':","oldContent":"        final currentFilter = settings.arguments as Map<String, dynamic>?;"},{"type":"INSERT","lineNumber":104,"content":"        final currentFilter = settings.arguments as Map<String, dynamic>?;"},{"type":"INSERT","lineNumber":108,"content":"            child: FilterScreen("},{"type":"DELETE","lineNumber":110,"oldContent":"            child: FilterScreen("},{"type":"MODIFY","lineNumber":113,"content":"","oldContent":""},{"type":"DELETE","lineNumber":121,"oldContent":"      default:"},{"type":"INSERT","lineNumber":122,"content":"          ),"},{"type":"INSERT","lineNumber":123,"content":"        );"},{"type":"INSERT","lineNumber":124,"content":""},{"type":"INSERT","lineNumber":125,"content":"      default:"},{"type":"DELETE","lineNumber":125,"oldContent":"          ),"},{"type":"DELETE","lineNumber":128,"oldContent":"        );"},{"type":"DELETE","lineNumber":130,"oldContent":""},{"type":"DELETE","lineNumber":131,"oldContent":"            ],"}]}]},"D:/flutter projects/ahlanfeekum/lib/features/home/presentation/pages/home_screen.dart":{"filePath":"D:/flutter projects/ahlanfeekum/lib/features/home/presentation/pages/home_screen.dart","baseContent":"import 'package:flutter/material.dart';\nimport 'package:flutter/services.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\nimport 'package:flutter_bloc/flutter_bloc.dart';\nimport '../../../search/presentation/pages/search_screen.dart';\nimport '../../../search/presentation/bloc/search_bloc.dart';\nimport '../../../search/domain/repositories/search_repository.dart';\nimport '../../../../core/di/injection.dart';\n\nimport '../../../../theming/colors.dart';\nimport '../../../../theming/text_styles.dart';\n\nclass HomeScreen extends StatelessWidget {\n  const HomeScreen({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return PopScope(\n      canPop: false,\n      onPopInvokedWithResult: (didPop, result) async {\n        if (!didPop) {\n          final shouldExit = await _showExitDialog(context);\n          if (shouldExit) {\n            SystemNavigator.pop();\n          }\n        }\n      },\n      child: Scaffold(\n        appBar: null,\n        body: SingleChildScrollView(\n          child: Column(\n            children: [\n              // Header with profile and search\n              _buildHeader(),\n              \n              // Hero Banner\n              _buildHeroBanner(),\n              \n              // Special Offers Section\n              _buildSpecialOffers(),\n              \n              // Highly Rated Properties\n              _buildHighlyRatedProperties(),\n              \n              // Discover Section\n              _buildDiscoverSection(),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n\n  Future<bool> _showExitDialog(BuildContext context) async {\n    return await showDialog<bool>(\n          context: context,\n          builder: (context) => AlertDialog(\n            title: const Text('Exit App'),\n            content: const Text('Are you sure you want to exit the app?'),\n            actions: [\n              TextButton(\n                onPressed: () => Navigator.of(context).pop(false),\n                child: const Text('Cancel'),\n              ),\n              TextButton(\n                onPressed: () {\n                  Navigator.of(context).pop(true);\n                  // Exit the app\n                  SystemNavigator.pop();\n                },\n                child: const Text('Exit'),\n              ),\n            ],\n          ),\n        ) ??\n        false;\n  }\n\n  Widget _buildHeader() {\n    return Builder(\n      builder: (context) {\n        return Container(\n          padding: EdgeInsets.fromLTRB(16.w, 50.h, 16.w, 16.h),\n          child: Row(\n            children: [\n              Expanded(\n                child: GestureDetector(\n                  onTap: () {\n                    Navigator.of(context).push(\n                      MaterialPageRoute(\n                        builder: (buildContext) => BlocProvider(\n                          create: (context) => SearchBloc(\n                            searchRepository: getIt<SearchRepository>(),\n                            sharedPreferences: getIt(),\n                          ),\n                          child: const SearchScreen(),\n                        ),\n                      ),\n                    );\n                  },\n              child: Container(\n                padding: EdgeInsets.symmetric(horizontal: 16.w, vertical: 12.h),\n                decoration: BoxDecoration(\n                  color: Colors.grey[100],\n                  borderRadius: BorderRadius.circular(25.r),\n                ),\n                child: Row(\n                  children: [\n                    Icon(Icons.search, color: Colors.grey[600], size: 20.sp),\n                    SizedBox(width: 12.w),\n                    Text(\n                      'Destination',\n                      style: AppTextStyles.bodyMedium.copyWith(\n                        color: Colors.grey[600],\n                        fontSize: 14.sp,\n                      ),\n                    ),\n                    const Spacer(),\n                    Icon(Icons.tune, color: Colors.grey[600], size: 20.sp),\n                  ],\n                ),\n              ),\n            ),\n          ),\n          SizedBox(width: 16.w),\n              CircleAvatar(\n                radius: 20.r,\n                backgroundColor: Colors.grey[300],\n                child: Icon(Icons.person, color: Colors.grey[600], size: 20.sp),\n              ),\n            ],\n          ),\n        );\n      },\n    );\n  }\n\n  Widget _buildHeroBanner() {\n    return Container(\n      margin: EdgeInsets.symmetric(horizontal: 16.w),\n      height: 140.h,\n      decoration: BoxDecoration(\n        borderRadius: BorderRadius.circular(16.r),\n        gradient: LinearGradient(\n          colors: [Colors.orange[400]!, Colors.orange[600]!],\n          begin: Alignment.topLeft,\n          end: Alignment.bottomRight,\n        ),\n      ),\n      child: Stack(\n        children: [\n          Positioned(\n            right: 0,\n            bottom: 0,\n            child: ClipRRect(\n              borderRadius: BorderRadius.only(\n                bottomRight: Radius.circular(16.r),\n                topLeft: Radius.circular(50.r),\n              ),\n              child: Container(\n                width: 120.w,\n                height: 80.h,\n                color: Colors.white.withValues(alpha: 0.1),\n              ),\n            ),\n          ),\n          Padding(\n            padding: EdgeInsets.all(20.w),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.start,\n              children: [\n                Container(\n                  padding: EdgeInsets.symmetric(horizontal: 8.w, vertical: 4.h),\n                  decoration: BoxDecoration(\n                    color: Colors.white.withValues(alpha: 0.2),\n                    borderRadius: BorderRadius.circular(12.r),\n                  ),\n                  child: Text(\n                    'ADS',\n                    style: AppTextStyles.bodySmall.copyWith(\n                      color: Colors.white,\n                      fontSize: 10.sp,\n                      fontWeight: FontWeight.bold,\n                    ),\n                  ),\n                ),\n                SizedBox(height: 8.h),\n                Text(\n                  'Special',\n                  style: AppTextStyles.h3.copyWith(\n                    color: Colors.white,\n                    fontSize: 18.sp,\n                    fontWeight: FontWeight.bold,\n                  ),\n                ),\n                Text(\n                  'Advertisements Goes',\n                  style: AppTextStyles.bodyMedium.copyWith(\n                    color: Colors.white,\n                    fontSize: 14.sp,\n                  ),\n                ),\n                Text(\n                  'Here',\n                  style: AppTextStyles.bodyMedium.copyWith(\n                    color: Colors.white,\n                    fontSize: 14.sp,\n                  ),\n                ),\n              ],\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildSpecialOffers() {\n    return Container(\n      margin: EdgeInsets.symmetric(vertical: 24.h),\n      child: Column(\n        crossAxisAlignment: CrossAxisAlignment.start,\n        children: [\n          Padding(\n            padding: EdgeInsets.symmetric(horizontal: 16.w),\n            child: Row(\n              children: [\n                Container(\n                  padding: EdgeInsets.symmetric(horizontal: 8.w, vertical: 4.h),\n                  decoration: BoxDecoration(\n                    color: Colors.red,\n                    borderRadius: BorderRadius.circular(12.r),\n                  ),\n                  child: Text(\n                    'Special',\n                    style: AppTextStyles.bodySmall.copyWith(\n                      color: Colors.white,\n                      fontSize: 10.sp,\n                      fontWeight: FontWeight.bold,\n                    ),\n                  ),\n                ),\n                SizedBox(width: 6.w),\n                Container(\n                  padding: EdgeInsets.symmetric(horizontal: 8.w, vertical: 4.h),\n                  decoration: BoxDecoration(\n                    color: Colors.red,\n                    borderRadius: BorderRadius.circular(12.r),\n                  ),\n                  child: Text(\n                    'Offer',\n                    style: AppTextStyles.bodySmall.copyWith(\n                      color: Colors.white,\n                      fontSize: 10.sp,\n                      fontWeight: FontWeight.bold,\n                    ),\n                  ),\n                ),\n                const Spacer(),\n                Icon(Icons.arrow_forward_ios, color: Colors.grey[600], size: 16.sp),\n              ],\n            ),\n          ),\n          SizedBox(height: 4.h),\n          Padding(\n            padding: EdgeInsets.symmetric(horizontal: 16.w),\n            child: Text(\n              'In Ahlanfekum',\n              style: AppTextStyles.bodyMedium.copyWith(\n                color: AppColors.textPrimary,\n                fontSize: 14.sp,\n              ),\n            ),\n          ),\n          SizedBox(height: 16.h),\n          SizedBox(\n            height: 120.h,\n            child: ListView.builder(\n              scrollDirection: Axis.horizontal,\n              padding: EdgeInsets.symmetric(horizontal: 16.w),\n              itemCount: 3,\n              itemBuilder: (context, index) {\n                return Container(\n                  width: 200.w,\n                  margin: EdgeInsets.only(right: 12.w),\n                  decoration: BoxDecoration(\n                    borderRadius: BorderRadius.circular(12.r),\n                    color: Colors.grey[300],\n                  ),\n                  child: Stack(\n                    children: [\n                      ClipRRect(\n                        borderRadius: BorderRadius.circular(12.r),\n                        child: Container(\n                          color: Colors.grey[300],\n                          width: double.infinity,\n                          height: double.infinity,\n                          child: Icon(\n                            Icons.image,\n                            color: Colors.grey[500],\n                            size: 40.sp,\n                          ),\n                        ),\n                      ),\n                      Positioned(\n                        bottom: 12.h,\n                        left: 12.w,\n                        child: Column(\n                          crossAxisAlignment: CrossAxisAlignment.start,\n                          children: [\n                            Text(\n                              'Downtown hotel is',\n                              style: AppTextStyles.bodyMedium.copyWith(\n                                color: Colors.white,\n                                fontSize: 12.sp,\n                                fontWeight: FontWeight.w600,\n                              ),\n                            ),\n                            Text(\n                              '250 \\$ /night',\n                              style: AppTextStyles.bodySmall.copyWith(\n                                color: Colors.white,\n                                fontSize: 10.sp,\n                              ),\n                            ),\n                          ],\n                        ),\n                      ),\n                    ],\n                  ),\n                );\n              },\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildHighlyRatedProperties() {\n    return Container(\n      margin: EdgeInsets.symmetric(vertical: 16.h),\n      child: Column(\n        crossAxisAlignment: CrossAxisAlignment.start,\n        children: [\n          Padding(\n            padding: EdgeInsets.symmetric(horizontal: 16.w),\n            child: Row(\n              children: [\n                Icon(Icons.star, color: Colors.orange, size: 20.sp),\n                SizedBox(width: 8.w),\n                Text(\n                  'Highly Rated Properties',\n                  style: AppTextStyles.h4.copyWith(\n                    color: AppColors.textPrimary,\n                    fontSize: 16.sp,\n                  ),\n                ),\n                const Spacer(),\n                Icon(Icons.arrow_forward_ios, color: Colors.grey[600], size: 16.sp),\n              ],\n            ),\n          ),\n          SizedBox(height: 16.h),\n          SizedBox(\n            height: 180.h,\n            child: ListView.builder(\n              scrollDirection: Axis.horizontal,\n              padding: EdgeInsets.symmetric(horizontal: 16.w),\n              itemCount: 2,\n              itemBuilder: (context, index) {\n                return Container(\n                  width: 160.w,\n                  margin: EdgeInsets.only(right: 12.w),\n                  decoration: BoxDecoration(\n                    borderRadius: BorderRadius.circular(12.r),\n                    color: Colors.white,\n                    boxShadow: [\n                      BoxShadow(\n                        color: Colors.grey.withValues(alpha: 0.1),\n                        spreadRadius: 1,\n                        blurRadius: 8,\n                        offset: const Offset(0, 2),\n                      ),\n                    ],\n                  ),\n                  child: Column(\n                    crossAxisAlignment: CrossAxisAlignment.start,\n                    children: [\n                      Expanded(\n                        flex: 3,\n                        child: Container(\n                          decoration: BoxDecoration(\n                            color: Colors.grey[300],\n                            borderRadius: BorderRadius.only(\n                              topLeft: Radius.circular(12.r),\n                              topRight: Radius.circular(12.r),\n                            ),\n                          ),\n                          child: Center(\n                            child: Icon(\n                              Icons.image,\n                              color: Colors.grey[500],\n                              size: 40.sp,\n                            ),\n                          ),\n                        ),\n                      ),\n                      Expanded(\n                        flex: 2,\n                        child: Padding(\n                          padding: EdgeInsets.all(12.w),\n                          child: Column(\n                            crossAxisAlignment: CrossAxisAlignment.start,\n                            children: [\n                              Text(\n                                'Rent An Hotel Room',\n                                style: AppTextStyles.bodyMedium.copyWith(\n                                  color: AppColors.textPrimary,\n                                  fontSize: 12.sp,\n                                  fontWeight: FontWeight.w600,\n                                ),\n                                maxLines: 1,\n                                overflow: TextOverflow.ellipsis,\n                              ),\n                              Text(\n                                'In Damascus Center',\n                                style: AppTextStyles.bodySmall.copyWith(\n                                  color: Colors.grey[600],\n                                  fontSize: 10.sp,\n                                ),\n                                maxLines: 1,\n                                overflow: TextOverflow.ellipsis,\n                              ),\n                              const Spacer(),\n                              Row(\n                                children: [\n                                  Container(\n                                    padding: EdgeInsets.symmetric(horizontal: 6.w, vertical: 2.h),\n                                    decoration: BoxDecoration(\n                                      color: Colors.orange,\n                                      borderRadius: BorderRadius.circular(4.r),\n                                    ),\n                                    child: Row(\n                                      mainAxisSize: MainAxisSize.min,\n                                      children: [\n                                        Icon(Icons.star, color: Colors.white, size: 10.sp),\n                                        SizedBox(width: 2.w),\n                                        Text(\n                                          '4.8',\n                                          style: AppTextStyles.bodySmall.copyWith(\n                                            color: Colors.white,\n                                            fontSize: 8.sp,\n                                            fontWeight: FontWeight.bold,\n                                          ),\n                                        ),\n                                      ],\n                                    ),\n                                  ),\n                                  const Spacer(),\n                                  Text(\n                                    '250.00 \\$',\n                                    style: AppTextStyles.bodyMedium.copyWith(\n                                      color: Colors.red[400],\n                                      fontSize: 10.sp,\n                                      fontWeight: FontWeight.w600,\n                                    ),\n                                  ),\n                                ],\n                              ),\n                            ],\n                          ),\n                        ),\n                      ),\n                    ],\n                  ),\n                );\n              },\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildDiscoverSection() {\n    return Container(\n      margin: EdgeInsets.all(16.w),\n      child: Column(\n        crossAxisAlignment: CrossAxisAlignment.start,\n        children: [\n          Row(\n            children: [\n              Icon(Icons.explore, color: Colors.orange, size: 20.sp),\n              SizedBox(width: 8.w),\n              Text(\n                'Discover Your Ideal Stay',\n                style: AppTextStyles.h4.copyWith(\n                  color: AppColors.textPrimary,\n                  fontSize: 16.sp,\n                ),\n              ),\n            ],\n          ),\n          SizedBox(height: 16.h),\n          GridView.builder(\n            shrinkWrap: true,\n            physics: const NeverScrollableScrollPhysics(),\n            gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(\n              crossAxisCount: 2,\n              crossAxisSpacing: 12.w,\n              mainAxisSpacing: 12.h,\n              childAspectRatio: 0.75,\n            ),\n            itemCount: 4,\n            itemBuilder: (context, index) {\n              return Container(\n                decoration: BoxDecoration(\n                  color: Colors.white,\n                  borderRadius: BorderRadius.circular(12.r),\n                  boxShadow: [\n                    BoxShadow(\n                      color: Colors.grey.withValues(alpha: 0.1),\n                      spreadRadius: 1,\n                      blurRadius: 8,\n                      offset: const Offset(0, 2),\n                    ),\n                  ],\n                ),\n                child: Column(\n                  crossAxisAlignment: CrossAxisAlignment.start,\n                  children: [\n                    Expanded(\n                      flex: 3,\n                      child: Container(\n                        decoration: BoxDecoration(\n                          color: Colors.grey[300],\n                          borderRadius: BorderRadius.only(\n                            topLeft: Radius.circular(12.r),\n                            topRight: Radius.circular(12.r),\n                          ),\n                        ),\n                        child: Center(\n                          child: Icon(\n                            Icons.image,\n                            color: Colors.grey[500],\n                            size: 40.sp,\n                          ),\n                        ),\n                      ),\n                    ),\n                    Expanded(\n                      flex: 2,\n                      child: Padding(\n                        padding: EdgeInsets.all(12.w),\n                        child: Column(\n                          crossAxisAlignment: CrossAxisAlignment.start,\n                          children: [\n                            Text(\n                              'Rent An Hotel Room',\n                              style: AppTextStyles.bodyMedium.copyWith(\n                                color: AppColors.textPrimary,\n                                fontSize: 12.sp,\n                                fontWeight: FontWeight.w600,\n                              ),\n                              maxLines: 1,\n                              overflow: TextOverflow.ellipsis,\n                            ),\n                            Text(\n                              'In Damascus Center',\n                              style: AppTextStyles.bodySmall.copyWith(\n                                color: Colors.grey[600],\n                                fontSize: 10.sp,\n                              ),\n                              maxLines: 1,\n                              overflow: TextOverflow.ellipsis,\n                            ),\n                            const Spacer(),\n                            Row(\n                              children: [\n                                Container(\n                                  padding: EdgeInsets.symmetric(horizontal: 6.w, vertical: 2.h),\n                                  decoration: BoxDecoration(\n                                    color: Colors.orange,\n                                    borderRadius: BorderRadius.circular(4.r),\n                                  ),\n                                  child: Row(\n                                    mainAxisSize: MainAxisSize.min,\n                                    children: [\n                                      Icon(Icons.star, color: Colors.white, size: 10.sp),\n                                      SizedBox(width: 2.w),\n                                      Text(\n                                        '4.8',\n                                        style: AppTextStyles.bodySmall.copyWith(\n                                          color: Colors.white,\n                                          fontSize: 8.sp,\n                                          fontWeight: FontWeight.bold,\n                                        ),\n                                      ),\n                                    ],\n                                  ),\n                                ),\n                                const Spacer(),\n                                Text(\n                                  '250.00 \\$',\n                                  style: AppTextStyles.bodyMedium.copyWith(\n                                    color: Colors.red[400],\n                                    fontSize: 10.sp,\n                                    fontWeight: FontWeight.w600,\n                                  ),\n                                ),\n                              ],\n                            ),\n                          ],\n                        ),\n                      ),\n                    ),\n                  ],\n                ),\n              );\n            },\n          ),\n        ],\n      ),\n    );\n  }\n}\n","baseTimestamp":1758198402478,"deltas":[{"timestamp":1758301032452,"changes":[{"type":"MODIFY","lineNumber":433,"content":"                    color: Colors.white,","oldContent":"                    color: Colors.white,"},{"type":"INSERT","lineNumber":439,"content":"                        blurRadius: 3,"},{"type":"INSERT","lineNumber":440,"content":"                        color: Colors.black.withValues(alpha: 0.7),"},{"type":"DELETE","lineNumber":441,"oldContent":"                        blurRadius: 3,"},{"type":"DELETE","lineNumber":443,"oldContent":"                        color: Colors.black.withValues(alpha: 0.7),"},{"type":"INSERT","lineNumber":458,"content":"                        color: Colors.black.withValues(alpha: 0.7),"},{"type":"DELETE","lineNumber":459,"oldContent":"                      ),"},{"type":"INSERT","lineNumber":461,"content":"                  ),"},{"type":"DELETE","lineNumber":462,"oldContent":"                ),"},{"type":"MODIFY","lineNumber":466,"content":"          // Gradient overlay for text readability","oldContent":"          // Gradient overlay for text readability"},{"type":"DELETE","lineNumber":529,"oldContent":"              itemBuilder: (context, index) {"},{"type":"MODIFY","lineNumber":531,"content":"              itemBuilder: (context, index) {","oldContent":"                final property = properties[index];"},{"type":"INSERT","lineNumber":532,"content":"                final property = properties[index];"},{"type":"MODIFY","lineNumber":579,"content":"                              ),","oldContent":"                              ),"},{"type":"MODIFY","lineNumber":608,"content":"                      child: Icon(","oldContent":"                      child: Icon("},{"type":"MODIFY","lineNumber":670,"content":"                      Expanded(","oldContent":"                      Expanded("},{"type":"INSERT","lineNumber":678,"content":"                          overflow: TextOverflow.ellipsis,"},{"type":"DELETE","lineNumber":680,"oldContent":"                          overflow: TextOverflow.ellipsis,"},{"type":"INSERT","lineNumber":689,"content":"                      fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":690,"content":"                    ),"},{"type":"INSERT","lineNumber":691,"content":"                  ),"},{"type":"INSERT","lineNumber":692,"content":"                ],"},{"type":"INSERT","lineNumber":693,"content":"              ),"},{"type":"DELETE","lineNumber":691,"oldContent":"                      fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":694,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":697,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":700,"oldContent":"                ],"},{"type":"DELETE","lineNumber":703,"oldContent":"              ),"},{"type":"DELETE","lineNumber":778,"oldContent":"                        decoration: BoxDecoration("},{"type":"DELETE","lineNumber":780,"oldContent":"                          borderRadius: BorderRadius.circular(12.r),"},{"type":"MODIFY","lineNumber":781,"content":"                        decoration: BoxDecoration(","oldContent":"                          gradient: LinearGradient("},{"type":"INSERT","lineNumber":782,"content":"                          borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":783,"content":"                          gradient: LinearGradient("},{"type":"DELETE","lineNumber":922,"oldContent":"        children: ["},{"type":"DELETE","lineNumber":924,"oldContent":"          Row("},{"type":"MODIFY","lineNumber":925,"content":"        children: [","oldContent":"            children: ["},{"type":"INSERT","lineNumber":926,"content":"          Row("},{"type":"INSERT","lineNumber":927,"content":"            children: ["},{"type":"DELETE","lineNumber":985,"oldContent":"                    Positioned("},{"type":"DELETE","lineNumber":988,"oldContent":"                      bottom: 12.h,"},{"type":"DELETE","lineNumber":990,"oldContent":"                      left: 12.w,"},{"type":"INSERT","lineNumber":989,"content":"                    Positioned("},{"type":"INSERT","lineNumber":990,"content":"                      bottom: 12.h,"},{"type":"INSERT","lineNumber":991,"content":"                      left: 12.w,"},{"type":"INSERT","lineNumber":1006,"content":"                              color: Colors.white.withValues(alpha: 0.8),"},{"type":"INSERT","lineNumber":1007,"content":"                              fontSize: 12.sp,"},{"type":"INSERT","lineNumber":1008,"content":"                            ),"},{"type":"DELETE","lineNumber":1008,"oldContent":"                              color: Colors.white.withValues(alpha: 0.8),"},{"type":"DELETE","lineNumber":1010,"oldContent":"                              fontSize: 12.sp,"},{"type":"DELETE","lineNumber":1012,"oldContent":"                            ),"},{"type":"MODIFY","lineNumber":1016,"content":"              // Bottom row with two cards","oldContent":"              // Bottom row with two cards"},{"type":"DELETE","lineNumber":1019,"oldContent":"                        color: Colors.grey[400],"},{"type":"DELETE","lineNumber":1021,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":1024,"oldContent":"                      child: Stack("},{"type":"DELETE","lineNumber":1026,"oldContent":"                        children: ["},{"type":"DELETE","lineNumber":1028,"oldContent":"                          ClipRRect("},{"type":"INSERT","lineNumber":1025,"content":"                        color: Colors.grey[400],"},{"type":"INSERT","lineNumber":1026,"content":"                      ),"},{"type":"INSERT","lineNumber":1027,"content":"                      child: Stack("},{"type":"INSERT","lineNumber":1028,"content":"                        children: ["},{"type":"INSERT","lineNumber":1029,"content":"                          ClipRRect("},{"type":"INSERT","lineNumber":1046,"content":"                            child: Column("},{"type":"INSERT","lineNumber":1047,"content":"                              crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":1048,"content":"                              children: ["},{"type":"INSERT","lineNumber":1049,"content":"                                Text("},{"type":"DELETE","lineNumber":1048,"oldContent":"                            child: Column("},{"type":"DELETE","lineNumber":1050,"oldContent":"                              crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":1053,"oldContent":"                              children: ["},{"type":"INSERT","lineNumber":1055,"content":"                                  ),"},{"type":"DELETE","lineNumber":1056,"oldContent":"                                Text("},{"type":"DELETE","lineNumber":1058,"oldContent":"                                  ),"},{"type":"DELETE","lineNumber":1061,"oldContent":"                                ),"},{"type":"INSERT","lineNumber":1063,"content":"                                ),"},{"type":"DELETE","lineNumber":1102,"oldContent":"                                Text("},{"type":"DELETE","lineNumber":1104,"oldContent":"                                  'Premium Experience',"},{"type":"DELETE","lineNumber":1106,"oldContent":"                                  style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":1108,"oldContent":"                                    color: Colors.white,"},{"type":"DELETE","lineNumber":1111,"oldContent":"                                    fontSize: 10.sp,"},{"type":"INSERT","lineNumber":1109,"content":"                                Text("},{"type":"INSERT","lineNumber":1110,"content":"                                  'Premium Experience',"},{"type":"INSERT","lineNumber":1111,"content":"                                  style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":1112,"content":"                                    color: Colors.white,"},{"type":"INSERT","lineNumber":1113,"content":"                                    fontSize: 10.sp,"},{"type":"DELETE","lineNumber":1172,"oldContent":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"MODIFY","lineNumber":1174,"content":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';","oldContent":"  }"},{"type":"INSERT","lineNumber":1175,"content":"  }"},{"type":"DELETE","lineNumber":1188,"oldContent":"    _pageController.dispose();"},{"type":"DELETE","lineNumber":1190,"oldContent":"    super.dispose();"},{"type":"DELETE","lineNumber":1192,"oldContent":"  }"},{"type":"DELETE","lineNumber":1194,"oldContent":""},{"type":"DELETE","lineNumber":1196,"oldContent":"  @override"},{"type":"INSERT","lineNumber":1193,"content":"    _pageController.dispose();"},{"type":"INSERT","lineNumber":1194,"content":"    super.dispose();"},{"type":"INSERT","lineNumber":1195,"content":"  }"},{"type":"INSERT","lineNumber":1196,"content":""},{"type":"INSERT","lineNumber":1197,"content":"  @override"},{"type":"DELETE","lineNumber":1242,"oldContent":"                        left: 16.w,"},{"type":"DELETE","lineNumber":1244,"oldContent":"                        top: 16.h,"},{"type":"DELETE","lineNumber":1246,"oldContent":"                        child: Container("},{"type":"DELETE","lineNumber":1249,"oldContent":"                          padding: EdgeInsets.symmetric(horizontal: 8.w, vertical: 4.h),"},{"type":"DELETE","lineNumber":1252,"oldContent":"                          decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1250,"content":"                        left: 16.w,"},{"type":"INSERT","lineNumber":1251,"content":"                        top: 16.h,"},{"type":"INSERT","lineNumber":1252,"content":"                        child: Container("},{"type":"INSERT","lineNumber":1253,"content":"                          padding: EdgeInsets.symmetric(horizontal: 8.w, vertical: 4.h),"},{"type":"INSERT","lineNumber":1254,"content":"                          decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1276,"oldContent":"                            SizedBox(height: 4.h),"},{"type":"DELETE","lineNumber":1278,"oldContent":"                            Text("},{"type":"DELETE","lineNumber":1280,"oldContent":"                              'Discover amazing deals',"},{"type":"DELETE","lineNumber":1282,"oldContent":"                              style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":1284,"oldContent":"                                color: Colors.white.withValues(alpha: 0.9),"},{"type":"DELETE","lineNumber":1286,"oldContent":"                                fontSize: 12.sp,"},{"type":"INSERT","lineNumber":1282,"content":"                            SizedBox(height: 4.h),"},{"type":"INSERT","lineNumber":1283,"content":"                            Text("},{"type":"INSERT","lineNumber":1284,"content":"                              'Discover amazing deals',"},{"type":"INSERT","lineNumber":1285,"content":"                              style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":1286,"content":"                                color: Colors.white.withValues(alpha: 0.9),"},{"type":"INSERT","lineNumber":1287,"content":"                                fontSize: 12.sp,"},{"type":"MODIFY","lineNumber":1302,"content":"            mainAxisAlignment: MainAxisAlignment.center,","oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"}]},{"timestamp":1758301122580,"changes":[{"type":"MODIFY","lineNumber":355,"content":"      height: 218.h,","oldContent":"      height: 200.h,"},{"type":"INSERT","lineNumber":356,"content":"      width: 162.w,"},{"type":"INSERT","lineNumber":433,"content":"                  style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":433,"oldContent":"                    color: Colors.white,"},{"type":"DELETE","lineNumber":440,"oldContent":"                      ),"},{"type":"INSERT","lineNumber":442,"content":"                      ),"},{"type":"INSERT","lineNumber":466,"content":"          ),"},{"type":"DELETE","lineNumber":466,"oldContent":"          // Gradient overlay for text readability"},{"type":"INSERT","lineNumber":531,"content":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"DELETE","lineNumber":532,"oldContent":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":579,"content":"                                size: 30.sp,"},{"type":"DELETE","lineNumber":579,"oldContent":"                              ),"},{"type":"INSERT","lineNumber":608,"content":"                      ),"},{"type":"DELETE","lineNumber":608,"oldContent":"                      child: Icon("},{"type":"INSERT","lineNumber":670,"content":"                      SizedBox(width: 2.w),"},{"type":"DELETE","lineNumber":670,"oldContent":"                      Expanded("},{"type":"DELETE","lineNumber":690,"oldContent":"            ),"},{"type":"DELETE","lineNumber":692,"oldContent":"          ),"},{"type":"MODIFY","lineNumber":695,"content":"            ),","oldContent":"        ],"},{"type":"INSERT","lineNumber":696,"content":"          ),"},{"type":"INSERT","lineNumber":697,"content":"        ],"},{"type":"INSERT","lineNumber":780,"content":"                      // Gradient overlay for text readability"},{"type":"INSERT","lineNumber":781,"content":"                      Container("},{"type":"DELETE","lineNumber":782,"oldContent":"                          gradient: LinearGradient("},{"type":"DELETE","lineNumber":783,"oldContent":"                      Container("},{"type":"INSERT","lineNumber":924,"content":"      child: Column("},{"type":"INSERT","lineNumber":925,"content":"        crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":926,"oldContent":"            children: ["},{"type":"DELETE","lineNumber":927,"oldContent":"        crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":987,"oldContent":"                    Positioned("},{"type":"INSERT","lineNumber":989,"content":"                    ),"},{"type":"INSERT","lineNumber":990,"content":"                    Positioned("},{"type":"DELETE","lineNumber":991,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":1007,"oldContent":"                          ),"},{"type":"MODIFY","lineNumber":1010,"content":"                          ),","oldContent":"                        ],"},{"type":"INSERT","lineNumber":1011,"content":"                        ],"},{"type":"INSERT","lineNumber":1016,"content":"              ),"},{"type":"DELETE","lineNumber":1016,"oldContent":"              // Bottom row with two cards"},{"type":"DELETE","lineNumber":1022,"oldContent":"                        color: Colors.grey[400],"},{"type":"INSERT","lineNumber":1024,"content":"                      decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1025,"content":"                        borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":1026,"content":"                        color: Colors.grey[400],"},{"type":"DELETE","lineNumber":1026,"oldContent":"                      decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1029,"oldContent":"                        borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":1047,"oldContent":"                                  'Special Offer',"},{"type":"DELETE","lineNumber":1049,"oldContent":"                                  style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":1051,"content":"                                  'Special Offer',"},{"type":"INSERT","lineNumber":1052,"content":"                                  style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":1055,"oldContent":"                                ),"},{"type":"INSERT","lineNumber":1057,"content":"                                ),"},{"type":"DELETE","lineNumber":1062,"oldContent":"                                ),"},{"type":"INSERT","lineNumber":1064,"content":"                                ),"},{"type":"DELETE","lineNumber":1105,"oldContent":"                                Text("},{"type":"DELETE","lineNumber":1107,"oldContent":"                                  'Premium Experience',"},{"type":"INSERT","lineNumber":1108,"content":"                              crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":1109,"content":"                              children: ["},{"type":"INSERT","lineNumber":1110,"content":"                                Text("},{"type":"INSERT","lineNumber":1111,"content":"                                  'Premium Experience',"},{"type":"DELETE","lineNumber":1111,"oldContent":"                              crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":1113,"oldContent":"                              children: ["},{"type":"INSERT","lineNumber":1174,"content":"    return locationImages[locationName] ?? "},{"type":"DELETE","lineNumber":1175,"oldContent":"    return locationImages[locationName] ?? "},{"type":"DELETE","lineNumber":1190,"oldContent":"    _pageController.dispose();"},{"type":"INSERT","lineNumber":1192,"content":"  @override"},{"type":"INSERT","lineNumber":1193,"content":"  void dispose() {"},{"type":"INSERT","lineNumber":1194,"content":"    _pageController.dispose();"},{"type":"DELETE","lineNumber":1194,"oldContent":"  @override"},{"type":"DELETE","lineNumber":1197,"oldContent":"  void dispose() {"},{"type":"DELETE","lineNumber":1246,"oldContent":"                        left: 16.w,"},{"type":"DELETE","lineNumber":1248,"oldContent":"                        top: 16.h,"},{"type":"INSERT","lineNumber":1249,"content":"                      ),"},{"type":"INSERT","lineNumber":1250,"content":"                      Positioned("},{"type":"INSERT","lineNumber":1251,"content":"                        left: 16.w,"},{"type":"INSERT","lineNumber":1252,"content":"                        top: 16.h,"},{"type":"DELETE","lineNumber":1252,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":1254,"oldContent":"                      Positioned("},{"type":"INSERT","lineNumber":1280,"content":"                                fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":1281,"content":"                              ),"},{"type":"INSERT","lineNumber":1282,"content":"                            ),"},{"type":"DELETE","lineNumber":1281,"oldContent":"                                fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":1284,"oldContent":"                              ),"},{"type":"DELETE","lineNumber":1287,"oldContent":"                            ),"},{"type":"INSERT","lineNumber":1302,"content":"          Row("},{"type":"DELETE","lineNumber":1302,"oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"}]},{"timestamp":1758301167654,"changes":[{"type":"MODIFY","lineNumber":4,"content":"import '../bloc/home_bloc.dart';","oldContent":"import '../../../search/presentation/pages/search_screen.dart';"},{"type":"INSERT","lineNumber":17,"content":""},{"type":"INSERT","lineNumber":18,"content":"  @override"},{"type":"INSERT","lineNumber":19,"content":"  Widget build(BuildContext context) {"},{"type":"INSERT","lineNumber":22,"content":"      onPopInvokedWithResult: (didPop, result) async {"},{"type":"DELETE","lineNumber":28,"oldContent":"        body: SingleChildScrollView("},{"type":"DELETE","lineNumber":29,"oldContent":"      },"},{"type":"DELETE","lineNumber":30,"oldContent":"      child: Scaffold("},{"type":"DELETE","lineNumber":31,"oldContent":"        appBar: null,"},{"type":"MODIFY","lineNumber":105,"content":"          ),","oldContent":"                ),"},{"type":"MODIFY","lineNumber":139,"content":"        return Container(","oldContent":"      margin: EdgeInsets.symmetric(horizontal: 16.w),"},{"type":"MODIFY","lineNumber":434,"content":"                    color: Colors.white,","oldContent":"                    color: Colors.white,"},{"type":"MODIFY","lineNumber":467,"content":"          // Gradient overlay for text readability","oldContent":"          // Gradient overlay for text readability"},{"type":"MODIFY","lineNumber":532,"content":"              itemBuilder: (context, index) {","oldContent":"              itemBuilder: (context, index) {"},{"type":"MODIFY","lineNumber":580,"content":"                              ),","oldContent":"                              ),"},{"type":"MODIFY","lineNumber":609,"content":"                      child: Icon(","oldContent":"                      child: Icon("},{"type":"DELETE","lineNumber":617,"oldContent":"                // Rating badge (using static data since backend doesn't provide it)"},{"type":"DELETE","lineNumber":618,"oldContent":"                Positioned("},{"type":"DELETE","lineNumber":619,"oldContent":"                  bottom: 8.h,"},{"type":"DELETE","lineNumber":620,"oldContent":"                  left: 8.w,"},{"type":"DELETE","lineNumber":621,"oldContent":"                  child: Container("},{"type":"INSERT","lineNumber":617,"content":"              ],"},{"type":"INSERT","lineNumber":618,"content":"            ),"},{"type":"INSERT","lineNumber":619,"content":"          ),"},{"type":"INSERT","lineNumber":620,"content":"          // Property details section - moved below image"},{"type":"INSERT","lineNumber":621,"content":"          Expanded("},{"type":"INSERT","lineNumber":622,"content":"            flex: 2,"},{"type":"INSERT","lineNumber":623,"content":"            child: Padding("},{"type":"INSERT","lineNumber":624,"content":"              padding: EdgeInsets.all(8.w),"},{"type":"INSERT","lineNumber":625,"content":"              child: Column("},{"type":"INSERT","lineNumber":626,"content":"                crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":627,"content":"                children: ["},{"type":"INSERT","lineNumber":628,"content":"                  // Rating badge at the top"},{"type":"INSERT","lineNumber":629,"content":"                  Container("},{"type":"DELETE","lineNumber":643,"oldContent":"                ),"},{"type":"DELETE","lineNumber":644,"oldContent":"              ],"},{"type":"DELETE","lineNumber":645,"oldContent":"            ),"},{"type":"DELETE","lineNumber":646,"oldContent":"          ),"},{"type":"DELETE","lineNumber":647,"oldContent":"          // Property details section"},{"type":"DELETE","lineNumber":648,"oldContent":"          Expanded("},{"type":"DELETE","lineNumber":649,"oldContent":"            flex: 2,"},{"type":"DELETE","lineNumber":650,"oldContent":"            child: Padding("},{"type":"DELETE","lineNumber":651,"oldContent":"              padding: EdgeInsets.all(8.w),"},{"type":"DELETE","lineNumber":652,"oldContent":"              child: Column("},{"type":"DELETE","lineNumber":653,"oldContent":"                crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":654,"oldContent":"                children: ["},{"type":"INSERT","lineNumber":651,"content":"                  SizedBox(height: 6.h),"},{"type":"DELETE","lineNumber":666,"oldContent":"                  // Property type and distance would go here if available from backend"},{"type":"INSERT","lineNumber":663,"content":"                  // Property type row (using static data since not available from backend)"},{"type":"DELETE","lineNumber":669,"oldContent":"                      Icon(Icons.location_on, color: Colors.grey[500], size: 12.sp),"},{"type":"DELETE","lineNumber":670,"oldContent":"                      Expanded("},{"type":"INSERT","lineNumber":666,"content":"                      Icon(Icons.home_outlined, color: Colors.grey[500], size: 12.sp),"},{"type":"INSERT","lineNumber":667,"content":"                      SizedBox(width: 4.w),"},{"type":"INSERT","lineNumber":668,"content":"                      Text("},{"type":"INSERT","lineNumber":669,"content":"                        property.hotelName?.isNotEmpty == true ? 'Hotel' : 'Apartment',"},{"type":"INSERT","lineNumber":670,"content":"                        style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":671,"content":"                          color: Colors.grey[600],"},{"type":"INSERT","lineNumber":672,"content":"                          fontSize: 10.sp,"},{"type":"INSERT","lineNumber":673,"content":"                        ),"},{"type":"INSERT","lineNumber":674,"content":"                      ),"},{"type":"INSERT","lineNumber":675,"content":"                      SizedBox(width: 12.w),"},{"type":"INSERT","lineNumber":676,"content":"                      Icon(Icons.straighten, color: Colors.grey[500], size: 12.sp),"},{"type":"DELETE","lineNumber":672,"oldContent":"                        child: Text("},{"type":"DELETE","lineNumber":673,"oldContent":"                          property.displayLocation,"},{"type":"DELETE","lineNumber":674,"oldContent":"                          style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":675,"oldContent":"                            color: Colors.grey[600],"},{"type":"DELETE","lineNumber":676,"oldContent":"                            fontSize: 10.sp,"},{"type":"DELETE","lineNumber":677,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":678,"oldContent":"                          maxLines: 1,"},{"type":"DELETE","lineNumber":679,"oldContent":"                          overflow: TextOverflow.ellipsis,"},{"type":"INSERT","lineNumber":678,"content":"                      Text("},{"type":"INSERT","lineNumber":679,"content":"                        '140 M', // Static distance since not available from backend"},{"type":"INSERT","lineNumber":680,"content":"                        style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":681,"content":"                          color: Colors.grey[600],"},{"type":"INSERT","lineNumber":682,"content":"                          fontSize: 10.sp,"},{"type":"INSERT","lineNumber":697,"content":"              ),"},{"type":"DELETE","lineNumber":696,"oldContent":"              ),"},{"type":"DELETE","lineNumber":780,"oldContent":"                        decoration: BoxDecoration("},{"type":"DELETE","lineNumber":782,"oldContent":"                          borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":785,"content":"                        decoration: BoxDecoration("},{"type":"INSERT","lineNumber":786,"content":"                          borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":924,"oldContent":"        children: ["},{"type":"DELETE","lineNumber":926,"oldContent":"          Row("},{"type":"INSERT","lineNumber":929,"content":"        children: ["},{"type":"INSERT","lineNumber":930,"content":"          Row("},{"type":"DELETE","lineNumber":990,"oldContent":"                      bottom: 12.h,"},{"type":"INSERT","lineNumber":994,"content":"                      bottom: 12.h,"},{"type":"DELETE","lineNumber":1009,"oldContent":"                        ],"},{"type":"INSERT","lineNumber":1012,"content":"                            ),"},{"type":"DELETE","lineNumber":1016,"oldContent":"              // Bottom row with two cards"},{"type":"INSERT","lineNumber":1020,"content":"              // Bottom row with two cards"},{"type":"DELETE","lineNumber":1025,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":1027,"oldContent":"                      child: Stack("},{"type":"INSERT","lineNumber":1030,"content":"                      ),"},{"type":"INSERT","lineNumber":1031,"content":"                      child: Stack("},{"type":"DELETE","lineNumber":1050,"oldContent":"                                  'Special Offer',"},{"type":"INSERT","lineNumber":1054,"content":"                                  'Special Offer',"},{"type":"DELETE","lineNumber":1107,"oldContent":"                              crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":1111,"content":"                              crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":1110,"oldContent":"                                  style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":1112,"oldContent":"                                    color: Colors.white,"},{"type":"INSERT","lineNumber":1115,"content":"                                  style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":1116,"content":"                                    color: Colors.white,"},{"type":"DELETE","lineNumber":1174,"oldContent":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"INSERT","lineNumber":1178,"content":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"DELETE","lineNumber":1193,"oldContent":"    super.dispose();"},{"type":"DELETE","lineNumber":1195,"oldContent":"  }"},{"type":"INSERT","lineNumber":1198,"content":"    super.dispose();"},{"type":"INSERT","lineNumber":1199,"content":"  }"},{"type":"DELETE","lineNumber":1248,"oldContent":"                      ),"},{"type":"INSERT","lineNumber":1252,"content":"                      ),"},{"type":"DELETE","lineNumber":1251,"oldContent":"                        child: Container("},{"type":"DELETE","lineNumber":1253,"oldContent":"                          padding: EdgeInsets.symmetric(horizontal: 8.w, vertical: 4.h),"},{"type":"INSERT","lineNumber":1256,"content":"                        child: Container("},{"type":"INSERT","lineNumber":1257,"content":"                          padding: EdgeInsets.symmetric(horizontal: 8.w, vertical: 4.h),"},{"type":"DELETE","lineNumber":1280,"oldContent":"                            SizedBox(height: 4.h),"},{"type":"DELETE","lineNumber":1282,"oldContent":"                            Text("},{"type":"INSERT","lineNumber":1286,"content":"                            SizedBox(height: 4.h),"},{"type":"INSERT","lineNumber":1287,"content":"                            Text("},{"type":"DELETE","lineNumber":1289,"oldContent":"    );"},{"type":"INSERT","lineNumber":1292,"content":"                              ),"},{"type":"DELETE","lineNumber":1302,"oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"INSERT","lineNumber":1306,"content":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"DELETE","lineNumber":1319,"oldContent":"            ),"},{"type":"INSERT","lineNumber":1322,"content":"          ),"}]},{"timestamp":1758301191521,"changes":[{"type":"MODIFY","lineNumber":5,"content":"import '../bloc/home_event.dart';","oldContent":"import '../../../search/presentation/bloc/search_bloc.dart';"},{"type":"MODIFY","lineNumber":10,"content":"import '../../../../core/di/injection.dart';","oldContent":"import '../../../../theming/text_styles.dart';"},{"type":"INSERT","lineNumber":14,"content":""},{"type":"DELETE","lineNumber":15,"oldContent":"class HomeScreen extends StatelessWidget {"},{"type":"DELETE","lineNumber":18,"oldContent":"      canPop: false,"},{"type":"MODIFY","lineNumber":20,"content":"    return PopScope(","oldContent":"      onPopInvokedWithResult: (didPop, result) async {"},{"type":"INSERT","lineNumber":21,"content":"      canPop: false,"},{"type":"INSERT","lineNumber":22,"content":"      onPopInvokedWithResult: (didPop, result) async {"},{"type":"DELETE","lineNumber":25,"oldContent":"      onPopInvokedWithResult: (didPop, result) async {"},{"type":"DELETE","lineNumber":32,"oldContent":"              // Header with profile and search"},{"type":"DELETE","lineNumber":33,"oldContent":"              _buildHeader(),"},{"type":"DELETE","lineNumber":34,"oldContent":"              // Hero Banner"},{"type":"DELETE","lineNumber":35,"oldContent":"              _buildHeroBanner(),"},{"type":"DELETE","lineNumber":36,"oldContent":"              "},{"type":"DELETE","lineNumber":37,"oldContent":"              // Special Offers Section"},{"type":"DELETE","lineNumber":38,"oldContent":"              _buildSpecialOffers(),"},{"type":"INSERT","lineNumber":32,"content":"        body: BlocProvider("},{"type":"INSERT","lineNumber":33,"content":"          create: (context) => HomeBloc(homeRepository: getIt())"},{"type":"INSERT","lineNumber":34,"content":"            ..add(const LoadHomeDataEvent()),"},{"type":"INSERT","lineNumber":35,"content":"          child: BlocBuilder<HomeBloc, HomeState>("},{"type":"INSERT","lineNumber":36,"content":"            builder: (context, state) {"},{"type":"INSERT","lineNumber":37,"content":"              if (state is HomeLoading) {"},{"type":"INSERT","lineNumber":38,"content":"                return const Center(child: CircularProgressIndicator());"},{"type":"DELETE","lineNumber":41,"oldContent":"              // Highly Rated Properties"},{"type":"DELETE","lineNumber":42,"oldContent":"              _buildHighlyRatedProperties(),"},{"type":"DELETE","lineNumber":43,"oldContent":"              "},{"type":"DELETE","lineNumber":44,"oldContent":"              // Discover Section"},{"type":"DELETE","lineNumber":45,"oldContent":"              _buildDiscoverSection(),"},{"type":"DELETE","lineNumber":46,"oldContent":"            ],"},{"type":"INSERT","lineNumber":41,"content":"              if (state is HomeError) {"},{"type":"INSERT","lineNumber":42,"content":"                return Center("},{"type":"INSERT","lineNumber":43,"content":"                  child: Column("},{"type":"INSERT","lineNumber":44,"content":"                    mainAxisAlignment: MainAxisAlignment.center,"},{"type":"INSERT","lineNumber":45,"content":"                    children: ["},{"type":"INSERT","lineNumber":46,"content":"                      Icon(Icons.error_outline, size: 64.sp, color: Colors.grey[400]),"},{"type":"DELETE","lineNumber":48,"oldContent":"          ),"},{"type":"DELETE","lineNumber":49,"oldContent":"        ),"},{"type":"DELETE","lineNumber":50,"oldContent":"      ),"},{"type":"DELETE","lineNumber":51,"oldContent":"    );"},{"type":"DELETE","lineNumber":52,"oldContent":"  }"},{"type":"DELETE","lineNumber":53,"oldContent":""},{"type":"DELETE","lineNumber":54,"oldContent":"  Future<bool> _showExitDialog(BuildContext context) async {"},{"type":"DELETE","lineNumber":55,"oldContent":"    return await showDialog<bool>("},{"type":"DELETE","lineNumber":56,"oldContent":"          context: context,"},{"type":"DELETE","lineNumber":57,"oldContent":"          builder: (context) => AlertDialog("},{"type":"DELETE","lineNumber":58,"oldContent":"            title: const Text('Exit App'),"},{"type":"INSERT","lineNumber":48,"content":"                      Text("},{"type":"INSERT","lineNumber":49,"content":"                        'Something went wrong',"},{"type":"INSERT","lineNumber":50,"content":"                        style: AppTextStyles.h4.copyWith(color: Colors.grey[600]),"},{"type":"INSERT","lineNumber":51,"content":"                      ),"},{"type":"INSERT","lineNumber":52,"content":"                      SizedBox(height: 8.h),"},{"type":"INSERT","lineNumber":53,"content":"                      Text("},{"type":"INSERT","lineNumber":54,"content":"                        state.message,"},{"type":"INSERT","lineNumber":55,"content":"                        style: AppTextStyles.bodyMedium.copyWith(color: Colors.grey[500]),"},{"type":"INSERT","lineNumber":56,"content":"                        textAlign: TextAlign.center,"},{"type":"INSERT","lineNumber":57,"content":"                      ),"},{"type":"INSERT","lineNumber":58,"content":"                      SizedBox(height: 16.h),"},{"type":"MODIFY","lineNumber":141,"content":"          child: Column(","oldContent":"      height: 140.h,"},{"type":"DELETE","lineNumber":143,"oldContent":"        borderRadius: BorderRadius.circular(16.r),"},{"type":"DELETE","lineNumber":144,"oldContent":"        gradient: LinearGradient("},{"type":"DELETE","lineNumber":145,"oldContent":"          colors: [Colors.orange[400]!, Colors.orange[600]!],"},{"type":"DELETE","lineNumber":146,"oldContent":"          end: Alignment.bottomRight,"},{"type":"DELETE","lineNumber":147,"oldContent":"        ),"},{"type":"DELETE","lineNumber":148,"oldContent":"      ),"},{"type":"DELETE","lineNumber":149,"oldContent":"      child: Stack("},{"type":"DELETE","lineNumber":150,"oldContent":"        children: ["},{"type":"DELETE","lineNumber":151,"oldContent":"          Positioned("},{"type":"DELETE","lineNumber":152,"oldContent":"            bottom: 0,"},{"type":"DELETE","lineNumber":153,"oldContent":"              borderRadius: BorderRadius.only("},{"type":"DELETE","lineNumber":154,"oldContent":"                bottomRight: Radius.circular(16.r),"},{"type":"DELETE","lineNumber":155,"oldContent":"                topLeft: Radius.circular(50.r),"},{"type":"DELETE","lineNumber":156,"oldContent":"              ),"},{"type":"DELETE","lineNumber":157,"oldContent":"              child: Container("},{"type":"DELETE","lineNumber":158,"oldContent":"                width: 120.w,"},{"type":"DELETE","lineNumber":159,"oldContent":"                height: 80.h,"},{"type":"DELETE","lineNumber":160,"oldContent":"                color: Colors.white.withValues(alpha: 0.1),"},{"type":"INSERT","lineNumber":143,"content":"              // Top row with logo and profile"},{"type":"INSERT","lineNumber":144,"content":"              Row("},{"type":"INSERT","lineNumber":145,"content":"                mainAxisAlignment: MainAxisAlignment.spaceBetween,"},{"type":"INSERT","lineNumber":146,"content":"                children: ["},{"type":"INSERT","lineNumber":147,"content":"                  // App Logo"},{"type":"INSERT","lineNumber":148,"content":"                  Container("},{"type":"INSERT","lineNumber":149,"content":"                    width: 120.w,"},{"type":"INSERT","lineNumber":150,"content":"                    height: 40.h,"},{"type":"INSERT","lineNumber":151,"content":"                    decoration: BoxDecoration("},{"type":"INSERT","lineNumber":152,"content":"                      color: Colors.white,"},{"type":"INSERT","lineNumber":153,"content":"                      borderRadius: BorderRadius.circular(8.r),"},{"type":"INSERT","lineNumber":154,"content":"                      boxShadow: ["},{"type":"INSERT","lineNumber":155,"content":"                        BoxShadow("},{"type":"INSERT","lineNumber":156,"content":"                          color: Colors.grey.withValues(alpha: 0.1),"},{"type":"INSERT","lineNumber":157,"content":"                          spreadRadius: 1,"},{"type":"INSERT","lineNumber":158,"content":"                          blurRadius: 4,"},{"type":"INSERT","lineNumber":159,"content":"                          offset: const Offset(0, 2),"},{"type":"INSERT","lineNumber":160,"content":"                        ),"},{"type":"DELETE","lineNumber":163,"oldContent":"            ),"},{"type":"DELETE","lineNumber":164,"oldContent":"          Padding("},{"type":"DELETE","lineNumber":165,"oldContent":"            padding: EdgeInsets.all(20.w),"},{"type":"DELETE","lineNumber":166,"oldContent":"            child: Column("},{"type":"DELETE","lineNumber":167,"oldContent":"              crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":168,"oldContent":"              children: ["},{"type":"DELETE","lineNumber":169,"oldContent":"                Container("},{"type":"DELETE","lineNumber":170,"oldContent":"                  padding: EdgeInsets.symmetric(horizontal: 8.w, vertical: 4.h),"},{"type":"DELETE","lineNumber":171,"oldContent":"                  decoration: BoxDecoration("},{"type":"DELETE","lineNumber":172,"oldContent":"                    color: Colors.white.withValues(alpha: 0.2),"},{"type":"DELETE","lineNumber":173,"oldContent":"                    borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":174,"oldContent":"                  child: Text("},{"type":"DELETE","lineNumber":175,"oldContent":"                    'ADS',"},{"type":"DELETE","lineNumber":176,"oldContent":"                    style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":163,"content":"                    child: Row("},{"type":"INSERT","lineNumber":164,"content":"                      mainAxisAlignment: MainAxisAlignment.center,"},{"type":"INSERT","lineNumber":165,"content":"                      children: ["},{"type":"INSERT","lineNumber":166,"content":"                        Icon(Icons.home, color: AppColors.primary, size: 20.sp),"},{"type":"INSERT","lineNumber":167,"content":"                        SizedBox(width: 4.w),"},{"type":"INSERT","lineNumber":168,"content":"                        Text("},{"type":"INSERT","lineNumber":169,"content":"                          'AhlanFeekum',"},{"type":"INSERT","lineNumber":170,"content":"                          style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":171,"content":"                            color: AppColors.primary,"},{"type":"INSERT","lineNumber":172,"content":"                            fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":173,"content":"                            fontSize: 12.sp,"},{"type":"INSERT","lineNumber":174,"content":"                          ),"},{"type":"INSERT","lineNumber":175,"content":"                        ),"},{"type":"INSERT","lineNumber":176,"content":"                      ],"},{"type":"MODIFY","lineNumber":179,"content":"                  ","oldContent":"                      fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":180,"content":"                  // Profile Picture"},{"type":"INSERT","lineNumber":181,"content":"                  Container("},{"type":"INSERT","lineNumber":182,"content":"                    decoration: BoxDecoration("},{"type":"INSERT","lineNumber":183,"content":"                      shape: BoxShape.circle,"},{"type":"INSERT","lineNumber":184,"content":"                      border: Border.all(color: AppColors.primary, width: 2.w),"},{"type":"INSERT","lineNumber":186,"content":"                    child: CircleAvatar("},{"type":"INSERT","lineNumber":187,"content":"                      radius: 18.r,"},{"type":"INSERT","lineNumber":188,"content":"                      backgroundColor: Colors.grey[200],"},{"type":"INSERT","lineNumber":189,"content":"                      backgroundImage: const NetworkImage("},{"type":"INSERT","lineNumber":190,"content":"                        'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face',"},{"type":"INSERT","lineNumber":191,"content":"                      ),"},{"type":"INSERT","lineNumber":192,"content":"                    ),"},{"type":"DELETE","lineNumber":182,"oldContent":"                ),"},{"type":"DELETE","lineNumber":183,"oldContent":"                SizedBox(height: 8.h),"},{"type":"DELETE","lineNumber":184,"oldContent":"                Text("},{"type":"DELETE","lineNumber":185,"oldContent":"                  style: AppTextStyles.h3.copyWith("},{"type":"DELETE","lineNumber":186,"oldContent":"                    fontSize: 18.sp,"},{"type":"DELETE","lineNumber":187,"oldContent":"                    fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":188,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":189,"oldContent":"                ),"},{"type":"DELETE","lineNumber":190,"oldContent":"                Text("},{"type":"DELETE","lineNumber":191,"oldContent":"                  'Advertisements Goes',"},{"type":"DELETE","lineNumber":192,"oldContent":"                  style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":193,"oldContent":"                    fontSize: 14.sp,"},{"type":"DELETE","lineNumber":196,"oldContent":"                  style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":197,"oldContent":"                    fontSize: 14.sp,"},{"type":"DELETE","lineNumber":198,"oldContent":"                ),"},{"type":"DELETE","lineNumber":199,"oldContent":"            ),"},{"type":"DELETE","lineNumber":200,"oldContent":"        ],"},{"type":"DELETE","lineNumber":201,"oldContent":"    );"},{"type":"DELETE","lineNumber":202,"oldContent":""},{"type":"DELETE","lineNumber":203,"oldContent":"    return Container("},{"type":"DELETE","lineNumber":204,"oldContent":"      child: Column("},{"type":"DELETE","lineNumber":205,"oldContent":"        children: ["},{"type":"DELETE","lineNumber":206,"oldContent":"            padding: EdgeInsets.symmetric(horizontal: 16.w),"},{"type":"DELETE","lineNumber":207,"oldContent":"              children: ["},{"type":"DELETE","lineNumber":208,"oldContent":"                  padding: EdgeInsets.symmetric(horizontal: 8.w, vertical: 4.h),"},{"type":"DELETE","lineNumber":209,"oldContent":"                    color: Colors.red,"},{"type":"DELETE","lineNumber":210,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":211,"oldContent":"                    'Special',"},{"type":"DELETE","lineNumber":212,"oldContent":"                      color: Colors.white,"},{"type":"DELETE","lineNumber":213,"oldContent":"                  decoration: BoxDecoration("},{"type":"INSERT","lineNumber":196,"content":"              "},{"type":"INSERT","lineNumber":197,"content":"              SizedBox(height: 20.h),"},{"type":"INSERT","lineNumber":198,"content":"              "},{"type":"INSERT","lineNumber":199,"content":"              // Search Bar"},{"type":"INSERT","lineNumber":200,"content":"              GestureDetector("},{"type":"INSERT","lineNumber":201,"content":"                onTap: () {"},{"type":"INSERT","lineNumber":202,"content":"                  Navigator.of(context).push("},{"type":"INSERT","lineNumber":203,"content":"                    MaterialPageRoute("},{"type":"INSERT","lineNumber":204,"content":"                      builder: (buildContext) => BlocProvider("},{"type":"INSERT","lineNumber":205,"content":"                        create: (context) => getIt<SearchBloc>(),"},{"type":"INSERT","lineNumber":206,"content":"                        child: const SearchScreen(),"},{"type":"INSERT","lineNumber":207,"content":"                      ),"},{"type":"DELETE","lineNumber":215,"oldContent":"                ),"},{"type":"DELETE","lineNumber":216,"oldContent":"                Container("},{"type":"INSERT","lineNumber":209,"content":"                  );"},{"type":"INSERT","lineNumber":210,"content":"                },"},{"type":"INSERT","lineNumber":211,"content":"                child: Container("},{"type":"INSERT","lineNumber":212,"content":"                  padding: EdgeInsets.symmetric(horizontal: 16.w, vertical: 14.h),"},{"type":"DELETE","lineNumber":218,"oldContent":"                    borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":219,"oldContent":"                  child: Text("},{"type":"DELETE","lineNumber":220,"oldContent":"                    style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":221,"oldContent":"                      fontSize: 10.sp,"},{"type":"DELETE","lineNumber":222,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":223,"oldContent":"                ),"},{"type":"DELETE","lineNumber":224,"oldContent":"                Icon(Icons.arrow_forward_ios, color: Colors.grey[600], size: 16.sp),"},{"type":"INSERT","lineNumber":214,"content":"                    color: Colors.white,"},{"type":"INSERT","lineNumber":215,"content":"                    borderRadius: BorderRadius.circular(25.r),"},{"type":"INSERT","lineNumber":216,"content":"                    border: Border.all(color: Colors.grey[300]!, width: 1),"},{"type":"INSERT","lineNumber":217,"content":"                    boxShadow: ["},{"type":"INSERT","lineNumber":218,"content":"                      BoxShadow("},{"type":"INSERT","lineNumber":219,"content":"                        color: Colors.grey.withValues(alpha: 0.1),"},{"type":"INSERT","lineNumber":220,"content":"                        spreadRadius: 1,"},{"type":"INSERT","lineNumber":221,"content":"                        blurRadius: 8,"},{"type":"INSERT","lineNumber":222,"content":"                        offset: const Offset(0, 2),"},{"type":"INSERT","lineNumber":223,"content":"                      ),"},{"type":"INSERT","lineNumber":224,"content":"                    ],"},{"type":"DELETE","lineNumber":226,"oldContent":"          ),"},{"type":"DELETE","lineNumber":227,"oldContent":"          Padding("},{"type":"DELETE","lineNumber":228,"oldContent":"            child: Text("},{"type":"DELETE","lineNumber":229,"oldContent":"              style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":230,"oldContent":"                fontSize: 14.sp,"},{"type":"DELETE","lineNumber":231,"oldContent":"            ),"},{"type":"DELETE","lineNumber":232,"oldContent":"          SizedBox(height: 16.h),"},{"type":"DELETE","lineNumber":233,"oldContent":"            height: 120.h,"},{"type":"DELETE","lineNumber":234,"oldContent":"              scrollDirection: Axis.horizontal,"},{"type":"DELETE","lineNumber":235,"oldContent":"              itemCount: 3,"},{"type":"DELETE","lineNumber":236,"oldContent":"                return Container("},{"type":"DELETE","lineNumber":237,"oldContent":"                  margin: EdgeInsets.only(right: 12.w),"},{"type":"DELETE","lineNumber":238,"oldContent":"                    borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":239,"oldContent":"                  ),"},{"type":"INSERT","lineNumber":226,"content":"                  child: Row("},{"type":"DELETE","lineNumber":241,"oldContent":"                        borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":242,"oldContent":"                          color: Colors.grey[300],"},{"type":"DELETE","lineNumber":243,"oldContent":"                          height: double.infinity,"},{"type":"DELETE","lineNumber":244,"oldContent":"                            Icons.image,"},{"type":"DELETE","lineNumber":245,"oldContent":"                            size: 40.sp,"},{"type":"INSERT","lineNumber":228,"content":"                      Icon(Icons.search, color: Colors.grey[500], size: 20.sp),"},{"type":"INSERT","lineNumber":229,"content":"                      SizedBox(width: 12.w),"},{"type":"INSERT","lineNumber":230,"content":"                      Text("},{"type":"INSERT","lineNumber":231,"content":"                        'Destination',"},{"type":"INSERT","lineNumber":232,"content":"                        style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":233,"content":"                          color: Colors.grey[500],"},{"type":"INSERT","lineNumber":234,"content":"                          fontSize: 14.sp,"},{"type":"INSERT","lineNumber":236,"content":"                      ),"},{"type":"INSERT","lineNumber":237,"content":"                      const Spacer(),"},{"type":"INSERT","lineNumber":238,"content":"                      Container("},{"type":"INSERT","lineNumber":239,"content":"                        padding: EdgeInsets.all(6.w),"},{"type":"INSERT","lineNumber":240,"content":"                        decoration: BoxDecoration("},{"type":"INSERT","lineNumber":241,"content":"                          color: AppColors.primary,"},{"type":"INSERT","lineNumber":242,"content":"                          borderRadius: BorderRadius.circular(20.r),"},{"type":"INSERT","lineNumber":243,"content":"                        ),"},{"type":"INSERT","lineNumber":244,"content":"                        child: Icon("},{"type":"INSERT","lineNumber":245,"content":"                          Icons.search, "},{"type":"INSERT","lineNumber":246,"content":"                          color: Colors.white, "},{"type":"INSERT","lineNumber":332,"content":"              mainAxisAlignment: MainAxisAlignment.spaceBetween,"},{"type":"DELETE","lineNumber":335,"oldContent":"                  Expanded("},{"type":"DELETE","lineNumber":336,"oldContent":"                    child: _buildSpecialStayCard(properties[0]),"},{"type":"DELETE","lineNumber":337,"oldContent":"                  ),"},{"type":"INSERT","lineNumber":336,"content":"                  _buildSpecialStayCard(properties[0]),"},{"type":"DELETE","lineNumber":341,"oldContent":"                  Expanded("},{"type":"DELETE","lineNumber":342,"oldContent":"                    child: _buildSpecialStayCard(properties[1]),"},{"type":"DELETE","lineNumber":343,"oldContent":"                  ),"},{"type":"INSERT","lineNumber":340,"content":"                  _buildSpecialStayCard(properties[1]),"},{"type":"INSERT","lineNumber":430,"content":"                  style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":434,"oldContent":"                    color: Colors.white,"},{"type":"INSERT","lineNumber":463,"content":"          ),"},{"type":"DELETE","lineNumber":467,"oldContent":"          // Gradient overlay for text readability"},{"type":"INSERT","lineNumber":528,"content":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"DELETE","lineNumber":532,"oldContent":"              itemBuilder: (context, index) {"},{"type":"INSERT","lineNumber":576,"content":"                                size: 30.sp,"},{"type":"DELETE","lineNumber":580,"oldContent":"                              ),"},{"type":"INSERT","lineNumber":605,"content":"                      ),"},{"type":"DELETE","lineNumber":609,"oldContent":"                      child: Icon("},{"type":"DELETE","lineNumber":623,"oldContent":"                    padding: EdgeInsets.symmetric(horizontal: 6.w, vertical: 3.h),"},{"type":"DELETE","lineNumber":625,"oldContent":"                    decoration: BoxDecoration("},{"type":"DELETE","lineNumber":627,"oldContent":"                      color: Colors.orange,"},{"type":"DELETE","lineNumber":629,"oldContent":"                      borderRadius: BorderRadius.circular(4.r),"},{"type":"DELETE","lineNumber":631,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":633,"oldContent":"                    child: Row("},{"type":"DELETE","lineNumber":635,"oldContent":"                      mainAxisSize: MainAxisSize.min,"},{"type":"INSERT","lineNumber":627,"content":"                    padding: EdgeInsets.symmetric(horizontal: 6.w, vertical: 3.h),"},{"type":"INSERT","lineNumber":628,"content":"                    decoration: BoxDecoration("},{"type":"INSERT","lineNumber":629,"content":"                      color: Colors.orange,"},{"type":"INSERT","lineNumber":630,"content":"                      borderRadius: BorderRadius.circular(4.r),"},{"type":"INSERT","lineNumber":631,"content":"                    ),"},{"type":"INSERT","lineNumber":632,"content":"                    child: Row("},{"type":"INSERT","lineNumber":633,"content":"                      mainAxisSize: MainAxisSize.min,"},{"type":"MODIFY","lineNumber":660,"content":"                  // Property type row (using static data since not available from backend)","oldContent":"                  // Property type row (using static data since not available from backend)"},{"type":"INSERT","lineNumber":661,"content":"                  Row("},{"type":"INSERT","lineNumber":662,"content":"                    children: ["},{"type":"DELETE","lineNumber":666,"oldContent":"                  Row("},{"type":"DELETE","lineNumber":668,"oldContent":"                    children: ["},{"type":"DELETE","lineNumber":672,"oldContent":"                      SizedBox(width: 2.w),"},{"type":"INSERT","lineNumber":674,"content":"                      SizedBox(width: 2.w),"},{"type":"DELETE","lineNumber":681,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":683,"oldContent":"                      ),"},{"type":"INSERT","lineNumber":680,"content":"                        ),"},{"type":"INSERT","lineNumber":681,"content":"                      ),"},{"type":"INSERT","lineNumber":694,"content":"              ),"},{"type":"DELETE","lineNumber":699,"oldContent":"              ),"},{"type":"DELETE","lineNumber":785,"oldContent":"                          gradient: LinearGradient("},{"type":"DELETE","lineNumber":787,"oldContent":"                            colors: ["},{"type":"INSERT","lineNumber":784,"content":"                          gradient: LinearGradient("},{"type":"INSERT","lineNumber":785,"content":"                            colors: ["},{"type":"DELETE","lineNumber":929,"oldContent":"            children: ["},{"type":"DELETE","lineNumber":931,"oldContent":"              Container("},{"type":"INSERT","lineNumber":928,"content":"            children: ["},{"type":"INSERT","lineNumber":929,"content":"              Container("},{"type":"INSERT","lineNumber":991,"content":"                      bottom: 12.h,"},{"type":"DELETE","lineNumber":996,"oldContent":"                      bottom: 12.h,"},{"type":"INSERT","lineNumber":1009,"content":"                            ),"},{"type":"DELETE","lineNumber":1014,"oldContent":"                            ),"},{"type":"INSERT","lineNumber":1017,"content":"              // Bottom row with two cards"},{"type":"DELETE","lineNumber":1022,"oldContent":"              // Bottom row with two cards"},{"type":"DELETE","lineNumber":1030,"oldContent":"                        children: ["},{"type":"DELETE","lineNumber":1032,"oldContent":"                          ClipRRect("},{"type":"INSERT","lineNumber":1029,"content":"                        children: ["},{"type":"INSERT","lineNumber":1030,"content":"                          ClipRRect("},{"type":"INSERT","lineNumber":1051,"content":"                                  'Special Offer',"},{"type":"DELETE","lineNumber":1056,"oldContent":"                                  'Special Offer',"},{"type":"DELETE","lineNumber":1070,"oldContent":"      ),"},{"type":"DELETE","lineNumber":1071,"oldContent":"          ),"},{"type":"DELETE","lineNumber":1072,"oldContent":"              ),"},{"type":"DELETE","lineNumber":1073,"oldContent":"                ),"},{"type":"DELETE","lineNumber":1074,"oldContent":"                      : Colors.grey[300],"},{"type":"DELETE","lineNumber":1075,"oldContent":"                  color: _currentPage == index "},{"type":"DELETE","lineNumber":1076,"oldContent":"                decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1077,"oldContent":"                height: 6.h,"},{"type":"INSERT","lineNumber":1067,"content":"                          ),"},{"type":"INSERT","lineNumber":1068,"content":"                        ],"},{"type":"INSERT","lineNumber":1069,"content":"                      ),"},{"type":"INSERT","lineNumber":1070,"content":"                    ),"},{"type":"INSERT","lineNumber":1071,"content":"                  ),"},{"type":"INSERT","lineNumber":1072,"content":"                  SizedBox(width: 8.w),"},{"type":"INSERT","lineNumber":1073,"content":"                  Expanded("},{"type":"INSERT","lineNumber":1074,"content":"                    child: Container("},{"type":"DELETE","lineNumber":1111,"oldContent":"                              children: ["},{"type":"INSERT","lineNumber":1109,"content":"                              children: ["},{"type":"DELETE","lineNumber":1115,"oldContent":"                                    fontSize: 10.sp,"},{"type":"DELETE","lineNumber":1117,"oldContent":"                                    fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":1114,"content":"                                    fontSize: 10.sp,"},{"type":"INSERT","lineNumber":1115,"content":"                                    fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":1150,"oldContent":""},{"type":"DELETE","lineNumber":1151,"oldContent":"  }"},{"type":"DELETE","lineNumber":1152,"oldContent":"      ),"},{"type":"INSERT","lineNumber":1147,"content":"                                ),"},{"type":"INSERT","lineNumber":1148,"content":"                              ),"},{"type":"INSERT","lineNumber":1149,"content":"                            ),"},{"type":"INSERT","lineNumber":1175,"content":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"DELETE","lineNumber":1180,"oldContent":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"DELETE","lineNumber":1198,"oldContent":""},{"type":"DELETE","lineNumber":1200,"oldContent":"  @override"},{"type":"INSERT","lineNumber":1197,"content":""},{"type":"INSERT","lineNumber":1198,"content":"  @override"},{"type":"DELETE","lineNumber":1252,"oldContent":"                      Positioned("},{"type":"INSERT","lineNumber":1250,"content":"                      Positioned("},{"type":"DELETE","lineNumber":1256,"oldContent":"                          decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1258,"oldContent":"                            color: AppColors.primary,"},{"type":"INSERT","lineNumber":1255,"content":"                          decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1256,"content":"                            color: AppColors.primary,"},{"type":"DELETE","lineNumber":1272,"oldContent":""},{"type":"DELETE","lineNumber":1273,"oldContent":"}"},{"type":"DELETE","lineNumber":1274,"oldContent":"    );"},{"type":"DELETE","lineNumber":1275,"oldContent":"      ),"},{"type":"DELETE","lineNumber":1276,"oldContent":"        ],"},{"type":"DELETE","lineNumber":1277,"oldContent":"          ),"},{"type":"INSERT","lineNumber":1269,"content":"                      Positioned("},{"type":"INSERT","lineNumber":1270,"content":"                        left: 16.w,"},{"type":"INSERT","lineNumber":1271,"content":"                        bottom: 16.h,"},{"type":"INSERT","lineNumber":1272,"content":"                        child: Column("},{"type":"INSERT","lineNumber":1273,"content":"                          crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":1274,"content":"                          children: ["},{"type":"DELETE","lineNumber":1286,"oldContent":"                              'Discover amazing deals',"},{"type":"DELETE","lineNumber":1288,"oldContent":"                              style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":1285,"content":"                              'Discover amazing deals',"},{"type":"INSERT","lineNumber":1286,"content":"                              style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":1289,"content":"                              ),"},{"type":"DELETE","lineNumber":1294,"oldContent":"                              ),"},{"type":"INSERT","lineNumber":1303,"content":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"DELETE","lineNumber":1308,"oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"INSERT","lineNumber":1319,"content":"          ),"},{"type":"DELETE","lineNumber":1324,"oldContent":"          ),"}]},{"timestamp":1758301283298,"changes":[{"type":"MODIFY","lineNumber":6,"content":"import '../bloc/home_state.dart';","oldContent":"import '../../../search/domain/repositories/search_repository.dart';"},{"type":"MODIFY","lineNumber":15,"content":"class HomeScreen extends StatelessWidget {","oldContent":""},{"type":"INSERT","lineNumber":19,"content":"  Widget build(BuildContext context) {"},{"type":"DELETE","lineNumber":21,"oldContent":"  Widget build(BuildContext context) {"},{"type":"MODIFY","lineNumber":40,"content":"              ","oldContent":"              _buildSpecialOffers(),"},{"type":"MODIFY","lineNumber":47,"content":"                      SizedBox(height: 16.h),","oldContent":"          ),"},{"type":"INSERT","lineNumber":73,"content":"                  child: SingleChildScrollView("},{"type":"INSERT","lineNumber":74,"content":"                    physics: const AlwaysScrollableScrollPhysics(),"},{"type":"INSERT","lineNumber":75,"content":"                    child: Column("},{"type":"INSERT","lineNumber":76,"content":"                      children: ["},{"type":"INSERT","lineNumber":77,"content":"                        // Header with profile and search"},{"type":"INSERT","lineNumber":78,"content":"                        _buildHeader(),"},{"type":"INSERT","lineNumber":79,"content":"                        "},{"type":"INSERT","lineNumber":80,"content":"                        // Special Advertisement Banner"},{"type":"INSERT","lineNumber":81,"content":"                        _buildSpecialAdvertisementBanner(state.homeData.specialAdvertisements),"},{"type":"INSERT","lineNumber":82,"content":"                        "},{"type":"INSERT","lineNumber":83,"content":"                        // Special Stays Section"},{"type":"INSERT","lineNumber":84,"content":"                        _buildSpecialStaysSection(state.homeData.siteProperties),"},{"type":"INSERT","lineNumber":85,"content":"                        "},{"type":"INSERT","lineNumber":86,"content":"                        // Highly Rated Properties"},{"type":"INSERT","lineNumber":87,"content":"                        _buildHighlyRatedProperties(state.homeData.highlyRatedProperties),"},{"type":"INSERT","lineNumber":88,"content":"                        "},{"type":"INSERT","lineNumber":89,"content":"                        // Discover Section"},{"type":"INSERT","lineNumber":90,"content":"                        _buildDiscoverSection(state.homeData.governorates),"},{"type":"INSERT","lineNumber":91,"content":"                        "},{"type":"INSERT","lineNumber":92,"content":"                        // Hotels of the Week"},{"type":"INSERT","lineNumber":93,"content":"                        _buildHotelsOfTheWeek(),"},{"type":"INSERT","lineNumber":94,"content":"                        "},{"type":"INSERT","lineNumber":95,"content":"                        // Only For You Section"},{"type":"INSERT","lineNumber":96,"content":"                        _buildOnlyForYouSection(state.homeData.onlyForYouSection),"},{"type":"INSERT","lineNumber":97,"content":"                      ],"},{"type":"INSERT","lineNumber":98,"content":"                    ),"},{"type":"INSERT","lineNumber":99,"content":"                  ),"},{"type":"INSERT","lineNumber":100,"content":"                );"},{"type":"INSERT","lineNumber":101,"content":"              }"},{"type":"INSERT","lineNumber":102,"content":"              "},{"type":"INSERT","lineNumber":103,"content":"              return const SizedBox.shrink();"},{"type":"INSERT","lineNumber":104,"content":"            },"},{"type":"DELETE","lineNumber":74,"oldContent":"        ) ??"},{"type":"DELETE","lineNumber":75,"oldContent":"        false;"},{"type":"INSERT","lineNumber":106,"content":"        ),"},{"type":"INSERT","lineNumber":107,"content":"      ),"},{"type":"INSERT","lineNumber":108,"content":"    );"},{"type":"DELETE","lineNumber":78,"oldContent":"  Widget _buildHeader() {"},{"type":"DELETE","lineNumber":79,"oldContent":"    return Builder("},{"type":"DELETE","lineNumber":80,"oldContent":"      builder: (context) {"},{"type":"DELETE","lineNumber":81,"oldContent":"        return Container("},{"type":"DELETE","lineNumber":82,"oldContent":"          padding: EdgeInsets.fromLTRB(16.w, 50.h, 16.w, 16.h),"},{"type":"DELETE","lineNumber":83,"oldContent":"          child: Row("},{"type":"DELETE","lineNumber":84,"oldContent":"            children: ["},{"type":"DELETE","lineNumber":85,"oldContent":"              Expanded("},{"type":"DELETE","lineNumber":86,"oldContent":"                child: GestureDetector("},{"type":"DELETE","lineNumber":87,"oldContent":"                  onTap: () {"},{"type":"DELETE","lineNumber":88,"oldContent":"                    Navigator.of(context).push("},{"type":"DELETE","lineNumber":89,"oldContent":"                      MaterialPageRoute("},{"type":"DELETE","lineNumber":90,"oldContent":"                        builder: (buildContext) => BlocProvider("},{"type":"DELETE","lineNumber":91,"oldContent":"                          create: (context) => SearchBloc("},{"type":"DELETE","lineNumber":92,"oldContent":"                            searchRepository: getIt<SearchRepository>(),"},{"type":"DELETE","lineNumber":93,"oldContent":"                            sharedPreferences: getIt(),"},{"type":"DELETE","lineNumber":94,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":95,"oldContent":"                          child: const SearchScreen(),"},{"type":"DELETE","lineNumber":96,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":97,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":98,"oldContent":"                    );"},{"type":"DELETE","lineNumber":99,"oldContent":"                  },"},{"type":"DELETE","lineNumber":100,"oldContent":"              child: Container("},{"type":"DELETE","lineNumber":101,"oldContent":"                padding: EdgeInsets.symmetric(horizontal: 16.w, vertical: 12.h),"},{"type":"DELETE","lineNumber":102,"oldContent":"                decoration: BoxDecoration("},{"type":"DELETE","lineNumber":103,"oldContent":"                  color: Colors.grey[100],"},{"type":"DELETE","lineNumber":104,"oldContent":"                  borderRadius: BorderRadius.circular(25.r),"},{"type":"DELETE","lineNumber":105,"oldContent":"          ),"},{"type":"DELETE","lineNumber":106,"oldContent":"                child: Row("},{"type":"DELETE","lineNumber":107,"oldContent":"                  children: ["},{"type":"DELETE","lineNumber":108,"oldContent":"                    Icon(Icons.search, color: Colors.grey[600], size: 20.sp),"},{"type":"DELETE","lineNumber":109,"oldContent":"  }"},{"type":"DELETE","lineNumber":110,"oldContent":""},{"type":"MODIFY","lineNumber":142,"content":"            children: [","oldContent":"        borderRadius: BorderRadius.circular(16.r),"},{"type":"DELETE","lineNumber":181,"oldContent":"                      color: Colors.white,"},{"type":"DELETE","lineNumber":183,"oldContent":"                      fontSize: 10.sp,"},{"type":"INSERT","lineNumber":185,"content":"                    ),"},{"type":"INSERT","lineNumber":193,"content":"                  ),"},{"type":"INSERT","lineNumber":208,"content":"                    ),"},{"type":"INSERT","lineNumber":213,"content":"                  decoration: BoxDecoration("},{"type":"DELETE","lineNumber":213,"oldContent":"  }"},{"type":"DELETE","lineNumber":217,"oldContent":"    return Container("},{"type":"INSERT","lineNumber":227,"content":"                    children: ["},{"type":"INSERT","lineNumber":235,"content":"                        ),"},{"type":"DELETE","lineNumber":239,"oldContent":"                    style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":246,"oldContent":"                const Spacer(),"},{"type":"MODIFY","lineNumber":340,"content":"                  _buildSpecialStayCard(properties[1]),","oldContent":"                  _buildSpecialStayCard(properties[1]),"},{"type":"DELETE","lineNumber":427,"oldContent":"                  style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":430,"content":"                  style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":460,"oldContent":"          ),"},{"type":"INSERT","lineNumber":463,"content":"          ),"},{"type":"DELETE","lineNumber":525,"oldContent":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":528,"content":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"DELETE","lineNumber":573,"oldContent":"                                size: 30.sp,"},{"type":"INSERT","lineNumber":576,"content":"                                size: 30.sp,"},{"type":"DELETE","lineNumber":602,"oldContent":"                      ),"},{"type":"INSERT","lineNumber":605,"content":"                      ),"},{"type":"INSERT","lineNumber":622,"content":"              child: Column("},{"type":"INSERT","lineNumber":623,"content":"                crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":624,"content":"                children: ["},{"type":"INSERT","lineNumber":625,"content":"                  // Rating badge at the top"},{"type":"INSERT","lineNumber":626,"content":"                  Container("},{"type":"DELETE","lineNumber":624,"oldContent":"              child: Column("},{"type":"DELETE","lineNumber":627,"oldContent":"                crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":630,"oldContent":"                children: ["},{"type":"DELETE","lineNumber":632,"oldContent":"                  // Rating badge at the top"},{"type":"DELETE","lineNumber":633,"oldContent":"                  Container("},{"type":"DELETE","lineNumber":657,"oldContent":"                  // Property type row (using static data since not available from backend)"},{"type":"DELETE","lineNumber":658,"oldContent":"                  Row("},{"type":"MODIFY","lineNumber":660,"content":"                  // Property type row (using static data since not available from backend)","oldContent":"                    children: ["},{"type":"INSERT","lineNumber":661,"content":"                  Row("},{"type":"INSERT","lineNumber":662,"content":"                    children: ["},{"type":"DELETE","lineNumber":670,"oldContent":"                      SizedBox(width: 2.w),"},{"type":"INSERT","lineNumber":674,"content":"                      SizedBox(width: 2.w),"},{"type":"DELETE","lineNumber":677,"oldContent":"                        ),"},{"type":"MODIFY","lineNumber":680,"content":"                        ),","oldContent":"                      ),"},{"type":"INSERT","lineNumber":681,"content":"                      ),"},{"type":"DELETE","lineNumber":691,"oldContent":"              ),"},{"type":"INSERT","lineNumber":694,"content":"              ),"},{"type":"DELETE","lineNumber":781,"oldContent":"                          gradient: LinearGradient("},{"type":"DELETE","lineNumber":783,"oldContent":"                            colors: ["},{"type":"INSERT","lineNumber":784,"content":"                          gradient: LinearGradient("},{"type":"INSERT","lineNumber":785,"content":"                            colors: ["},{"type":"DELETE","lineNumber":925,"oldContent":"            children: ["},{"type":"DELETE","lineNumber":927,"oldContent":"              Container("},{"type":"INSERT","lineNumber":928,"content":"            children: ["},{"type":"INSERT","lineNumber":929,"content":"              Container("},{"type":"DELETE","lineNumber":988,"oldContent":"                      bottom: 12.h,"},{"type":"INSERT","lineNumber":991,"content":"                      bottom: 12.h,"},{"type":"DELETE","lineNumber":1006,"oldContent":"                            ),"},{"type":"INSERT","lineNumber":1009,"content":"                            ),"},{"type":"DELETE","lineNumber":1014,"oldContent":"              // Bottom row with two cards"},{"type":"INSERT","lineNumber":1017,"content":"              // Bottom row with two cards"},{"type":"DELETE","lineNumber":1026,"oldContent":"                        children: ["},{"type":"DELETE","lineNumber":1028,"oldContent":"                          ClipRRect("},{"type":"INSERT","lineNumber":1029,"content":"                        children: ["},{"type":"INSERT","lineNumber":1030,"content":"                          ClipRRect("},{"type":"DELETE","lineNumber":1048,"oldContent":"                                  'Special Offer',"},{"type":"INSERT","lineNumber":1051,"content":"                                  'Special Offer',"},{"type":"DELETE","lineNumber":1064,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":1066,"oldContent":"                        ],"},{"type":"MODIFY","lineNumber":1067,"content":"                          ),","oldContent":"                      ),"},{"type":"INSERT","lineNumber":1068,"content":"                        ],"},{"type":"INSERT","lineNumber":1069,"content":"                      ),"},{"type":"DELETE","lineNumber":1106,"oldContent":"                              children: ["},{"type":"INSERT","lineNumber":1109,"content":"                              children: ["},{"type":"DELETE","lineNumber":1111,"oldContent":"                                    fontSize: 10.sp,"},{"type":"MODIFY","lineNumber":1114,"content":"                                    fontSize: 10.sp,","oldContent":"                                    fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":1115,"content":"                                    fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":1139,"oldContent":""},{"type":"DELETE","lineNumber":1140,"oldContent":"  }"},{"type":"DELETE","lineNumber":1141,"oldContent":"      ),"},{"type":"DELETE","lineNumber":1142,"oldContent":"          ),"},{"type":"DELETE","lineNumber":1143,"oldContent":"              ),"},{"type":"INSERT","lineNumber":1139,"content":"                                borderRadius: BorderRadius.circular(8.r),"},{"type":"INSERT","lineNumber":1140,"content":"                              ),"},{"type":"INSERT","lineNumber":1141,"content":"                              child: Text("},{"type":"INSERT","lineNumber":1142,"content":"                                'VIP',"},{"type":"INSERT","lineNumber":1143,"content":"                                style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":1144,"content":"                                  color: Colors.white,"},{"type":"INSERT","lineNumber":1145,"content":"                                  fontSize: 8.sp,"},{"type":"INSERT","lineNumber":1146,"content":"                                  fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":1145,"oldContent":"                  borderRadius: BorderRadius.circular(3.r),"},{"type":"DELETE","lineNumber":1147,"oldContent":"                      ? AppColors.primary "},{"type":"DELETE","lineNumber":1149,"oldContent":"                decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1172,"oldContent":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"INSERT","lineNumber":1175,"content":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"DELETE","lineNumber":1194,"oldContent":""},{"type":"DELETE","lineNumber":1196,"oldContent":"  @override"},{"type":"INSERT","lineNumber":1197,"content":""},{"type":"INSERT","lineNumber":1198,"content":"  @override"},{"type":"DELETE","lineNumber":1247,"oldContent":"                      Positioned("},{"type":"INSERT","lineNumber":1250,"content":"                      Positioned("},{"type":"DELETE","lineNumber":1252,"oldContent":"                          decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1254,"oldContent":"                            color: AppColors.primary,"},{"type":"INSERT","lineNumber":1255,"content":"                          decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1256,"content":"                            color: AppColors.primary,"},{"type":"DELETE","lineNumber":1266,"oldContent":"                      Positioned("},{"type":"DELETE","lineNumber":1268,"oldContent":"                        left: 16.w,"},{"type":"DELETE","lineNumber":1270,"oldContent":"                        bottom: 16.h,"},{"type":"INSERT","lineNumber":1269,"content":"                      Positioned("},{"type":"INSERT","lineNumber":1270,"content":"                        left: 16.w,"},{"type":"INSERT","lineNumber":1271,"content":"                        bottom: 16.h,"},{"type":"DELETE","lineNumber":1282,"oldContent":"                              'Discover amazing deals',"},{"type":"DELETE","lineNumber":1284,"oldContent":"                              style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":1286,"oldContent":"                              ),"},{"type":"INSERT","lineNumber":1285,"content":"                              'Discover amazing deals',"},{"type":"INSERT","lineNumber":1286,"content":"                              style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":1289,"content":"                              ),"},{"type":"DELETE","lineNumber":1300,"oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"INSERT","lineNumber":1303,"content":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"DELETE","lineNumber":1316,"oldContent":"          ),"},{"type":"INSERT","lineNumber":1319,"content":"          ),"}]},{"timestamp":1758301508393,"changes":[{"type":"MODIFY","lineNumber":13,"content":"import '../../../../theming/text_styles.dart';","oldContent":"  const HomeScreen({super.key});"},{"type":"DELETE","lineNumber":59,"oldContent":"            actions: ["},{"type":"DELETE","lineNumber":60,"oldContent":"              TextButton("},{"type":"DELETE","lineNumber":61,"oldContent":"                onPressed: () => Navigator.of(context).pop(false),"},{"type":"DELETE","lineNumber":62,"oldContent":"                child: const Text('Cancel'),"},{"type":"DELETE","lineNumber":63,"oldContent":"              ),"},{"type":"INSERT","lineNumber":59,"content":"                      ElevatedButton("},{"type":"INSERT","lineNumber":60,"content":"                        onPressed: () => context.read<HomeBloc>().add(const LoadHomeDataEvent()),"},{"type":"INSERT","lineNumber":61,"content":"                        child: const Text('Retry'),"},{"type":"INSERT","lineNumber":62,"content":"                      ),"},{"type":"INSERT","lineNumber":63,"content":"                    ],"},{"type":"DELETE","lineNumber":74,"oldContent":"          ),"},{"type":"DELETE","lineNumber":78,"oldContent":"  }"},{"type":"DELETE","lineNumber":80,"oldContent":""},{"type":"INSERT","lineNumber":105,"content":"          ),"},{"type":"INSERT","lineNumber":109,"content":"  }"},{"type":"INSERT","lineNumber":110,"content":""},{"type":"MODIFY","lineNumber":128,"content":"                child: const Text('Exit'),","oldContent":"                child: Icon(Icons.person, color: Colors.grey[600], size: 20.sp),"},{"type":"MODIFY","lineNumber":133,"content":"        false;","oldContent":"          ),"},{"type":"DELETE","lineNumber":137,"oldContent":""},{"type":"MODIFY","lineNumber":137,"content":"    return Builder(","oldContent":"    return Container("},{"type":"INSERT","lineNumber":138,"content":"      builder: (context) {"},{"type":"MODIFY","lineNumber":140,"content":"          padding: EdgeInsets.fromLTRB(16.w, 50.h, 16.w, 16.h),","oldContent":"      height: 140.h,"},{"type":"MODIFY","lineNumber":162,"content":"                    ),","oldContent":"                height: 80.h,"},{"type":"MODIFY","lineNumber":178,"content":"                  ),","oldContent":"                  child: Text("},{"type":"DELETE","lineNumber":183,"oldContent":"                    ),"},{"type":"INSERT","lineNumber":185,"content":"                    ),"},{"type":"MODIFY","lineNumber":193,"content":"                  ),","oldContent":"                  ),"},{"type":"MODIFY","lineNumber":195,"content":"              ),","oldContent":"                ),"},{"type":"MODIFY","lineNumber":214,"content":"                    color: Colors.white,","oldContent":"                    color: Colors.white,"},{"type":"MODIFY","lineNumber":236,"content":"                      ),","oldContent":"                      ),"},{"type":"INSERT","lineNumber":339,"content":"                  // Second property card"},{"type":"DELETE","lineNumber":340,"oldContent":"                  _buildSpecialStayCard(properties[1]),"},{"type":"INSERT","lineNumber":355,"content":"        color: Colors.white,"},{"type":"DELETE","lineNumber":356,"oldContent":"        boxShadow: ["},{"type":"DELETE","lineNumber":357,"oldContent":"          BoxShadow("},{"type":"DELETE","lineNumber":358,"oldContent":"            color: Colors.grey.withValues(alpha: 0.15),"},{"type":"DELETE","lineNumber":359,"oldContent":"            spreadRadius: 1,"},{"type":"DELETE","lineNumber":360,"oldContent":"            blurRadius: 8,"},{"type":"DELETE","lineNumber":361,"oldContent":"            offset: const Offset(0, 3),"},{"type":"DELETE","lineNumber":362,"oldContent":"          ),"},{"type":"DELETE","lineNumber":363,"oldContent":"        ],"},{"type":"DELETE","lineNumber":429,"oldContent":"                  style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":423,"content":"                  style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":462,"oldContent":"          ),"},{"type":"INSERT","lineNumber":456,"content":"          ),"},{"type":"DELETE","lineNumber":526,"oldContent":"                childAspectRatio: 0.8,"},{"type":"DELETE","lineNumber":527,"oldContent":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":519,"content":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"INSERT","lineNumber":521,"content":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"DELETE","lineNumber":575,"oldContent":"                                size: 30.sp,"},{"type":"INSERT","lineNumber":569,"content":"                                size: 30.sp,"},{"type":"DELETE","lineNumber":604,"oldContent":"                      ),"},{"type":"INSERT","lineNumber":598,"content":"                      ),"},{"type":"DELETE","lineNumber":623,"oldContent":"                    padding: EdgeInsets.symmetric(horizontal: 6.w, vertical: 3.h),"},{"type":"DELETE","lineNumber":625,"oldContent":"                    decoration: BoxDecoration("},{"type":"DELETE","lineNumber":628,"oldContent":"                      color: Colors.orange,"},{"type":"INSERT","lineNumber":620,"content":"                    padding: EdgeInsets.symmetric(horizontal: 6.w, vertical: 3.h),"},{"type":"INSERT","lineNumber":621,"content":"                    decoration: BoxDecoration("},{"type":"INSERT","lineNumber":622,"content":"                      color: Colors.orange,"},{"type":"INSERT","lineNumber":651,"content":"                  ),"},{"type":"INSERT","lineNumber":652,"content":"                  SizedBox(height: 4.h),"},{"type":"DELETE","lineNumber":660,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":662,"oldContent":"                  SizedBox(height: 4.h),"},{"type":"DELETE","lineNumber":673,"oldContent":"                      SizedBox(width: 2.w),"},{"type":"INSERT","lineNumber":667,"content":"                      SizedBox(width: 2.w),"},{"type":"DELETE","lineNumber":678,"oldContent":"                      ),"},{"type":"INSERT","lineNumber":671,"content":"                          color: Colors.grey[600],"},{"type":"INSERT","lineNumber":672,"content":"                          fontSize: 10.sp,"},{"type":"DELETE","lineNumber":681,"oldContent":"                          fontSize: 10.sp,"},{"type":"DELETE","lineNumber":693,"oldContent":"              ),"},{"type":"INSERT","lineNumber":687,"content":"              ),"},{"type":"DELETE","lineNumber":782,"oldContent":"                          gradient: LinearGradient("},{"type":"DELETE","lineNumber":784,"oldContent":"                            colors: ["},{"type":"INSERT","lineNumber":777,"content":"                          gradient: LinearGradient("},{"type":"INSERT","lineNumber":778,"content":"                            colors: ["},{"type":"DELETE","lineNumber":926,"oldContent":"            children: ["},{"type":"DELETE","lineNumber":928,"oldContent":"              Container("},{"type":"INSERT","lineNumber":921,"content":"            children: ["},{"type":"INSERT","lineNumber":922,"content":"              Container("},{"type":"DELETE","lineNumber":990,"oldContent":"                      bottom: 12.h,"},{"type":"INSERT","lineNumber":984,"content":"                      bottom: 12.h,"},{"type":"DELETE","lineNumber":1008,"oldContent":"                            ),"},{"type":"INSERT","lineNumber":1002,"content":"                            ),"},{"type":"DELETE","lineNumber":1016,"oldContent":"              // Bottom row with two cards"},{"type":"INSERT","lineNumber":1010,"content":"              // Bottom row with two cards"},{"type":"DELETE","lineNumber":1027,"oldContent":"                        children: ["},{"type":"DELETE","lineNumber":1029,"oldContent":"                          ClipRRect("},{"type":"INSERT","lineNumber":1022,"content":"                        children: ["},{"type":"INSERT","lineNumber":1023,"content":"                          ClipRRect("},{"type":"DELETE","lineNumber":1034,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":1035,"oldContent":"                    ],"},{"type":"DELETE","lineNumber":1036,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":1037,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":1038,"oldContent":"                                color: Colors.white.withValues(alpha: 0.9),"},{"type":"INSERT","lineNumber":1027,"content":"                              width: double.infinity,"},{"type":"INSERT","lineNumber":1028,"content":"                              height: double.infinity,"},{"type":"INSERT","lineNumber":1029,"content":"                              fit: BoxFit.cover,"},{"type":"INSERT","lineNumber":1030,"content":"                              errorBuilder: (context, error, stackTrace) {"},{"type":"INSERT","lineNumber":1031,"content":"                                return Container("},{"type":"DELETE","lineNumber":1040,"oldContent":"                              style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":1033,"content":"                                );"},{"type":"DELETE","lineNumber":1050,"oldContent":"                                  'Special Offer',"},{"type":"INSERT","lineNumber":1044,"content":"                                  'Special Offer',"},{"type":"INSERT","lineNumber":1058,"content":"                              ],"},{"type":"INSERT","lineNumber":1059,"content":"                            ),"},{"type":"DELETE","lineNumber":1068,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":1069,"oldContent":"                            ),"},{"type":"DELETE","lineNumber":1108,"oldContent":"                              children: ["},{"type":"INSERT","lineNumber":1102,"content":"                              children: ["},{"type":"DELETE","lineNumber":1112,"oldContent":"                                    fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":1105,"content":"                                  style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":1106,"content":"                                    color: Colors.white,"},{"type":"DELETE","lineNumber":1115,"oldContent":"                                    color: Colors.white,"},{"type":"DELETE","lineNumber":1123,"oldContent":"                                  decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1124,"oldContent":"                              errorBuilder: (context, error, stackTrace) {"},{"type":"DELETE","lineNumber":1125,"oldContent":"                              height: double.infinity,"},{"type":"DELETE","lineNumber":1126,"oldContent":"                              width: double.infinity,"},{"type":"DELETE","lineNumber":1127,"oldContent":"                            child: Image.network("},{"type":"DELETE","lineNumber":1128,"oldContent":"                          ClipRRect("},{"type":"INSERT","lineNumber":1116,"content":"                                    color: Colors.white.withValues(alpha: 0.8),"},{"type":"INSERT","lineNumber":1117,"content":"                                    fontSize: 9.sp,"},{"type":"INSERT","lineNumber":1118,"content":"                                  ),"},{"type":"INSERT","lineNumber":1119,"content":"                                  maxLines: 1,"},{"type":"INSERT","lineNumber":1120,"content":"                                  overflow: TextOverflow.ellipsis,"},{"type":"INSERT","lineNumber":1121,"content":"                                ),"},{"type":"DELETE","lineNumber":1133,"oldContent":"                      decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1134,"oldContent":"                      margin: EdgeInsets.only(left: 4.w),"},{"type":"DELETE","lineNumber":1135,"oldContent":"                              ],"},{"type":"DELETE","lineNumber":1136,"oldContent":"                                ),"},{"type":"DELETE","lineNumber":1137,"oldContent":"                                  'Special Offer',"},{"type":"DELETE","lineNumber":1138,"oldContent":"                              },"},{"type":"INSERT","lineNumber":1126,"content":"                            bottom: 8.h,"},{"type":"INSERT","lineNumber":1127,"content":"                            right: 8.w,"},{"type":"INSERT","lineNumber":1128,"content":"                            child: Container("},{"type":"INSERT","lineNumber":1129,"content":"                              padding: EdgeInsets.symmetric(horizontal: 6.w, vertical: 2.h),"},{"type":"INSERT","lineNumber":1130,"content":"                              decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1131,"content":"                                color: Colors.orange[600],"},{"type":"DELETE","lineNumber":1145,"oldContent":"                                ),"},{"type":"INSERT","lineNumber":1140,"content":"                                ),"},{"type":"DELETE","lineNumber":1174,"oldContent":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"INSERT","lineNumber":1168,"content":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"DELETE","lineNumber":1195,"oldContent":""},{"type":"DELETE","lineNumber":1197,"oldContent":"  @override"},{"type":"INSERT","lineNumber":1190,"content":""},{"type":"INSERT","lineNumber":1191,"content":"  @override"},{"type":"DELETE","lineNumber":1208,"oldContent":"    );"},{"type":"DELETE","lineNumber":1209,"oldContent":"        ],"},{"type":"DELETE","lineNumber":1210,"oldContent":"            ),"},{"type":"DELETE","lineNumber":1211,"oldContent":"                ),"},{"type":"DELETE","lineNumber":1212,"oldContent":"                      : Colors.grey[300],"},{"type":"DELETE","lineNumber":1213,"oldContent":"                  color: _currentPage == index "},{"type":"DELETE","lineNumber":1214,"oldContent":"                width: _currentPage == index ? 24.w : 6.w,"},{"type":"DELETE","lineNumber":1215,"oldContent":"                margin: EdgeInsets.symmetric(horizontal: 3.w),"},{"type":"DELETE","lineNumber":1216,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":1217,"oldContent":"                              ad.propertyTitle.isNotEmpty ? ad.propertyTitle : 'Featured Property',"},{"type":"DELETE","lineNumber":1218,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":1219,"oldContent":"                        left: 16.w,"},{"type":"DELETE","lineNumber":1220,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":1221,"oldContent":"                            end: Alignment.topCenter,"},{"type":"DELETE","lineNumber":1222,"oldContent":"                            begin: Alignment.bottomCenter,"},{"type":"DELETE","lineNumber":1223,"oldContent":"                            ],"},{"type":"DELETE","lineNumber":1224,"oldContent":"                              Colors.black.withValues(alpha: 0.4),"},{"type":"INSERT","lineNumber":1201,"content":"              onPageChanged: (index) {"},{"type":"INSERT","lineNumber":1202,"content":"                setState(() {"},{"type":"INSERT","lineNumber":1203,"content":"                  _currentPage = index;"},{"type":"INSERT","lineNumber":1204,"content":"                });"},{"type":"INSERT","lineNumber":1205,"content":"              },"},{"type":"INSERT","lineNumber":1206,"content":"              itemCount: widget.ads.length,"},{"type":"INSERT","lineNumber":1207,"content":"              itemBuilder: (context, index) {"},{"type":"INSERT","lineNumber":1208,"content":"                final ad = widget.ads[index];"},{"type":"INSERT","lineNumber":1209,"content":"                return Container("},{"type":"INSERT","lineNumber":1210,"content":"                  margin: EdgeInsets.symmetric(horizontal: 4.w),"},{"type":"INSERT","lineNumber":1211,"content":"                  decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1212,"content":"                    borderRadius: BorderRadius.circular(16.r),"},{"type":"INSERT","lineNumber":1213,"content":"                    image: ad.imageUrl.isNotEmpty"},{"type":"INSERT","lineNumber":1214,"content":"                        ? DecorationImage("},{"type":"INSERT","lineNumber":1215,"content":"                            image: NetworkImage(ad.imageUrl),"},{"type":"INSERT","lineNumber":1216,"content":"                            fit: BoxFit.cover,"},{"type":"INSERT","lineNumber":1217,"content":"                          )"},{"type":"DELETE","lineNumber":1226,"oldContent":"                          gradient: LinearGradient("},{"type":"DELETE","lineNumber":1227,"oldContent":"                          borderRadius: BorderRadius.circular(16.r),"},{"type":"DELETE","lineNumber":1228,"oldContent":"                        decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1229,"oldContent":"                      Container("},{"type":"DELETE","lineNumber":1230,"oldContent":"                    children: ["},{"type":"DELETE","lineNumber":1231,"oldContent":"                  child: Stack("},{"type":"INSERT","lineNumber":1219,"content":"                    gradient: ad.imageUrl.isEmpty"},{"type":"INSERT","lineNumber":1220,"content":"                        ? LinearGradient("},{"type":"INSERT","lineNumber":1221,"content":"                            colors: [Colors.orange[400]!, Colors.orange[600]!],"},{"type":"INSERT","lineNumber":1222,"content":"                            begin: Alignment.topLeft,"},{"type":"INSERT","lineNumber":1223,"content":"                            end: Alignment.bottomRight,"},{"type":"INSERT","lineNumber":1224,"content":"                          )"},{"type":"INSERT","lineNumber":1225,"content":"                        : null,"},{"type":"DELETE","lineNumber":1233,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":1249,"oldContent":"                      Positioned("},{"type":"INSERT","lineNumber":1243,"content":"                      Positioned("},{"type":"DELETE","lineNumber":1253,"oldContent":"                          decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1255,"oldContent":"                            color: AppColors.primary,"},{"type":"INSERT","lineNumber":1248,"content":"                          decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1249,"content":"                            color: AppColors.primary,"},{"type":"DELETE","lineNumber":1267,"oldContent":"                      Positioned("},{"type":"INSERT","lineNumber":1261,"content":"                      ),"},{"type":"INSERT","lineNumber":1262,"content":"                      Positioned("},{"type":"DELETE","lineNumber":1271,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":1283,"oldContent":"                              'Discover amazing deals',"},{"type":"DELETE","lineNumber":1285,"oldContent":"                              style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":1278,"content":"                              'Discover amazing deals',"},{"type":"INSERT","lineNumber":1279,"content":"                              style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":1288,"oldContent":"                              ),"},{"type":"INSERT","lineNumber":1282,"content":"                              ),"},{"type":"DELETE","lineNumber":1292,"oldContent":"      ),"},{"type":"INSERT","lineNumber":1285,"content":"                        ),"},{"type":"DELETE","lineNumber":1302,"oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"INSERT","lineNumber":1296,"content":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"DELETE","lineNumber":1314,"oldContent":"}"},{"type":"DELETE","lineNumber":1315,"oldContent":"  }"},{"type":"DELETE","lineNumber":1316,"oldContent":"    );"},{"type":"INSERT","lineNumber":1307,"content":"                      : Colors.grey[300],"},{"type":"INSERT","lineNumber":1308,"content":"                  borderRadius: BorderRadius.circular(3.r),"},{"type":"INSERT","lineNumber":1309,"content":"                ),"},{"type":"DELETE","lineNumber":1318,"oldContent":"          ),"},{"type":"INSERT","lineNumber":1313,"content":"        ],"},{"type":"INSERT","lineNumber":1314,"content":"      ),"},{"type":"INSERT","lineNumber":1315,"content":"    );"},{"type":"INSERT","lineNumber":1316,"content":"  }"},{"type":"INSERT","lineNumber":1317,"content":"}"},{"type":"INSERT","lineNumber":1318,"content":""}]},{"timestamp":1758301552522,"changes":[{"type":"MODIFY","lineNumber":7,"content":"import '../../domain/entities/home_entities.dart';","oldContent":"import '../../../../core/di/injection.dart';"},{"type":"MODIFY","lineNumber":12,"content":"import '../../../../theming/colors.dart';","oldContent":"class HomeScreen extends StatelessWidget {"},{"type":"MODIFY","lineNumber":39,"content":"              }","oldContent":"              _buildSpecialOffers(),"},{"type":"DELETE","lineNumber":69,"oldContent":"                },"},{"type":"DELETE","lineNumber":70,"oldContent":"                child: const Text('Exit'),"},{"type":"DELETE","lineNumber":71,"oldContent":"              ),"},{"type":"DELETE","lineNumber":72,"oldContent":"            ],"},{"type":"INSERT","lineNumber":69,"content":"                return RefreshIndicator("},{"type":"INSERT","lineNumber":70,"content":"                  onRefresh: () async {"},{"type":"INSERT","lineNumber":71,"content":"                    context.read<HomeBloc>().add(const RefreshHomeDataEvent());"},{"type":"INSERT","lineNumber":72,"content":"                  },"},{"type":"DELETE","lineNumber":102,"oldContent":"          ),"},{"type":"INSERT","lineNumber":105,"content":"          ),"},{"type":"DELETE","lineNumber":107,"oldContent":"  }"},{"type":"DELETE","lineNumber":109,"oldContent":""},{"type":"DELETE","lineNumber":111,"oldContent":"                      'Destination',"},{"type":"DELETE","lineNumber":112,"oldContent":"                      style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":113,"oldContent":"                        color: Colors.grey[600],"},{"type":"DELETE","lineNumber":114,"oldContent":"                        fontSize: 14.sp,"},{"type":"DELETE","lineNumber":115,"oldContent":"                      ),"},{"type":"INSERT","lineNumber":109,"content":"  }"},{"type":"INSERT","lineNumber":110,"content":""},{"type":"INSERT","lineNumber":111,"content":"  Future<bool> _showExitDialog(BuildContext context) async {"},{"type":"INSERT","lineNumber":112,"content":"    return await showDialog<bool>("},{"type":"INSERT","lineNumber":113,"content":"          context: context,"},{"type":"INSERT","lineNumber":114,"content":"          builder: (context) => AlertDialog("},{"type":"INSERT","lineNumber":115,"content":"            title: const Text('Exit App'),"},{"type":"MODIFY","lineNumber":131,"content":"          ),","oldContent":"        );"},{"type":"MODIFY","lineNumber":138,"content":"      builder: (context) {","oldContent":"    return Container("},{"type":"MODIFY","lineNumber":185,"content":"                    ),","oldContent":"                    ),"},{"type":"INSERT","lineNumber":192,"content":"                    ),"},{"type":"DELETE","lineNumber":193,"oldContent":"                  ),"},{"type":"INSERT","lineNumber":213,"content":"                  decoration: BoxDecoration("},{"type":"DELETE","lineNumber":214,"oldContent":"                    color: Colors.white,"},{"type":"INSERT","lineNumber":235,"content":"                        ),"},{"type":"DELETE","lineNumber":236,"oldContent":"                      ),"},{"type":"INSERT","lineNumber":249,"content":"                      ),"},{"type":"INSERT","lineNumber":250,"content":"                    ],"},{"type":"DELETE","lineNumber":250,"oldContent":"                  child: Text("},{"type":"DELETE","lineNumber":251,"oldContent":"                    style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":252,"oldContent":"                      fontSize: 10.sp,"},{"type":"DELETE","lineNumber":253,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":254,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":255,"oldContent":"                const Spacer(),"},{"type":"DELETE","lineNumber":256,"oldContent":"              ],"},{"type":"INSERT","lineNumber":252,"content":"                ),"},{"type":"INSERT","lineNumber":253,"content":"              ),"},{"type":"INSERT","lineNumber":254,"content":"            ],"},{"type":"INSERT","lineNumber":255,"content":"          ),"},{"type":"INSERT","lineNumber":256,"content":"        );"},{"type":"DELETE","lineNumber":416,"oldContent":"                  style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":423,"content":"                  style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":449,"oldContent":"          ),"},{"type":"INSERT","lineNumber":456,"content":"          ),"},{"type":"MODIFY","lineNumber":500,"content":"                    fontSize: 16.sp,","oldContent":"                      spreadRadius: 1,"},{"type":"DELETE","lineNumber":502,"oldContent":"                      offset: const Offset(0, 2),"},{"type":"DELETE","lineNumber":503,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":504,"oldContent":"                  ],"},{"type":"DELETE","lineNumber":506,"oldContent":"                child: Column("},{"type":"DELETE","lineNumber":507,"oldContent":"                  crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":508,"oldContent":"                  children: ["},{"type":"INSERT","lineNumber":503,"content":"                const Spacer(),"},{"type":"INSERT","lineNumber":504,"content":"                Icon(Icons.arrow_forward_ios, color: Colors.grey[600], size: 16.sp),"},{"type":"INSERT","lineNumber":505,"content":"              ],"},{"type":"INSERT","lineNumber":506,"content":"            ),"},{"type":"INSERT","lineNumber":507,"content":"          ),"},{"type":"INSERT","lineNumber":508,"content":"          SizedBox(height: 16.h),"},{"type":"DELETE","lineNumber":512,"oldContent":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"DELETE","lineNumber":515,"oldContent":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":519,"content":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"INSERT","lineNumber":521,"content":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":535,"content":"      width: 155.w,"},{"type":"INSERT","lineNumber":536,"content":"      height: 251.h,"},{"type":"DELETE","lineNumber":550,"oldContent":"          // Image section"},{"type":"DELETE","lineNumber":551,"oldContent":"          Expanded("},{"type":"MODIFY","lineNumber":552,"content":"          // Image section with fixed dimensions","oldContent":"            flex: 3,"},{"type":"INSERT","lineNumber":553,"content":"          Container("},{"type":"INSERT","lineNumber":554,"content":"            width: 155.w,"},{"type":"INSERT","lineNumber":555,"content":"            height: 148.h,"},{"type":"DELETE","lineNumber":560,"oldContent":"                          width: double.infinity,"},{"type":"DELETE","lineNumber":561,"oldContent":"                          height: double.infinity,"},{"type":"MODIFY","lineNumber":563,"content":"                          width: 155.w,","oldContent":"                                size: 30.sp,"},{"type":"INSERT","lineNumber":564,"content":"                          height: 148.h,"},{"type":"INSERT","lineNumber":568,"content":"                              width: 155.w,"},{"type":"INSERT","lineNumber":569,"content":"                              height: 148.h,"},{"type":"INSERT","lineNumber":574,"content":"                                size: 30.sp,"},{"type":"INSERT","lineNumber":580,"content":"                          width: 155.w,"},{"type":"INSERT","lineNumber":581,"content":"                          height: 148.h,"},{"type":"DELETE","lineNumber":576,"oldContent":"                          width: double.infinity,"},{"type":"DELETE","lineNumber":577,"oldContent":"                          height: double.infinity,"},{"type":"DELETE","lineNumber":591,"oldContent":"                      ),"},{"type":"INSERT","lineNumber":603,"content":"                      ),"},{"type":"DELETE","lineNumber":610,"oldContent":"          // Property details section - moved below image"},{"type":"INSERT","lineNumber":615,"content":"          // Property details section - remaining height (251 - 148 = 103)"},{"type":"DELETE","lineNumber":612,"oldContent":"            flex: 2,"},{"type":"DELETE","lineNumber":613,"oldContent":"                    padding: EdgeInsets.symmetric(horizontal: 6.w, vertical: 3.h),"},{"type":"DELETE","lineNumber":615,"oldContent":"                    decoration: BoxDecoration("},{"type":"DELETE","lineNumber":617,"oldContent":"                      color: Colors.orange,"},{"type":"INSERT","lineNumber":624,"content":"                    padding: EdgeInsets.symmetric(horizontal: 6.w, vertical: 3.h),"},{"type":"INSERT","lineNumber":625,"content":"                    decoration: BoxDecoration("},{"type":"INSERT","lineNumber":626,"content":"                      color: Colors.orange,"},{"type":"DELETE","lineNumber":641,"oldContent":"                  SizedBox(height: 6.h),"},{"type":"INSERT","lineNumber":645,"content":"                  SizedBox(height: 4.h),"},{"type":"DELETE","lineNumber":644,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":646,"oldContent":"                  SizedBox(height: 4.h),"},{"type":"INSERT","lineNumber":655,"content":"                  ),"},{"type":"INSERT","lineNumber":656,"content":"                  SizedBox(height: 2.h),"},{"type":"DELETE","lineNumber":660,"oldContent":"                      SizedBox(width: 2.w),"},{"type":"DELETE","lineNumber":665,"oldContent":"                          color: Colors.grey[600],"},{"type":"DELETE","lineNumber":667,"oldContent":"                          fontSize: 10.sp,"},{"type":"MODIFY","lineNumber":669,"content":"                      SizedBox(width: 8.w),","oldContent":"                      SizedBox(width: 12.w),"},{"type":"INSERT","lineNumber":671,"content":"                      SizedBox(width: 2.w),"},{"type":"INSERT","lineNumber":675,"content":"                          color: Colors.grey[600],"},{"type":"INSERT","lineNumber":676,"content":"                          fontSize: 10.sp,"},{"type":"DELETE","lineNumber":680,"oldContent":"              ),"},{"type":"INSERT","lineNumber":691,"content":"              ),"},{"type":"DELETE","lineNumber":770,"oldContent":"                          gradient: LinearGradient("},{"type":"DELETE","lineNumber":772,"oldContent":"                            colors: ["},{"type":"INSERT","lineNumber":781,"content":"                          gradient: LinearGradient("},{"type":"INSERT","lineNumber":782,"content":"                            colors: ["},{"type":"DELETE","lineNumber":884,"oldContent":"                                color: Colors.white.withValues(alpha: 0.9),"},{"type":"INSERT","lineNumber":888,"content":"          ),"},{"type":"DELETE","lineNumber":914,"oldContent":"            children: ["},{"type":"DELETE","lineNumber":916,"oldContent":"              Container("},{"type":"INSERT","lineNumber":925,"content":"            children: ["},{"type":"INSERT","lineNumber":926,"content":"              Container("},{"type":"DELETE","lineNumber":977,"oldContent":"                      bottom: 12.h,"},{"type":"INSERT","lineNumber":988,"content":"                      bottom: 12.h,"},{"type":"DELETE","lineNumber":996,"oldContent":"                            ),"},{"type":"DELETE","lineNumber":1003,"oldContent":"              // Bottom row with two cards"},{"type":"INSERT","lineNumber":1006,"content":"                            ),"},{"type":"INSERT","lineNumber":1014,"content":"              // Bottom row with two cards"},{"type":"DELETE","lineNumber":1015,"oldContent":"                        children: ["},{"type":"DELETE","lineNumber":1017,"oldContent":"                          ClipRRect("},{"type":"DELETE","lineNumber":1022,"oldContent":"                              width: double.infinity,"},{"type":"DELETE","lineNumber":1023,"oldContent":"                              height: double.infinity,"},{"type":"DELETE","lineNumber":1025,"oldContent":"                              fit: BoxFit.cover,"},{"type":"DELETE","lineNumber":1026,"oldContent":"                              errorBuilder: (context, error, stackTrace) {"},{"type":"DELETE","lineNumber":1028,"oldContent":"                                return Container("},{"type":"INSERT","lineNumber":1026,"content":"                        children: ["},{"type":"INSERT","lineNumber":1027,"content":"                          ClipRRect("},{"type":"MODIFY","lineNumber":1031,"content":"                              width: double.infinity,","oldContent":"                                );"},{"type":"INSERT","lineNumber":1032,"content":"                              height: double.infinity,"},{"type":"INSERT","lineNumber":1033,"content":"                              fit: BoxFit.cover,"},{"type":"INSERT","lineNumber":1034,"content":"                              errorBuilder: (context, error, stackTrace) {"},{"type":"INSERT","lineNumber":1035,"content":"                                return Container("},{"type":"INSERT","lineNumber":1037,"content":"                                );"},{"type":"DELETE","lineNumber":1037,"oldContent":"                                  'Special Offer',"},{"type":"INSERT","lineNumber":1048,"content":"                                  'Special Offer',"},{"type":"DELETE","lineNumber":1051,"oldContent":"                              ],"},{"type":"DELETE","lineNumber":1053,"oldContent":"                            ),"},{"type":"INSERT","lineNumber":1062,"content":"                              ],"},{"type":"INSERT","lineNumber":1063,"content":"                            ),"},{"type":"DELETE","lineNumber":1095,"oldContent":"                              children: ["},{"type":"DELETE","lineNumber":1099,"oldContent":"                                  style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":1101,"oldContent":"                                    color: Colors.white,"},{"type":"INSERT","lineNumber":1106,"content":"                              children: ["},{"type":"INSERT","lineNumber":1109,"content":"                                  style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":1110,"content":"                                    color: Colors.white,"},{"type":"DELETE","lineNumber":1109,"oldContent":"                                    color: Colors.white.withValues(alpha: 0.8),"},{"type":"DELETE","lineNumber":1111,"oldContent":"                                    fontSize: 9.sp,"},{"type":"DELETE","lineNumber":1113,"oldContent":"                                  ),"},{"type":"DELETE","lineNumber":1115,"oldContent":"                                  maxLines: 1,"},{"type":"DELETE","lineNumber":1117,"oldContent":"                                  overflow: TextOverflow.ellipsis,"},{"type":"DELETE","lineNumber":1119,"oldContent":"                                ),"},{"type":"INSERT","lineNumber":1120,"content":"                                    color: Colors.white.withValues(alpha: 0.8),"},{"type":"INSERT","lineNumber":1121,"content":"                                    fontSize: 9.sp,"},{"type":"INSERT","lineNumber":1122,"content":"                                  ),"},{"type":"INSERT","lineNumber":1123,"content":"                                  maxLines: 1,"},{"type":"INSERT","lineNumber":1124,"content":"                                  overflow: TextOverflow.ellipsis,"},{"type":"INSERT","lineNumber":1125,"content":"                                ),"},{"type":"INSERT","lineNumber":1126,"content":"                              ],"},{"type":"INSERT","lineNumber":1127,"content":"                            ),"},{"type":"INSERT","lineNumber":1128,"content":"                          ),"},{"type":"INSERT","lineNumber":1129,"content":"                          Positioned("},{"type":"DELETE","lineNumber":1126,"oldContent":"                              ],"},{"type":"DELETE","lineNumber":1128,"oldContent":"                            ),"},{"type":"DELETE","lineNumber":1130,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":1131,"oldContent":"                          Positioned("},{"type":"DELETE","lineNumber":1133,"oldContent":"                                ),"},{"type":"INSERT","lineNumber":1144,"content":"                                ),"},{"type":"DELETE","lineNumber":1161,"oldContent":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"INSERT","lineNumber":1172,"content":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"DELETE","lineNumber":1183,"oldContent":""},{"type":"DELETE","lineNumber":1185,"oldContent":"  @override"},{"type":"INSERT","lineNumber":1194,"content":""},{"type":"INSERT","lineNumber":1195,"content":"  @override"},{"type":"DELETE","lineNumber":1194,"oldContent":"              onPageChanged: (index) {"},{"type":"DELETE","lineNumber":1196,"oldContent":"                setState(() {"},{"type":"DELETE","lineNumber":1198,"oldContent":"                  _currentPage = index;"},{"type":"DELETE","lineNumber":1200,"oldContent":"                });"},{"type":"DELETE","lineNumber":1202,"oldContent":"              },"},{"type":"DELETE","lineNumber":1204,"oldContent":"              itemCount: widget.ads.length,"},{"type":"MODIFY","lineNumber":1205,"content":"              onPageChanged: (index) {","oldContent":"              itemBuilder: (context, index) {"},{"type":"INSERT","lineNumber":1206,"content":"                setState(() {"},{"type":"INSERT","lineNumber":1207,"content":"                  _currentPage = index;"},{"type":"INSERT","lineNumber":1208,"content":"                });"},{"type":"INSERT","lineNumber":1209,"content":"              },"},{"type":"INSERT","lineNumber":1210,"content":"              itemCount: widget.ads.length,"},{"type":"INSERT","lineNumber":1211,"content":"              itemBuilder: (context, index) {"},{"type":"INSERT","lineNumber":1222,"content":"                        : null,"},{"type":"DELETE","lineNumber":1225,"oldContent":"                        : null,"},{"type":"DELETE","lineNumber":1226,"oldContent":"                height: 6.h,"},{"type":"INSERT","lineNumber":1230,"content":"                  ),"},{"type":"DELETE","lineNumber":1236,"oldContent":"                      Positioned("},{"type":"DELETE","lineNumber":1242,"oldContent":"                          decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1244,"oldContent":"                            color: AppColors.primary,"},{"type":"INSERT","lineNumber":1247,"content":"                      Positioned("},{"type":"INSERT","lineNumber":1252,"content":"                          decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1253,"content":"                            color: AppColors.primary,"},{"type":"DELETE","lineNumber":1254,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":1256,"oldContent":"                      Positioned("},{"type":"INSERT","lineNumber":1265,"content":"                      ),"},{"type":"INSERT","lineNumber":1266,"content":"                      Positioned("},{"type":"DELETE","lineNumber":1271,"oldContent":"                              'Discover amazing deals',"},{"type":"DELETE","lineNumber":1273,"oldContent":"                              style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":1277,"oldContent":"                              ),"},{"type":"DELETE","lineNumber":1280,"oldContent":"                        ),"},{"type":"INSERT","lineNumber":1282,"content":"                              'Discover amazing deals',"},{"type":"INSERT","lineNumber":1283,"content":"                              style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":1286,"content":"                              ),"},{"type":"INSERT","lineNumber":1289,"content":"                        ),"},{"type":"DELETE","lineNumber":1289,"oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"INSERT","lineNumber":1300,"content":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"DELETE","lineNumber":1300,"oldContent":"                      : Colors.grey[300],"},{"type":"DELETE","lineNumber":1302,"oldContent":"                  borderRadius: BorderRadius.circular(3.r),"},{"type":"DELETE","lineNumber":1304,"oldContent":"                ),"},{"type":"INSERT","lineNumber":1310,"content":"                      ? AppColors.primary "},{"type":"INSERT","lineNumber":1311,"content":"                      : Colors.grey[300],"},{"type":"INSERT","lineNumber":1312,"content":"                  borderRadius: BorderRadius.circular(3.r),"},{"type":"INSERT","lineNumber":1313,"content":"                ),"},{"type":"INSERT","lineNumber":1314,"content":"              ),"},{"type":"INSERT","lineNumber":1315,"content":"            ),"},{"type":"INSERT","lineNumber":1316,"content":"          ),"},{"type":"DELETE","lineNumber":1310,"oldContent":"    );"},{"type":"DELETE","lineNumber":1315,"oldContent":"              ),"},{"type":"DELETE","lineNumber":1317,"oldContent":"          ),"}]},{"timestamp":1758301689843,"changes":[{"type":"DELETE","lineNumber":65,"oldContent":"                  Navigator.of(context).pop(true);"},{"type":"DELETE","lineNumber":66,"oldContent":"                  // Exit the app"},{"type":"INSERT","lineNumber":65,"content":"                );"},{"type":"INSERT","lineNumber":66,"content":"              }"},{"type":"MODIFY","lineNumber":105,"content":"          ),","oldContent":"          ),"},{"type":"INSERT","lineNumber":108,"content":"    );"},{"type":"DELETE","lineNumber":110,"oldContent":"    );"},{"type":"DELETE","lineNumber":125,"oldContent":"                radius: 20.r,"},{"type":"DELETE","lineNumber":126,"oldContent":"                backgroundColor: Colors.grey[300],"},{"type":"DELETE","lineNumber":127,"oldContent":"                child: Icon(Icons.person, color: Colors.grey[600], size: 20.sp),"},{"type":"INSERT","lineNumber":125,"content":"                  // Exit the app"},{"type":"INSERT","lineNumber":126,"content":"                  SystemNavigator.pop();"},{"type":"INSERT","lineNumber":127,"content":"                },"},{"type":"INSERT","lineNumber":130,"content":"            ],"},{"type":"DELETE","lineNumber":131,"oldContent":"          ),"},{"type":"MODIFY","lineNumber":132,"content":"        ) ??","oldContent":"      },"},{"type":"MODIFY","lineNumber":136,"content":"  Widget _buildHeader() {","oldContent":"  Widget _buildHeroBanner() {"},{"type":"INSERT","lineNumber":184,"content":"                      border: Border.all(color: AppColors.primary, width: 2.w),"},{"type":"DELETE","lineNumber":185,"oldContent":"                    ),"},{"type":"MODIFY","lineNumber":225,"content":"                  ),","oldContent":"              children: ["},{"type":"MODIFY","lineNumber":247,"content":"                          size: 16.sp,","oldContent":"                  ),"},{"type":"DELETE","lineNumber":250,"oldContent":"                  child: Text("},{"type":"INSERT","lineNumber":251,"content":"                  ),"},{"type":"MODIFY","lineNumber":423,"content":"                  style: AppTextStyles.bodyMedium.copyWith(","oldContent":"                  style: AppTextStyles.bodyMedium.copyWith("},{"type":"MODIFY","lineNumber":456,"content":"          ),","oldContent":"          ),"},{"type":"DELETE","lineNumber":486,"oldContent":""},{"type":"DELETE","lineNumber":487,"oldContent":"  Widget _buildDiscoverSection() {"},{"type":"DELETE","lineNumber":488,"oldContent":"      margin: EdgeInsets.all(16.w),"},{"type":"INSERT","lineNumber":486,"content":"      margin: EdgeInsets.symmetric(vertical: 16.h),"},{"type":"INSERT","lineNumber":488,"content":"        crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":491,"oldContent":"            children: ["},{"type":"DELETE","lineNumber":492,"oldContent":"              Icon(Icons.explore, color: Colors.orange, size: 20.sp),"},{"type":"DELETE","lineNumber":493,"oldContent":"              Text("},{"type":"DELETE","lineNumber":494,"oldContent":"                'Discover Your Ideal Stay',"},{"type":"DELETE","lineNumber":495,"oldContent":"                  color: AppColors.textPrimary,"},{"type":"DELETE","lineNumber":496,"oldContent":"                  fontSize: 16.sp,"},{"type":"DELETE","lineNumber":497,"oldContent":"              ),"},{"type":"DELETE","lineNumber":498,"oldContent":"          ),"},{"type":"DELETE","lineNumber":499,"oldContent":"          SizedBox(height: 16.h),"},{"type":"INSERT","lineNumber":490,"content":"          Padding("},{"type":"INSERT","lineNumber":491,"content":"            padding: EdgeInsets.symmetric(horizontal: 16.w),"},{"type":"INSERT","lineNumber":492,"content":"            child: Row("},{"type":"INSERT","lineNumber":493,"content":"              children: ["},{"type":"INSERT","lineNumber":494,"content":"                Icon(Icons.star, color: Colors.orange, size: 20.sp),"},{"type":"INSERT","lineNumber":495,"content":"                SizedBox(width: 8.w),"},{"type":"INSERT","lineNumber":496,"content":"                Text("},{"type":"INSERT","lineNumber":497,"content":"                  'Highly Rated Properties',"},{"type":"INSERT","lineNumber":498,"content":"                  style: AppTextStyles.h4.copyWith("},{"type":"INSERT","lineNumber":499,"content":"                    color: AppColors.textPrimary,"},{"type":"INSERT","lineNumber":502,"content":"                ),"},{"type":"DELETE","lineNumber":506,"oldContent":"            ),"},{"type":"DELETE","lineNumber":517,"oldContent":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"DELETE","lineNumber":520,"oldContent":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":519,"content":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"INSERT","lineNumber":521,"content":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"MODIFY","lineNumber":537,"content":"      decoration: BoxDecoration(","oldContent":"      decoration: BoxDecoration("},{"type":"DELETE","lineNumber":554,"oldContent":"            child: Stack("},{"type":"MODIFY","lineNumber":556,"content":"            child: Stack(","oldContent":"              children: ["},{"type":"INSERT","lineNumber":557,"content":"              children: ["},{"type":"DELETE","lineNumber":563,"oldContent":"                                size: 30.sp,"},{"type":"INSERT","lineNumber":565,"content":"                          fit: BoxFit.cover,"},{"type":"INSERT","lineNumber":568,"content":"                              width: 155.w,"},{"type":"INSERT","lineNumber":569,"content":"                              height: 148.h,"},{"type":"DELETE","lineNumber":570,"oldContent":"                              width: 155.w,"},{"type":"DELETE","lineNumber":572,"oldContent":"                              height: 148.h,"},{"type":"INSERT","lineNumber":574,"content":"                                size: 30.sp,"},{"type":"DELETE","lineNumber":578,"oldContent":"                                size: 30.sp,"},{"type":"INSERT","lineNumber":580,"content":"                          width: 155.w,"},{"type":"INSERT","lineNumber":581,"content":"                          height: 148.h,"},{"type":"DELETE","lineNumber":583,"oldContent":"                          width: 155.w,"},{"type":"DELETE","lineNumber":585,"oldContent":"                          height: 148.h,"},{"type":"DELETE","lineNumber":592,"oldContent":"                  top: 8.h,"},{"type":"DELETE","lineNumber":593,"oldContent":"                  right: 8.w,"},{"type":"INSERT","lineNumber":592,"content":"                  "},{"type":"INSERT","lineNumber":602,"content":"                      ),"},{"type":"DELETE","lineNumber":608,"oldContent":"                                    fontWeight: FontWeight.w600,"},{"type":"INSERT","lineNumber":614,"content":"          // Property details section - remaining height (251 - 148 = 103)"},{"type":"DELETE","lineNumber":617,"oldContent":"          // Property details section - remaining height (251 - 148 = 103)"},{"type":"DELETE","lineNumber":624,"oldContent":"                      borderRadius: BorderRadius.circular(4.r),"},{"type":"DELETE","lineNumber":626,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":628,"oldContent":"                    child: Row("},{"type":"INSERT","lineNumber":626,"content":"                      borderRadius: BorderRadius.circular(4.r),"},{"type":"INSERT","lineNumber":627,"content":"                    ),"},{"type":"INSERT","lineNumber":628,"content":"                    child: Row("},{"type":"INSERT","lineNumber":644,"content":"                  SizedBox(height: 4.h),"},{"type":"DELETE","lineNumber":647,"oldContent":"                  SizedBox(height: 4.h),"},{"type":"INSERT","lineNumber":654,"content":"                  ),"},{"type":"INSERT","lineNumber":655,"content":"                  SizedBox(height: 2.h),"},{"type":"DELETE","lineNumber":657,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":659,"oldContent":"                  SizedBox(height: 2.h),"},{"type":"DELETE","lineNumber":669,"oldContent":"                      SizedBox(width: 12.w),"},{"type":"DELETE","lineNumber":671,"oldContent":"                      Text("},{"type":"INSERT","lineNumber":669,"content":"                      Icon(Icons.straighten, color: Colors.grey[500], size: 12.sp),"},{"type":"INSERT","lineNumber":671,"content":"                      Text("},{"type":"INSERT","lineNumber":674,"content":"                          color: Colors.grey[600],"},{"type":"INSERT","lineNumber":675,"content":"                          fontSize: 10.sp,"},{"type":"DELETE","lineNumber":677,"oldContent":"                          color: Colors.grey[600],"},{"type":"DELETE","lineNumber":679,"oldContent":"                          fontSize: 10.sp,"},{"type":"INSERT","lineNumber":690,"content":"              ),"},{"type":"DELETE","lineNumber":694,"oldContent":"              ),"},{"type":"DELETE","lineNumber":713,"oldContent":"                      Positioned("},{"type":"DELETE","lineNumber":714,"oldContent":"                        : null,"},{"type":"DELETE","lineNumber":715,"oldContent":"                            end: Alignment.bottomRight,"},{"type":"DELETE","lineNumber":716,"oldContent":"                            begin: Alignment.topLeft,"},{"type":"DELETE","lineNumber":717,"oldContent":"                        ? LinearGradient("},{"type":"DELETE","lineNumber":718,"oldContent":"                    gradient: ad.imageUrl.isEmpty"},{"type":"DELETE","lineNumber":719,"oldContent":"                            fit: BoxFit.cover,"},{"type":"DELETE","lineNumber":720,"oldContent":"                            image: NetworkImage(ad.imageUrl),"},{"type":"DELETE","lineNumber":721,"oldContent":"                    image: ad.imageUrl.isNotEmpty"},{"type":"DELETE","lineNumber":722,"oldContent":"                    borderRadius: BorderRadius.circular(16.r),"},{"type":"DELETE","lineNumber":723,"oldContent":"                  margin: EdgeInsets.symmetric(horizontal: 4.w),"},{"type":"DELETE","lineNumber":724,"oldContent":"                return Container("},{"type":"INSERT","lineNumber":712,"content":"                style: AppTextStyles.h4.copyWith("},{"type":"INSERT","lineNumber":713,"content":"                  color: AppColors.textPrimary,"},{"type":"INSERT","lineNumber":714,"content":"                  fontSize: 16.sp,"},{"type":"INSERT","lineNumber":715,"content":"                ),"},{"type":"INSERT","lineNumber":716,"content":"              ),"},{"type":"INSERT","lineNumber":717,"content":"              const Spacer(),"},{"type":"INSERT","lineNumber":718,"content":"              Icon(Icons.arrow_forward_ios, color: Colors.grey[600], size: 16.sp),"},{"type":"INSERT","lineNumber":719,"content":"            ],"},{"type":"INSERT","lineNumber":720,"content":"          ),"},{"type":"INSERT","lineNumber":721,"content":"          SizedBox(height: 16.h),"},{"type":"INSERT","lineNumber":722,"content":"          SizedBox("},{"type":"INSERT","lineNumber":723,"content":"            height: 120.h,"},{"type":"INSERT","lineNumber":724,"content":"            child: ListView.builder("},{"type":"INSERT","lineNumber":725,"content":"              scrollDirection: Axis.horizontal,"},{"type":"INSERT","lineNumber":726,"content":"              itemCount: governorates.length,"},{"type":"DELETE","lineNumber":726,"oldContent":"              itemCount: widget.ads.length,"},{"type":"DELETE","lineNumber":727,"oldContent":"}"},{"type":"INSERT","lineNumber":728,"content":"                final governorate = governorates[index];"},{"type":"INSERT","lineNumber":729,"content":"                return Container("},{"type":"INSERT","lineNumber":730,"content":"                  width: 120.w,"},{"type":"INSERT","lineNumber":731,"content":"                  margin: EdgeInsets.only(right: 12.w),"},{"type":"INSERT","lineNumber":732,"content":"                  decoration: BoxDecoration("},{"type":"INSERT","lineNumber":733,"content":"                    borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":734,"content":"                    boxShadow: ["},{"type":"INSERT","lineNumber":735,"content":"                      BoxShadow("},{"type":"INSERT","lineNumber":736,"content":"                        color: Colors.grey.withValues(alpha: 0.1),"},{"type":"INSERT","lineNumber":737,"content":"                        spreadRadius: 1,"},{"type":"INSERT","lineNumber":738,"content":"                        blurRadius: 8,"},{"type":"INSERT","lineNumber":739,"content":"                        offset: const Offset(0, 2),"},{"type":"DELETE","lineNumber":729,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":730,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":731,"oldContent":"                            ),"},{"type":"DELETE","lineNumber":732,"oldContent":"                            ),"},{"type":"DELETE","lineNumber":733,"oldContent":"                              },"},{"type":"DELETE","lineNumber":734,"oldContent":"                                );"},{"type":"DELETE","lineNumber":735,"oldContent":"                                  ),"},{"type":"DELETE","lineNumber":736,"oldContent":"                                    child: Icon(Icons.star, color: Colors.white, size: 40),"},{"type":"DELETE","lineNumber":737,"oldContent":"                                  child: const Center("},{"type":"DELETE","lineNumber":738,"oldContent":"                                  ),"},{"type":"DELETE","lineNumber":739,"oldContent":"                                    color: Colors.orange[300],"},{"type":"DELETE","lineNumber":740,"oldContent":"                                    borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":741,"oldContent":"                                return Container("},{"type":"DELETE","lineNumber":742,"oldContent":"                              fit: BoxFit.cover,"},{"type":"DELETE","lineNumber":743,"oldContent":"                              width: double.infinity,"},{"type":"INSERT","lineNumber":741,"content":"                    ],"},{"type":"INSERT","lineNumber":742,"content":"                  ),"},{"type":"INSERT","lineNumber":780,"content":"                          gradient: LinearGradient("},{"type":"INSERT","lineNumber":781,"content":"                            colors: ["},{"type":"DELETE","lineNumber":783,"oldContent":"                          gradient: LinearGradient("},{"type":"DELETE","lineNumber":785,"oldContent":"                            colors: ["},{"type":"INSERT","lineNumber":811,"content":"      ),"},{"type":"INSERT","lineNumber":812,"content":"    );"},{"type":"INSERT","lineNumber":813,"content":"  }"},{"type":"INSERT","lineNumber":814,"content":""},{"type":"INSERT","lineNumber":815,"content":"  Widget _buildHotelsOfTheWeek() {"},{"type":"INSERT","lineNumber":816,"content":"    return Container("},{"type":"INSERT","lineNumber":817,"content":"      margin: EdgeInsets.symmetric(horizontal: 16.w, vertical: 16.h),"},{"type":"INSERT","lineNumber":818,"content":"      child: Column("},{"type":"INSERT","lineNumber":819,"content":"        crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":820,"content":"        children: ["},{"type":"INSERT","lineNumber":821,"content":"          Row("},{"type":"DELETE","lineNumber":813,"oldContent":"              Icon(Icons.arrow_forward_ios, color: Colors.grey[600], size: 16.sp),"},{"type":"DELETE","lineNumber":814,"oldContent":"              const Spacer(),"},{"type":"DELETE","lineNumber":815,"oldContent":"              ),"},{"type":"DELETE","lineNumber":816,"oldContent":"                  fontSize: 16.sp,"},{"type":"DELETE","lineNumber":817,"oldContent":"                  color: AppColors.textPrimary,"},{"type":"DELETE","lineNumber":818,"oldContent":"                style: AppTextStyles.h4.copyWith("},{"type":"DELETE","lineNumber":819,"oldContent":"                'Only For You',"},{"type":"DELETE","lineNumber":820,"oldContent":"              Text("},{"type":"DELETE","lineNumber":821,"oldContent":"                ),"},{"type":"DELETE","lineNumber":822,"oldContent":"                'Featured Host 2',"},{"type":"DELETE","lineNumber":823,"oldContent":"              Text("},{"type":"DELETE","lineNumber":837,"oldContent":"                  child: Stack("},{"type":"INSERT","lineNumber":836,"content":"                  fontSize: 16.sp,"},{"type":"DELETE","lineNumber":840,"oldContent":""},{"type":"DELETE","lineNumber":841,"oldContent":"  }"},{"type":"DELETE","lineNumber":842,"oldContent":"    );"},{"type":"DELETE","lineNumber":843,"oldContent":""},{"type":"INSERT","lineNumber":839,"content":"              const Spacer(),"},{"type":"INSERT","lineNumber":840,"content":"              Icon(Icons.arrow_forward_ios, color: Colors.grey[600], size: 16.sp),"},{"type":"INSERT","lineNumber":841,"content":"            ],"},{"type":"INSERT","lineNumber":842,"content":"          ),"},{"type":"MODIFY","lineNumber":856,"content":"              ),","oldContent":"          ),"},{"type":"INSERT","lineNumber":887,"content":"          ),"},{"type":"DELETE","lineNumber":891,"oldContent":"          ),"},{"type":"INSERT","lineNumber":924,"content":"            children: ["},{"type":"INSERT","lineNumber":925,"content":"              Container("},{"type":"DELETE","lineNumber":927,"oldContent":"            children: ["},{"type":"DELETE","lineNumber":929,"oldContent":"              Container("},{"type":"INSERT","lineNumber":987,"content":"                      bottom: 12.h,"},{"type":"DELETE","lineNumber":991,"oldContent":"                      bottom: 12.h,"},{"type":"INSERT","lineNumber":1005,"content":"                            ),"},{"type":"DELETE","lineNumber":1008,"oldContent":"                            ),"},{"type":"INSERT","lineNumber":1013,"content":"              // Bottom row with two cards"},{"type":"DELETE","lineNumber":1017,"oldContent":"              // Bottom row with two cards"},{"type":"INSERT","lineNumber":1024,"content":"                      child: Stack("},{"type":"DELETE","lineNumber":1027,"oldContent":"                      child: Stack("},{"type":"INSERT","lineNumber":1029,"content":"                              onlyForYou.secondPhotoUrl,"},{"type":"DELETE","lineNumber":1032,"oldContent":"                              onlyForYou.secondPhotoUrl,"},{"type":"DELETE","lineNumber":1034,"oldContent":"                                  color: Colors.grey[400],"},{"type":"DELETE","lineNumber":1036,"oldContent":"                              },"},{"type":"INSERT","lineNumber":1035,"content":"                                  color: Colors.grey[400],"},{"type":"INSERT","lineNumber":1036,"content":"                                );"},{"type":"INSERT","lineNumber":1037,"content":"                              },"},{"type":"DELETE","lineNumber":1040,"oldContent":"                                );"},{"type":"INSERT","lineNumber":1047,"content":"                                  'Special Offer',"},{"type":"DELETE","lineNumber":1051,"oldContent":"                                  'Special Offer',"},{"type":"INSERT","lineNumber":1061,"content":"                              ],"},{"type":"INSERT","lineNumber":1062,"content":"                            ),"},{"type":"DELETE","lineNumber":1064,"oldContent":"                              ],"},{"type":"DELETE","lineNumber":1066,"oldContent":"                            ),"},{"type":"MODIFY","lineNumber":1106,"content":"                                Text(","oldContent":"                                Text("},{"type":"DELETE","lineNumber":1109,"oldContent":"                                    fontSize: 10.sp,"},{"type":"MODIFY","lineNumber":1110,"content":"                                    fontSize: 10.sp,","oldContent":"                                    fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":1111,"content":"                                    fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":1118,"oldContent":"                                    color: Colors.white.withValues(alpha: 0.8),"},{"type":"DELETE","lineNumber":1120,"oldContent":"                                    fontSize: 9.sp,"},{"type":"INSERT","lineNumber":1119,"content":"                                    color: Colors.white.withValues(alpha: 0.8),"},{"type":"INSERT","lineNumber":1120,"content":"                                    fontSize: 9.sp,"},{"type":"DELETE","lineNumber":1123,"oldContent":"                            bottom: 8.h,"},{"type":"DELETE","lineNumber":1125,"oldContent":"                            right: 8.w,"},{"type":"DELETE","lineNumber":1127,"oldContent":"                            child: Container("},{"type":"DELETE","lineNumber":1129,"oldContent":"                              padding: EdgeInsets.symmetric(horizontal: 6.w, vertical: 2.h),"},{"type":"DELETE","lineNumber":1132,"oldContent":"                              decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1129,"content":"                            bottom: 8.h,"},{"type":"INSERT","lineNumber":1130,"content":"                            right: 8.w,"},{"type":"INSERT","lineNumber":1131,"content":"                            child: Container("},{"type":"INSERT","lineNumber":1132,"content":"                              padding: EdgeInsets.symmetric(horizontal: 6.w, vertical: 2.h),"},{"type":"INSERT","lineNumber":1133,"content":"                              decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1143,"content":"                                ),"},{"type":"DELETE","lineNumber":1147,"oldContent":"                                ),"},{"type":"INSERT","lineNumber":1171,"content":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"DELETE","lineNumber":1175,"oldContent":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"DELETE","lineNumber":1194,"oldContent":"  Widget build(BuildContext context) {"},{"type":"MODIFY","lineNumber":1195,"content":"  Widget build(BuildContext context) {","oldContent":"    return Container("},{"type":"INSERT","lineNumber":1196,"content":"    return Container("},{"type":"INSERT","lineNumber":1202,"content":"            child: PageView.builder("},{"type":"INSERT","lineNumber":1203,"content":"              controller: _pageController,"},{"type":"DELETE","lineNumber":1205,"oldContent":"              itemBuilder: (context, index) {"},{"type":"DELETE","lineNumber":1207,"oldContent":"              controller: _pageController,"},{"type":"DELETE","lineNumber":1209,"oldContent":"                final ad = widget.ads[index];"},{"type":"DELETE","lineNumber":1211,"oldContent":"                return Container("},{"type":"DELETE","lineNumber":1213,"oldContent":"                  margin: EdgeInsets.symmetric(horizontal: 4.w),"},{"type":"INSERT","lineNumber":1211,"content":"                final ad = widget.ads[index];"},{"type":"INSERT","lineNumber":1212,"content":"                return Container("},{"type":"INSERT","lineNumber":1213,"content":"                  margin: EdgeInsets.symmetric(horizontal: 4.w),"},{"type":"INSERT","lineNumber":1221,"content":"                        : null,"},{"type":"DELETE","lineNumber":1226,"oldContent":"                        : null,"},{"type":"INSERT","lineNumber":1229,"content":"                  ),"},{"type":"DELETE","lineNumber":1233,"oldContent":"                  ),"},{"type":"MODIFY","lineNumber":1247,"content":"                        left: 16.w,","oldContent":"                        left: 16.w,"},{"type":"INSERT","lineNumber":1251,"content":"                          decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1252,"content":"                            color: AppColors.primary,"},{"type":"DELETE","lineNumber":1254,"oldContent":"                          decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1256,"oldContent":"                            color: AppColors.primary,"},{"type":"INSERT","lineNumber":1264,"content":"                      ),"},{"type":"INSERT","lineNumber":1265,"content":"                      Positioned("},{"type":"DELETE","lineNumber":1267,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":1269,"oldContent":"                      Positioned("},{"type":"MODIFY","lineNumber":1283,"content":"                                color: Colors.white.withValues(alpha: 0.9),","oldContent":"                                color: Colors.white.withValues(alpha: 0.9),"},{"type":"INSERT","lineNumber":1285,"content":"                              ),"},{"type":"MODIFY","lineNumber":1288,"content":"                        ),","oldContent":"                              ),"},{"type":"DELETE","lineNumber":1292,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":1294,"oldContent":"              (index) => AnimatedContainer("},{"type":"DELETE","lineNumber":1295,"oldContent":"    );"},{"type":"DELETE","lineNumber":1296,"oldContent":"        ],"},{"type":"INSERT","lineNumber":1293,"content":"              },"},{"type":"INSERT","lineNumber":1295,"content":"          ),"},{"type":"INSERT","lineNumber":1296,"content":"          SizedBox(height: 12.h),"},{"type":"INSERT","lineNumber":1299,"content":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"DELETE","lineNumber":1302,"oldContent":"              ),"},{"type":"DELETE","lineNumber":1303,"oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"DELETE","lineNumber":1304,"oldContent":"          Row("},{"type":"DELETE","lineNumber":1305,"oldContent":"          // Page indicators"},{"type":"DELETE","lineNumber":1306,"oldContent":"              ),"},{"type":"DELETE","lineNumber":1307,"oldContent":"          ),"},{"type":"DELETE","lineNumber":1308,"oldContent":"          ),"},{"type":"DELETE","lineNumber":1309,"oldContent":"          ),"},{"type":"DELETE","lineNumber":1310,"oldContent":"        ],"},{"type":"INSERT","lineNumber":1302,"content":"              (index) => AnimatedContainer("},{"type":"INSERT","lineNumber":1303,"content":"                duration: const Duration(milliseconds: 300),"},{"type":"INSERT","lineNumber":1304,"content":"                margin: EdgeInsets.symmetric(horizontal: 3.w),"},{"type":"INSERT","lineNumber":1305,"content":"                height: 6.h,"},{"type":"INSERT","lineNumber":1306,"content":"                width: _currentPage == index ? 24.w : 6.w,"},{"type":"INSERT","lineNumber":1307,"content":"                decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1308,"content":"                  color: _currentPage == index "},{"type":"DELETE","lineNumber":1313,"oldContent":"      ),"},{"type":"DELETE","lineNumber":1315,"oldContent":"    );"},{"type":"DELETE","lineNumber":1317,"oldContent":"          ),"},{"type":"INSERT","lineNumber":1315,"content":"          ),"},{"type":"INSERT","lineNumber":1316,"content":"        ],"},{"type":"INSERT","lineNumber":1317,"content":"      ),"},{"type":"INSERT","lineNumber":1318,"content":"    );"},{"type":"INSERT","lineNumber":1319,"content":"  }"},{"type":"INSERT","lineNumber":1320,"content":"}"},{"type":"INSERT","lineNumber":1321,"content":""}]},{"timestamp":1758301722243,"changes":[{"type":"MODIFY","lineNumber":40,"content":"","oldContent":"              "},{"type":"MODIFY","lineNumber":64,"content":"                  ),","oldContent":"                onPressed: () {"},{"type":"MODIFY","lineNumber":67,"content":"","oldContent":"              "},{"type":"MODIFY","lineNumber":79,"content":"","oldContent":"                        "},{"type":"MODIFY","lineNumber":82,"content":"","oldContent":"                        "},{"type":"MODIFY","lineNumber":85,"content":"","oldContent":"                        "},{"type":"MODIFY","lineNumber":88,"content":"","oldContent":"                        "},{"type":"MODIFY","lineNumber":91,"content":"","oldContent":"                        "},{"type":"MODIFY","lineNumber":94,"content":"","oldContent":"                        "},{"type":"MODIFY","lineNumber":102,"content":"","oldContent":"              "},{"type":"INSERT","lineNumber":104,"content":"            },"},{"type":"DELETE","lineNumber":105,"oldContent":"          ),"},{"type":"DELETE","lineNumber":113,"oldContent":"          context: context,"},{"type":"DELETE","lineNumber":114,"oldContent":"          builder: (context) => AlertDialog("},{"type":"DELETE","lineNumber":115,"oldContent":"            title: const Text('Exit App'),"},{"type":"DELETE","lineNumber":116,"oldContent":"            content: const Text('Are you sure you want to exit the app?'),"},{"type":"DELETE","lineNumber":117,"oldContent":"            actions: ["},{"type":"DELETE","lineNumber":118,"oldContent":"                  ],"},{"type":"DELETE","lineNumber":119,"oldContent":"                ),"},{"type":"DELETE","lineNumber":120,"oldContent":"              ),"},{"type":"DELETE","lineNumber":121,"oldContent":"              ),"},{"type":"DELETE","lineNumber":122,"oldContent":"              TextButton("},{"type":"DELETE","lineNumber":123,"oldContent":"                onPressed: () {"},{"type":"DELETE","lineNumber":124,"oldContent":"                  Navigator.of(context).pop(true);"},{"type":"DELETE","lineNumber":125,"oldContent":"                  // Exit the app"},{"type":"DELETE","lineNumber":126,"oldContent":"                  SystemNavigator.pop();"},{"type":"DELETE","lineNumber":127,"oldContent":"                },"},{"type":"DELETE","lineNumber":128,"oldContent":"                child: const Text('Exit'),"},{"type":"DELETE","lineNumber":129,"oldContent":"              ),"},{"type":"DELETE","lineNumber":130,"oldContent":"            ],"},{"type":"INSERT","lineNumber":113,"content":"      context: context,"},{"type":"INSERT","lineNumber":114,"content":"      builder: (context) => AlertDialog("},{"type":"INSERT","lineNumber":115,"content":"        title: const Text('Exit App'),"},{"type":"INSERT","lineNumber":116,"content":"        content: const Text('Are you sure you want to exit the app?'),"},{"type":"INSERT","lineNumber":117,"content":"        actions: ["},{"type":"INSERT","lineNumber":118,"content":"          TextButton("},{"type":"INSERT","lineNumber":119,"content":"            onPressed: () => Navigator.of(context).pop(false),"},{"type":"INSERT","lineNumber":120,"content":"            child: const Text('Cancel'),"},{"type":"DELETE","lineNumber":132,"oldContent":"        ) ??"},{"type":"INSERT","lineNumber":122,"content":"          TextButton("},{"type":"INSERT","lineNumber":123,"content":"            onPressed: () {"},{"type":"INSERT","lineNumber":124,"content":"              Navigator.of(context).pop(true);"},{"type":"INSERT","lineNumber":125,"content":"              // Exit the app"},{"type":"INSERT","lineNumber":126,"content":"              SystemNavigator.pop();"},{"type":"INSERT","lineNumber":127,"content":"            },"},{"type":"INSERT","lineNumber":128,"content":"            child: const Text('Exit'),"},{"type":"INSERT","lineNumber":129,"content":"          ),"},{"type":"INSERT","lineNumber":130,"content":"        ],"},{"type":"INSERT","lineNumber":131,"content":"      ),"},{"type":"INSERT","lineNumber":132,"content":"    ) ??"},{"type":"MODIFY","lineNumber":179,"content":"","oldContent":"                  "},{"type":"MODIFY","lineNumber":196,"content":"","oldContent":"              "},{"type":"MODIFY","lineNumber":198,"content":"","oldContent":"              "},{"type":"DELETE","lineNumber":245,"oldContent":"                          Icons.search, "},{"type":"DELETE","lineNumber":246,"oldContent":"                          color: Colors.white, "},{"type":"INSERT","lineNumber":245,"content":"                          Icons.search,"},{"type":"INSERT","lineNumber":246,"content":"                          color: Colors.white,"},{"type":"MODIFY","lineNumber":251,"content":"                  ),","oldContent":"                  ),"},{"type":"DELETE","lineNumber":257,"oldContent":"                const Spacer(),"},{"type":"MODIFY","lineNumber":257,"content":"      },","oldContent":"              ],"},{"type":"INSERT","lineNumber":258,"content":"    );"},{"type":"MODIFY","lineNumber":264,"content":"","oldContent":"    "},{"type":"MODIFY","lineNumber":270,"content":"","oldContent":"    "},{"type":"DELETE","lineNumber":365,"oldContent":"                    property.mainImageUrl!,"},{"type":"DELETE","lineNumber":366,"oldContent":"                    width: double.infinity,"},{"type":"DELETE","lineNumber":367,"oldContent":"                    height: double.infinity,"},{"type":"DELETE","lineNumber":368,"oldContent":"                    fit: BoxFit.cover,"},{"type":"DELETE","lineNumber":369,"oldContent":"                    errorBuilder: (context, error, stackTrace) {"},{"type":"DELETE","lineNumber":370,"oldContent":"                      return Container("},{"type":"DELETE","lineNumber":371,"oldContent":"                        color: Colors.grey[300],"},{"type":"DELETE","lineNumber":372,"oldContent":"                        child: Icon("},{"type":"DELETE","lineNumber":373,"oldContent":"                          Icons.home,"},{"type":"DELETE","lineNumber":374,"oldContent":"                          color: Colors.grey[500],"},{"type":"DELETE","lineNumber":375,"oldContent":"                          size: 40.sp,"},{"type":"DELETE","lineNumber":376,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":377,"oldContent":"                      );"},{"type":"DELETE","lineNumber":378,"oldContent":"                    },"},{"type":"DELETE","lineNumber":379,"oldContent":"                  )"},{"type":"DELETE","lineNumber":380,"oldContent":"                : Container("},{"type":"DELETE","lineNumber":381,"oldContent":"                    color: Colors.grey[300],"},{"type":"DELETE","lineNumber":382,"oldContent":"                    width: double.infinity,"},{"type":"DELETE","lineNumber":383,"oldContent":"                    height: double.infinity,"},{"type":"DELETE","lineNumber":384,"oldContent":"                    child: Icon("},{"type":"DELETE","lineNumber":385,"oldContent":"                      Icons.home,"},{"type":"DELETE","lineNumber":386,"oldContent":"                      color: Colors.grey[500],"},{"type":"DELETE","lineNumber":387,"oldContent":"                      size: 40.sp,"},{"type":"DELETE","lineNumber":388,"oldContent":"                    ),"},{"type":"INSERT","lineNumber":365,"content":"              property.mainImageUrl!,"},{"type":"INSERT","lineNumber":366,"content":"              width: double.infinity,"},{"type":"INSERT","lineNumber":367,"content":"              height: double.infinity,"},{"type":"INSERT","lineNumber":368,"content":"              fit: BoxFit.cover,"},{"type":"INSERT","lineNumber":369,"content":"              errorBuilder: (context, error, stackTrace) {"},{"type":"INSERT","lineNumber":370,"content":"                return Container("},{"type":"INSERT","lineNumber":371,"content":"                  color: Colors.grey[300],"},{"type":"INSERT","lineNumber":372,"content":"                  child: Icon("},{"type":"INSERT","lineNumber":373,"content":"                    Icons.home,"},{"type":"INSERT","lineNumber":374,"content":"                    color: Colors.grey[500],"},{"type":"INSERT","lineNumber":375,"content":"                    size: 40.sp,"},{"type":"INSERT","lineNumber":377,"content":"                );"},{"type":"INSERT","lineNumber":378,"content":"              },"},{"type":"INSERT","lineNumber":379,"content":"            )"},{"type":"INSERT","lineNumber":380,"content":"                : Container("},{"type":"INSERT","lineNumber":381,"content":"              color: Colors.grey[300],"},{"type":"INSERT","lineNumber":382,"content":"              width: double.infinity,"},{"type":"INSERT","lineNumber":383,"content":"              height: double.infinity,"},{"type":"INSERT","lineNumber":384,"content":"              child: Icon("},{"type":"INSERT","lineNumber":385,"content":"                Icons.home,"},{"type":"INSERT","lineNumber":386,"content":"                color: Colors.grey[500],"},{"type":"INSERT","lineNumber":387,"content":"                size: 40.sp,"},{"type":"INSERT","lineNumber":388,"content":"              ),"},{"type":"INSERT","lineNumber":389,"content":"            ),"},{"type":"INSERT","lineNumber":422,"content":"                  property.title,"},{"type":"DELETE","lineNumber":423,"oldContent":"                  style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":455,"content":"            ),"},{"type":"DELETE","lineNumber":456,"oldContent":"          ),"},{"type":"MODIFY","lineNumber":484,"content":"","oldContent":"    "},{"type":"INSERT","lineNumber":487,"content":"      child: Column("},{"type":"MODIFY","lineNumber":489,"content":"        children: [","oldContent":"                                    children: ["},{"type":"DELETE","lineNumber":490,"oldContent":"                                      Icon(Icons.star, color: Colors.white, size: 10.sp),"},{"type":"MODIFY","lineNumber":506,"content":"            ),","oldContent":"                                  '250.00 \\$',"},{"type":"DELETE","lineNumber":518,"oldContent":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"DELETE","lineNumber":520,"oldContent":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":519,"content":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"INSERT","lineNumber":521,"content":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":536,"content":"      height: 251.h,"},{"type":"DELETE","lineNumber":537,"oldContent":"      decoration: BoxDecoration("},{"type":"INSERT","lineNumber":555,"content":"            height: 148.h,"},{"type":"DELETE","lineNumber":557,"oldContent":"            height: 148.h,"},{"type":"DELETE","lineNumber":562,"oldContent":"                          property.mainImageUrl!,"},{"type":"DELETE","lineNumber":563,"oldContent":"                          width: 155.w,"},{"type":"DELETE","lineNumber":564,"oldContent":"                          fit: BoxFit.cover,"},{"type":"DELETE","lineNumber":565,"oldContent":"                          height: 148.h,"},{"type":"DELETE","lineNumber":566,"oldContent":"                          errorBuilder: (context, error, stackTrace) {"},{"type":"DELETE","lineNumber":567,"oldContent":"                            return Container("},{"type":"DELETE","lineNumber":568,"oldContent":"                              width: 155.w,"},{"type":"DELETE","lineNumber":569,"oldContent":"                              color: Colors.grey[300],"},{"type":"DELETE","lineNumber":570,"oldContent":"                              height: 148.h,"},{"type":"DELETE","lineNumber":571,"oldContent":"                              child: Icon("},{"type":"DELETE","lineNumber":572,"oldContent":"                                Icons.home,"},{"type":"DELETE","lineNumber":573,"oldContent":"                                color: Colors.grey[500],"},{"type":"DELETE","lineNumber":574,"oldContent":"                                size: 30.sp,"},{"type":"DELETE","lineNumber":575,"oldContent":"                              ),"},{"type":"DELETE","lineNumber":576,"oldContent":"                            );"},{"type":"DELETE","lineNumber":577,"oldContent":"                          },"},{"type":"DELETE","lineNumber":578,"oldContent":"                        )"},{"type":"DELETE","lineNumber":579,"oldContent":"                      : Container("},{"type":"DELETE","lineNumber":580,"oldContent":"                          width: 155.w,"},{"type":"DELETE","lineNumber":581,"oldContent":"                          color: Colors.grey[300],"},{"type":"DELETE","lineNumber":582,"oldContent":"                          height: 148.h,"},{"type":"DELETE","lineNumber":583,"oldContent":"                          child: Icon("},{"type":"DELETE","lineNumber":584,"oldContent":"                            Icons.home,"},{"type":"DELETE","lineNumber":585,"oldContent":"                            color: Colors.grey[500],"},{"type":"DELETE","lineNumber":586,"oldContent":"                            size: 30.sp,"},{"type":"DELETE","lineNumber":587,"oldContent":"                          ),"},{"type":"INSERT","lineNumber":562,"content":"                    property.mainImageUrl!,"},{"type":"INSERT","lineNumber":563,"content":"                    width: 155.w,"},{"type":"INSERT","lineNumber":564,"content":"                    height: 148.h,"},{"type":"INSERT","lineNumber":565,"content":"                    fit: BoxFit.cover,"},{"type":"INSERT","lineNumber":566,"content":"                    errorBuilder: (context, error, stackTrace) {"},{"type":"INSERT","lineNumber":567,"content":"                      return Container("},{"type":"INSERT","lineNumber":568,"content":"                        width: 155.w,"},{"type":"INSERT","lineNumber":569,"content":"                        height: 148.h,"},{"type":"INSERT","lineNumber":570,"content":"                        color: Colors.grey[300],"},{"type":"INSERT","lineNumber":571,"content":"                        child: Icon("},{"type":"INSERT","lineNumber":572,"content":"                          Icons.home,"},{"type":"INSERT","lineNumber":573,"content":"                          color: Colors.grey[500],"},{"type":"INSERT","lineNumber":574,"content":"                          size: 30.sp,"},{"type":"INSERT","lineNumber":576,"content":"                      );"},{"type":"INSERT","lineNumber":577,"content":"                    },"},{"type":"INSERT","lineNumber":578,"content":"                  )"},{"type":"INSERT","lineNumber":579,"content":"                      : Container("},{"type":"INSERT","lineNumber":580,"content":"                    width: 155.w,"},{"type":"INSERT","lineNumber":581,"content":"                    height: 148.h,"},{"type":"INSERT","lineNumber":582,"content":"                    color: Colors.grey[300],"},{"type":"INSERT","lineNumber":583,"content":"                    child: Icon("},{"type":"INSERT","lineNumber":584,"content":"                      Icons.home,"},{"type":"INSERT","lineNumber":585,"content":"                      color: Colors.grey[500],"},{"type":"INSERT","lineNumber":586,"content":"                      size: 30.sp,"},{"type":"INSERT","lineNumber":587,"content":"                    ),"},{"type":"INSERT","lineNumber":588,"content":"                  ),"},{"type":"MODIFY","lineNumber":592,"content":"","oldContent":"                  "},{"type":"MODIFY","lineNumber":602,"content":"                      ),","oldContent":"                      ),"},{"type":"MODIFY","lineNumber":614,"content":"          // Property details section - remaining height (251 - 148 = 103)","oldContent":"          // Property details section - remaining height (251 - 148 = 103)"},{"type":"INSERT","lineNumber":624,"content":"                    decoration: BoxDecoration("},{"type":"INSERT","lineNumber":625,"content":"                      color: Colors.orange,"},{"type":"DELETE","lineNumber":626,"oldContent":"                    decoration: BoxDecoration("},{"type":"DELETE","lineNumber":628,"oldContent":"                      color: Colors.orange,"},{"type":"MODIFY","lineNumber":644,"content":"                  SizedBox(height: 4.h),","oldContent":"                  SizedBox(height: 4.h),"},{"type":"MODIFY","lineNumber":654,"content":"                  ),","oldContent":"                  ),"},{"type":"DELETE","lineNumber":668,"oldContent":"                      Icon(Icons.straighten, color: Colors.grey[500], size: 12.sp),"},{"type":"DELETE","lineNumber":670,"oldContent":"                      Text("},{"type":"INSERT","lineNumber":669,"content":"                      Icon(Icons.straighten, color: Colors.grey[500], size: 12.sp),"},{"type":"INSERT","lineNumber":671,"content":"                      Text("},{"type":"MODIFY","lineNumber":674,"content":"                          color: Colors.grey[600],","oldContent":"                          color: Colors.grey[600],"},{"type":"MODIFY","lineNumber":690,"content":"              ),","oldContent":"              ),"},{"type":"MODIFY","lineNumber":700,"content":"","oldContent":"    "},{"type":"MODIFY","lineNumber":712,"content":"                style: AppTextStyles.h4.copyWith(","oldContent":"                style: AppTextStyles.h4.copyWith("},{"type":"DELETE","lineNumber":726,"oldContent":"              Icon(Icons.favorite, color: Colors.red, size: 16.sp),"},{"type":"INSERT","lineNumber":727,"content":"              itemBuilder: (context, index) {"},{"type":"DELETE","lineNumber":729,"oldContent":"                  fontSize: 16.sp,"},{"type":"INSERT","lineNumber":740,"content":"                      ),"},{"type":"MODIFY","lineNumber":780,"content":"                          gradient: LinearGradient(","oldContent":"                          gradient: LinearGradient("},{"type":"MODIFY","lineNumber":811,"content":"      ),","oldContent":"      ),"},{"type":"DELETE","lineNumber":813,"oldContent":"                  ),"},{"type":"INSERT","lineNumber":822,"content":"            children: ["},{"type":"MODIFY","lineNumber":836,"content":"                  fontSize: 16.sp,","oldContent":"                  fontSize: 16.sp,"},{"type":"MODIFY","lineNumber":839,"content":"              const Spacer(),","oldContent":"              const Spacer(),"},{"type":"INSERT","lineNumber":855,"content":"                rating: 4.8,"},{"type":"DELETE","lineNumber":856,"oldContent":"                              ],"},{"type":"MODIFY","lineNumber":887,"content":"          ),","oldContent":"          ),"},{"type":"MODIFY","lineNumber":924,"content":"            children: [","oldContent":"            children: ["},{"type":"MODIFY","lineNumber":987,"content":"                      bottom: 12.h,","oldContent":"                      bottom: 12.h,"},{"type":"MODIFY","lineNumber":1005,"content":"                            ),","oldContent":"                            ),"},{"type":"MODIFY","lineNumber":1013,"content":"              // Bottom row with two cards","oldContent":"              // Bottom row with two cards"},{"type":"MODIFY","lineNumber":1024,"content":"                      child: Stack(","oldContent":"                      child: Stack("},{"type":"MODIFY","lineNumber":1029,"content":"                              onlyForYou.secondPhotoUrl,","oldContent":"                              onlyForYou.secondPhotoUrl,"},{"type":"DELETE","lineNumber":1033,"oldContent":"                                  color: Colors.grey[400],"},{"type":"INSERT","lineNumber":1034,"content":"                                return Container("},{"type":"INSERT","lineNumber":1035,"content":"                                  color: Colors.grey[400],"},{"type":"DELETE","lineNumber":1037,"oldContent":"                                return Container("},{"type":"MODIFY","lineNumber":1047,"content":"                                  'Special Offer',","oldContent":"                                  'Special Offer',"},{"type":"MODIFY","lineNumber":1061,"content":"                              ],","oldContent":"                              ],"},{"type":"MODIFY","lineNumber":1106,"content":"                                Text(","oldContent":"                                Text("},{"type":"DELETE","lineNumber":1108,"oldContent":"                                    fontSize: 10.sp,"},{"type":"MODIFY","lineNumber":1110,"content":"                                    fontSize: 10.sp,","oldContent":"                                    fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":1111,"content":"                                    fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":1117,"oldContent":"                                    color: Colors.white.withValues(alpha: 0.8),"},{"type":"MODIFY","lineNumber":1119,"content":"                                    color: Colors.white.withValues(alpha: 0.8),","oldContent":"                                    fontSize: 9.sp,"},{"type":"INSERT","lineNumber":1120,"content":"                                    fontSize: 9.sp,"},{"type":"INSERT","lineNumber":1125,"content":"                              ],"},{"type":"INSERT","lineNumber":1126,"content":"                            ),"},{"type":"INSERT","lineNumber":1127,"content":"                          ),"},{"type":"INSERT","lineNumber":1128,"content":"                          Positioned("},{"type":"DELETE","lineNumber":1127,"oldContent":"                              ],"},{"type":"DELETE","lineNumber":1129,"oldContent":"                            ),"},{"type":"DELETE","lineNumber":1132,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":1133,"oldContent":"                          Positioned("},{"type":"MODIFY","lineNumber":1143,"content":"                                ),","oldContent":"                                ),"},{"type":"DELETE","lineNumber":1169,"oldContent":"    "},{"type":"DELETE","lineNumber":1170,"oldContent":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"DELETE","lineNumber":1171,"oldContent":"    return locationImages[locationName] ?? "},{"type":"INSERT","lineNumber":1169,"content":""},{"type":"INSERT","lineNumber":1170,"content":"    return locationImages[locationName] ??"},{"type":"INSERT","lineNumber":1171,"content":"        'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"DELETE","lineNumber":1193,"oldContent":"  Widget build(BuildContext context) {"},{"type":"DELETE","lineNumber":1194,"oldContent":"    return Container("},{"type":"INSERT","lineNumber":1195,"content":"  Widget build(BuildContext context) {"},{"type":"INSERT","lineNumber":1196,"content":"    return Container("},{"type":"MODIFY","lineNumber":1202,"content":"            child: PageView.builder(","oldContent":"            child: PageView.builder("},{"type":"INSERT","lineNumber":1209,"content":"              itemCount: widget.ads.length,"},{"type":"INSERT","lineNumber":1210,"content":"              itemBuilder: (context, index) {"},{"type":"DELETE","lineNumber":1211,"oldContent":"              itemCount: widget.ads.length,"},{"type":"DELETE","lineNumber":1213,"oldContent":"              itemBuilder: (context, index) {"},{"type":"DELETE","lineNumber":1218,"oldContent":"                            image: NetworkImage(ad.imageUrl),"},{"type":"DELETE","lineNumber":1219,"oldContent":"                            fit: BoxFit.cover,"},{"type":"INSERT","lineNumber":1218,"content":"                      image: NetworkImage(ad.imageUrl),"},{"type":"INSERT","lineNumber":1219,"content":"                      fit: BoxFit.cover,"},{"type":"INSERT","lineNumber":1220,"content":"                    )"},{"type":"DELETE","lineNumber":1221,"oldContent":"                          )"},{"type":"DELETE","lineNumber":1224,"oldContent":"                            colors: [Colors.orange[400]!, Colors.orange[600]!],"},{"type":"DELETE","lineNumber":1225,"oldContent":"                            begin: Alignment.topLeft,"},{"type":"DELETE","lineNumber":1226,"oldContent":"                            end: Alignment.bottomRight,"},{"type":"DELETE","lineNumber":1227,"oldContent":"                          )"},{"type":"DELETE","lineNumber":1228,"oldContent":"                  ),"},{"type":"INSERT","lineNumber":1224,"content":"                      colors: [Colors.orange[400]!, Colors.orange[600]!],"},{"type":"INSERT","lineNumber":1225,"content":"                      begin: Alignment.topLeft,"},{"type":"INSERT","lineNumber":1226,"content":"                      end: Alignment.bottomRight,"},{"type":"INSERT","lineNumber":1227,"content":"                    )"},{"type":"DELETE","lineNumber":1230,"oldContent":""},{"type":"DELETE","lineNumber":1231,"oldContent":"  }"},{"type":"DELETE","lineNumber":1232,"oldContent":"                  color: _currentPage == index "},{"type":"DELETE","lineNumber":1233,"oldContent":"                width: _currentPage == index ? 24.w : 6.w,"},{"type":"DELETE","lineNumber":1234,"oldContent":"                duration: const Duration(milliseconds: 300),"},{"type":"DELETE","lineNumber":1235,"oldContent":"                );"},{"type":"DELETE","lineNumber":1237,"oldContent":"                            Text("},{"type":"INSERT","lineNumber":1230,"content":"                  child: Stack("},{"type":"INSERT","lineNumber":1231,"content":"                    children: ["},{"type":"INSERT","lineNumber":1232,"content":"                      // Overlay for better text readability"},{"type":"INSERT","lineNumber":1233,"content":"                      Container("},{"type":"INSERT","lineNumber":1234,"content":"                        decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1235,"content":"                          borderRadius: BorderRadius.circular(16.r),"},{"type":"INSERT","lineNumber":1236,"content":"                          gradient: LinearGradient("},{"type":"INSERT","lineNumber":1237,"content":"                            colors: ["},{"type":"MODIFY","lineNumber":1247,"content":"                        left: 16.w,","oldContent":"                        left: 16.w,"},{"type":"MODIFY","lineNumber":1251,"content":"                          decoration: BoxDecoration(","oldContent":"                          decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1258,"oldContent":"    );"},{"type":"DELETE","lineNumber":1259,"oldContent":"        ],"},{"type":"DELETE","lineNumber":1260,"oldContent":"            ),"},{"type":"DELETE","lineNumber":1261,"oldContent":"                margin: EdgeInsets.symmetric(horizontal: 3.w),"},{"type":"DELETE","lineNumber":1262,"oldContent":"              widget.ads.length,"},{"type":"INSERT","lineNumber":1258,"content":"                              color: Colors.white,"},{"type":"INSERT","lineNumber":1259,"content":"                              fontSize: 10.sp,"},{"type":"INSERT","lineNumber":1260,"content":"                              fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":1261,"content":"                            ),"},{"type":"INSERT","lineNumber":1262,"content":"                          ),"},{"type":"INSERT","lineNumber":1263,"content":"                        ),"},{"type":"DELETE","lineNumber":1264,"oldContent":"            children: List.generate("},{"type":"MODIFY","lineNumber":1271,"content":"                            Text(","oldContent":"                      ),"},{"type":"DELETE","lineNumber":1282,"oldContent":"                                color: Colors.white.withValues(alpha: 0.9),"},{"type":"DELETE","lineNumber":1284,"oldContent":"                              ),"},{"type":"INSERT","lineNumber":1283,"content":"                                color: Colors.white.withValues(alpha: 0.9),"},{"type":"DELETE","lineNumber":1286,"oldContent":"                                fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":1287,"oldContent":"              ),"},{"type":"INSERT","lineNumber":1285,"content":"                              ),"},{"type":"INSERT","lineNumber":1286,"content":"                            ),"},{"type":"INSERT","lineNumber":1287,"content":"                          ],"},{"type":"DELETE","lineNumber":1289,"oldContent":"          Row("},{"type":"DELETE","lineNumber":1290,"oldContent":"          ),"},{"type":"DELETE","lineNumber":1291,"oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"INSERT","lineNumber":1289,"content":"                      ),"},{"type":"INSERT","lineNumber":1290,"content":"                    ],"},{"type":"INSERT","lineNumber":1291,"content":"                  ),"},{"type":"INSERT","lineNumber":1292,"content":"                );"},{"type":"INSERT","lineNumber":1294,"content":"            ),"},{"type":"DELETE","lineNumber":1294,"oldContent":"          ),"},{"type":"DELETE","lineNumber":1296,"oldContent":""},{"type":"MODIFY","lineNumber":1297,"content":"          // Page indicators","oldContent":"}"},{"type":"INSERT","lineNumber":1298,"content":"          Row("},{"type":"DELETE","lineNumber":1299,"oldContent":"    );"},{"type":"DELETE","lineNumber":1300,"oldContent":"      ),"},{"type":"DELETE","lineNumber":1301,"oldContent":"        ],"},{"type":"DELETE","lineNumber":1302,"oldContent":"              (index) => AnimatedContainer("},{"type":"INSERT","lineNumber":1300,"content":"            children: List.generate("},{"type":"INSERT","lineNumber":1301,"content":"              widget.ads.length,"},{"type":"INSERT","lineNumber":1302,"content":"                  (index) => AnimatedContainer("},{"type":"DELETE","lineNumber":1308,"oldContent":"                  color: _currentPage == index "},{"type":"DELETE","lineNumber":1309,"oldContent":"}"},{"type":"DELETE","lineNumber":1310,"oldContent":"  }"},{"type":"DELETE","lineNumber":1311,"oldContent":"      ),"},{"type":"INSERT","lineNumber":1308,"content":"                  color: _currentPage == index"},{"type":"INSERT","lineNumber":1309,"content":"                      ? AppColors.primary"},{"type":"INSERT","lineNumber":1310,"content":"                      : Colors.grey[300],"},{"type":"INSERT","lineNumber":1311,"content":"                  borderRadius: BorderRadius.circular(3.r),"},{"type":"INSERT","lineNumber":1312,"content":"                ),"},{"type":"INSERT","lineNumber":1313,"content":"              ),"},{"type":"INSERT","lineNumber":1314,"content":"            ),"},{"type":"INSERT","lineNumber":1316,"content":"        ],"},{"type":"INSERT","lineNumber":1317,"content":"      ),"},{"type":"INSERT","lineNumber":1318,"content":"    );"},{"type":"INSERT","lineNumber":1319,"content":"  }"},{"type":"INSERT","lineNumber":1320,"content":"}"},{"type":"INSERT","lineNumber":1321,"content":""}]},{"timestamp":1758301751328,"changes":[{"type":"DELETE","lineNumber":23,"oldContent":"    return PopScope("},{"type":"DELETE","lineNumber":24,"oldContent":"      canPop: false,"},{"type":"DELETE","lineNumber":25,"oldContent":"      onPopInvokedWithResult: (didPop, result) async {"},{"type":"INSERT","lineNumber":29,"content":"      },"},{"type":"INSERT","lineNumber":30,"content":"      child: Scaffold("},{"type":"INSERT","lineNumber":31,"content":"        appBar: null,"},{"type":"DELETE","lineNumber":113,"oldContent":"      context: context,"},{"type":"DELETE","lineNumber":114,"oldContent":"      builder: (context) => AlertDialog("},{"type":"DELETE","lineNumber":115,"oldContent":"        title: const Text('Exit App'),"},{"type":"DELETE","lineNumber":116,"oldContent":"        content: const Text('Are you sure you want to exit the app?'),"},{"type":"DELETE","lineNumber":117,"oldContent":"        actions: ["},{"type":"DELETE","lineNumber":118,"oldContent":"          TextButton("},{"type":"DELETE","lineNumber":119,"oldContent":"            onPressed: () => Navigator.of(context).pop(false),"},{"type":"DELETE","lineNumber":120,"oldContent":"            child: const Text('Cancel'),"},{"type":"DELETE","lineNumber":121,"oldContent":"          TextButton("},{"type":"DELETE","lineNumber":122,"oldContent":"            onPressed: () {"},{"type":"DELETE","lineNumber":123,"oldContent":"              Navigator.of(context).pop(true);"},{"type":"DELETE","lineNumber":124,"oldContent":"              // Exit the app"},{"type":"DELETE","lineNumber":125,"oldContent":"              SystemNavigator.pop();"},{"type":"DELETE","lineNumber":126,"oldContent":"            },"},{"type":"DELETE","lineNumber":127,"oldContent":"            child: const Text('Exit'),"},{"type":"INSERT","lineNumber":113,"content":"          context: context,"},{"type":"INSERT","lineNumber":114,"content":"          builder: (context) => AlertDialog("},{"type":"INSERT","lineNumber":115,"content":"            title: const Text('Exit App'),"},{"type":"INSERT","lineNumber":116,"content":"            content: const Text('Are you sure you want to exit the app?'),"},{"type":"INSERT","lineNumber":117,"content":"            actions: ["},{"type":"INSERT","lineNumber":118,"content":"              TextButton("},{"type":"INSERT","lineNumber":119,"content":"                onPressed: () => Navigator.of(context).pop(false),"},{"type":"INSERT","lineNumber":120,"content":"                child: const Text('Cancel'),"},{"type":"INSERT","lineNumber":121,"content":"              ),"},{"type":"INSERT","lineNumber":122,"content":"              TextButton("},{"type":"INSERT","lineNumber":123,"content":"                onPressed: () {"},{"type":"INSERT","lineNumber":124,"content":"                  Navigator.of(context).pop(true);"},{"type":"INSERT","lineNumber":125,"content":"                  // Exit the app"},{"type":"INSERT","lineNumber":126,"content":"                  SystemNavigator.pop();"},{"type":"INSERT","lineNumber":127,"content":"                },"},{"type":"INSERT","lineNumber":128,"content":"                child: const Text('Exit'),"},{"type":"INSERT","lineNumber":129,"content":"              ),"},{"type":"INSERT","lineNumber":130,"content":"            ],"},{"type":"DELETE","lineNumber":129,"oldContent":"        ],"},{"type":"DELETE","lineNumber":130,"oldContent":"      ),"},{"type":"DELETE","lineNumber":131,"oldContent":"          ),"},{"type":"MODIFY","lineNumber":132,"content":"        ) ??","oldContent":"    ) ??"},{"type":"MODIFY","lineNumber":161,"content":"                      ],","oldContent":"                color: Colors.white.withValues(alpha: 0.1),"},{"type":"MODIFY","lineNumber":177,"content":"                    ),","oldContent":"                    'ADS',"},{"type":"MODIFY","lineNumber":194,"content":"                ],","oldContent":"                Text("},{"type":"MODIFY","lineNumber":248,"content":"                        ),","oldContent":"                  child: Text("},{"type":"INSERT","lineNumber":250,"content":"                    ],"},{"type":"DELETE","lineNumber":251,"oldContent":"                  ),"},{"type":"MODIFY","lineNumber":258,"content":"    );","oldContent":"                Icon(Icons.arrow_forward_ios, color: Colors.grey[600], size: 16.sp),"},{"type":"DELETE","lineNumber":260,"oldContent":"              ],"},{"type":"DELETE","lineNumber":261,"oldContent":"                                fontWeight: FontWeight.w600,"},{"type":"DELETE","lineNumber":262,"oldContent":"          SizedBox(height: 16.h),"},{"type":"DELETE","lineNumber":263,"oldContent":"            height: 180.h,"},{"type":"DELETE","lineNumber":265,"oldContent":"              padding: EdgeInsets.symmetric(horizontal: 16.w),"},{"type":"DELETE","lineNumber":266,"oldContent":"              itemCount: 2,"},{"type":"DELETE","lineNumber":267,"oldContent":"                return Container("},{"type":"DELETE","lineNumber":268,"oldContent":"                  margin: EdgeInsets.only(right: 12.w),"},{"type":"DELETE","lineNumber":269,"oldContent":"                  decoration: BoxDecoration("},{"type":"DELETE","lineNumber":271,"oldContent":"                      BoxShadow("},{"type":"DELETE","lineNumber":272,"oldContent":"                        color: Colors.grey.withValues(alpha: 0.1),"},{"type":"DELETE","lineNumber":273,"oldContent":"                        blurRadius: 8,"},{"type":"DELETE","lineNumber":274,"oldContent":"                        offset: const Offset(0, 2),"},{"type":"DELETE","lineNumber":275,"oldContent":"                    ],"},{"type":"DELETE","lineNumber":276,"oldContent":"                  child: Column("},{"type":"DELETE","lineNumber":277,"oldContent":"                    crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":278,"oldContent":"                      Expanded("},{"type":"DELETE","lineNumber":279,"oldContent":"                        child: Container("},{"type":"DELETE","lineNumber":280,"oldContent":"                          decoration: BoxDecoration("},{"type":"DELETE","lineNumber":281,"oldContent":"                            borderRadius: BorderRadius.only("},{"type":"DELETE","lineNumber":282,"oldContent":"                              topLeft: Radius.circular(12.r),"},{"type":"INSERT","lineNumber":262,"content":"  Widget _buildSpecialAdvertisementBanner(List<SpecialAdvertisement> ads) {"},{"type":"INSERT","lineNumber":263,"content":"    if (ads.isEmpty) return const SizedBox.shrink();"},{"type":"INSERT","lineNumber":264,"content":""},{"type":"INSERT","lineNumber":265,"content":"    return _AdvertisementBannerWidget(ads: ads);"},{"type":"INSERT","lineNumber":266,"content":"  }"},{"type":"INSERT","lineNumber":267,"content":""},{"type":"INSERT","lineNumber":268,"content":"  Widget _buildSpecialStaysSection(List<Property> properties) {"},{"type":"INSERT","lineNumber":269,"content":"    if (properties.isEmpty) return const SizedBox.shrink();"},{"type":"INSERT","lineNumber":270,"content":""},{"type":"INSERT","lineNumber":271,"content":"    return Container("},{"type":"INSERT","lineNumber":272,"content":"      margin: EdgeInsets.symmetric(vertical: 24.h),"},{"type":"INSERT","lineNumber":273,"content":"      child: Column("},{"type":"INSERT","lineNumber":274,"content":"        crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":275,"content":"        children: ["},{"type":"INSERT","lineNumber":276,"content":"          Padding("},{"type":"INSERT","lineNumber":277,"content":"            padding: EdgeInsets.symmetric(horizontal: 16.w),"},{"type":"INSERT","lineNumber":278,"content":"            child: Row("},{"type":"INSERT","lineNumber":279,"content":"              children: ["},{"type":"INSERT","lineNumber":280,"content":"                Container("},{"type":"INSERT","lineNumber":281,"content":"                  padding: EdgeInsets.symmetric(horizontal: 8.w, vertical: 4.h),"},{"type":"INSERT","lineNumber":282,"content":"                  decoration: BoxDecoration("},{"type":"DELETE","lineNumber":285,"oldContent":"                          child: Center("},{"type":"DELETE","lineNumber":286,"oldContent":"                              Icons.image,"},{"type":"DELETE","lineNumber":287,"oldContent":"                              size: 40.sp,"},{"type":"DELETE","lineNumber":288,"oldContent":"                            ),"},{"type":"DELETE","lineNumber":289,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":290,"oldContent":"                      Expanded("},{"type":"DELETE","lineNumber":291,"oldContent":"                        child: Padding("},{"type":"DELETE","lineNumber":292,"oldContent":"                          padding: EdgeInsets.all(12.w),"},{"type":"DELETE","lineNumber":293,"oldContent":"                            crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":294,"oldContent":"                              Text("},{"type":"DELETE","lineNumber":295,"oldContent":"                                'Rent An Hotel Room',"},{"type":"DELETE","lineNumber":296,"oldContent":"                                  color: AppColors.textPrimary,"},{"type":"DELETE","lineNumber":297,"oldContent":"                                  fontSize: 12.sp,"},{"type":"DELETE","lineNumber":298,"oldContent":"                                ),"},{"type":"INSERT","lineNumber":285,"content":"                  ),"},{"type":"INSERT","lineNumber":286,"content":"                  child: Text("},{"type":"INSERT","lineNumber":287,"content":"                    'Special',"},{"type":"INSERT","lineNumber":288,"content":"                    style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":289,"content":"                      color: Colors.white,"},{"type":"INSERT","lineNumber":290,"content":"                      fontSize: 10.sp,"},{"type":"INSERT","lineNumber":291,"content":"                      fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":292,"content":"                    ),"},{"type":"INSERT","lineNumber":293,"content":"                  ),"},{"type":"INSERT","lineNumber":294,"content":"                ),"},{"type":"INSERT","lineNumber":295,"content":"                SizedBox(width: 6.w),"},{"type":"INSERT","lineNumber":296,"content":"                Container("},{"type":"INSERT","lineNumber":297,"content":"                  padding: EdgeInsets.symmetric(horizontal: 8.w, vertical: 4.h),"},{"type":"INSERT","lineNumber":298,"content":"                  decoration: BoxDecoration("},{"type":"DELETE","lineNumber":300,"oldContent":"                              ),"},{"type":"DELETE","lineNumber":301,"oldContent":"                              Text("},{"type":"DELETE","lineNumber":302,"oldContent":"                                style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":303,"oldContent":"                                  color: Colors.grey[600],"},{"type":"DELETE","lineNumber":304,"oldContent":"                                ),"},{"type":"DELETE","lineNumber":305,"oldContent":"                                maxLines: 1,"},{"type":"DELETE","lineNumber":306,"oldContent":"                              ),"},{"type":"DELETE","lineNumber":307,"oldContent":"                              const Spacer(),"},{"type":"DELETE","lineNumber":308,"oldContent":"                                children: ["},{"type":"DELETE","lineNumber":309,"oldContent":"                                  Container("},{"type":"DELETE","lineNumber":310,"oldContent":"                                    decoration: BoxDecoration("},{"type":"DELETE","lineNumber":311,"oldContent":"                                      color: Colors.orange,"},{"type":"DELETE","lineNumber":312,"oldContent":"                                    ),"},{"type":"INSERT","lineNumber":300,"content":"                    borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":301,"content":"                  ),"},{"type":"INSERT","lineNumber":302,"content":"                  child: Text("},{"type":"INSERT","lineNumber":303,"content":"                    'Stays',"},{"type":"INSERT","lineNumber":304,"content":"                    style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":305,"content":"                      color: Colors.white,"},{"type":"INSERT","lineNumber":306,"content":"                      fontSize: 10.sp,"},{"type":"INSERT","lineNumber":307,"content":"                      fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":308,"content":"                    ),"},{"type":"INSERT","lineNumber":309,"content":"                  ),"},{"type":"INSERT","lineNumber":310,"content":"                ),"},{"type":"INSERT","lineNumber":311,"content":"                const Spacer(),"},{"type":"INSERT","lineNumber":312,"content":"                Icon(Icons.arrow_forward_ios, color: Colors.grey[600], size: 16.sp),"},{"type":"DELETE","lineNumber":316,"oldContent":"                                        Icon(Icons.star, color: Colors.white, size: 10.sp),"},{"type":"DELETE","lineNumber":317,"oldContent":"                                        Text("},{"type":"DELETE","lineNumber":318,"oldContent":"                                          '4.8',"},{"type":"DELETE","lineNumber":319,"oldContent":"                                            color: Colors.white,"},{"type":"DELETE","lineNumber":320,"oldContent":"                                            fontSize: 8.sp,"},{"type":"DELETE","lineNumber":321,"oldContent":"                                          ),"},{"type":"DELETE","lineNumber":322,"oldContent":"                                        ),"},{"type":"DELETE","lineNumber":323,"oldContent":"                                    ),"},{"type":"DELETE","lineNumber":324,"oldContent":"                                  ),"},{"type":"DELETE","lineNumber":325,"oldContent":"                                  Text("},{"type":"INSERT","lineNumber":316,"content":"          SizedBox(height: 4.h),"},{"type":"INSERT","lineNumber":317,"content":"          Padding("},{"type":"INSERT","lineNumber":318,"content":"            padding: EdgeInsets.symmetric(horizontal: 16.w),"},{"type":"INSERT","lineNumber":319,"content":"            child: Text("},{"type":"INSERT","lineNumber":320,"content":"              'In AhlanFeekum',"},{"type":"INSERT","lineNumber":321,"content":"              style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":322,"content":"                color: AppColors.textPrimary,"},{"type":"INSERT","lineNumber":323,"content":"                fontSize: 14.sp,"},{"type":"INSERT","lineNumber":324,"content":"              ),"},{"type":"INSERT","lineNumber":325,"content":"            ),"},{"type":"DELETE","lineNumber":365,"oldContent":"              property.mainImageUrl!,"},{"type":"DELETE","lineNumber":366,"oldContent":"              width: double.infinity,"},{"type":"DELETE","lineNumber":367,"oldContent":"              height: double.infinity,"},{"type":"DELETE","lineNumber":368,"oldContent":"              fit: BoxFit.cover,"},{"type":"DELETE","lineNumber":369,"oldContent":"              errorBuilder: (context, error, stackTrace) {"},{"type":"DELETE","lineNumber":370,"oldContent":"                return Container("},{"type":"DELETE","lineNumber":371,"oldContent":"                  color: Colors.grey[300],"},{"type":"DELETE","lineNumber":372,"oldContent":"                  child: Icon("},{"type":"DELETE","lineNumber":373,"oldContent":"                    Icons.home,"},{"type":"DELETE","lineNumber":374,"oldContent":"                    color: Colors.grey[500],"},{"type":"DELETE","lineNumber":375,"oldContent":"                    size: 40.sp,"},{"type":"DELETE","lineNumber":376,"oldContent":"                );"},{"type":"DELETE","lineNumber":377,"oldContent":"              },"},{"type":"DELETE","lineNumber":378,"oldContent":"            )"},{"type":"INSERT","lineNumber":365,"content":"                    property.mainImageUrl!,"},{"type":"INSERT","lineNumber":366,"content":"                    width: double.infinity,"},{"type":"INSERT","lineNumber":367,"content":"                    height: double.infinity,"},{"type":"INSERT","lineNumber":368,"content":"                    fit: BoxFit.cover,"},{"type":"INSERT","lineNumber":369,"content":"                    errorBuilder: (context, error, stackTrace) {"},{"type":"INSERT","lineNumber":370,"content":"                      return Container("},{"type":"INSERT","lineNumber":371,"content":"                        color: Colors.grey[300],"},{"type":"INSERT","lineNumber":372,"content":"                        child: Icon("},{"type":"INSERT","lineNumber":373,"content":"                          Icons.home,"},{"type":"INSERT","lineNumber":374,"content":"                          color: Colors.grey[500],"},{"type":"INSERT","lineNumber":375,"content":"                          size: 40.sp,"},{"type":"INSERT","lineNumber":376,"content":"                        ),"},{"type":"INSERT","lineNumber":377,"content":"                      );"},{"type":"INSERT","lineNumber":378,"content":"                    },"},{"type":"INSERT","lineNumber":379,"content":"                  )"},{"type":"DELETE","lineNumber":380,"oldContent":"              color: Colors.grey[300],"},{"type":"DELETE","lineNumber":381,"oldContent":"              width: double.infinity,"},{"type":"DELETE","lineNumber":382,"oldContent":"              height: double.infinity,"},{"type":"DELETE","lineNumber":383,"oldContent":"              child: Icon("},{"type":"DELETE","lineNumber":384,"oldContent":"                Icons.home,"},{"type":"DELETE","lineNumber":385,"oldContent":"                color: Colors.grey[500],"},{"type":"DELETE","lineNumber":386,"oldContent":"                size: 40.sp,"},{"type":"DELETE","lineNumber":387,"oldContent":"              ),"},{"type":"DELETE","lineNumber":388,"oldContent":"            ),"},{"type":"INSERT","lineNumber":381,"content":"                    color: Colors.grey[300],"},{"type":"INSERT","lineNumber":382,"content":"                    width: double.infinity,"},{"type":"INSERT","lineNumber":383,"content":"                    height: double.infinity,"},{"type":"INSERT","lineNumber":384,"content":"                    child: Icon("},{"type":"INSERT","lineNumber":385,"content":"                      Icons.home,"},{"type":"INSERT","lineNumber":386,"content":"                      color: Colors.grey[500],"},{"type":"INSERT","lineNumber":387,"content":"                      size: 40.sp,"},{"type":"INSERT","lineNumber":388,"content":"                    ),"},{"type":"DELETE","lineNumber":489,"oldContent":"                                  style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":490,"content":"          Padding("},{"type":"DELETE","lineNumber":518,"oldContent":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"DELETE","lineNumber":520,"oldContent":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":519,"content":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"INSERT","lineNumber":521,"content":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"DELETE","lineNumber":562,"oldContent":"                    property.mainImageUrl!,"},{"type":"DELETE","lineNumber":563,"oldContent":"                    width: 155.w,"},{"type":"DELETE","lineNumber":564,"oldContent":"                    height: 148.h,"},{"type":"DELETE","lineNumber":565,"oldContent":"                    fit: BoxFit.cover,"},{"type":"DELETE","lineNumber":566,"oldContent":"                    errorBuilder: (context, error, stackTrace) {"},{"type":"DELETE","lineNumber":567,"oldContent":"                      return Container("},{"type":"DELETE","lineNumber":568,"oldContent":"                        width: 155.w,"},{"type":"DELETE","lineNumber":569,"oldContent":"                        height: 148.h,"},{"type":"DELETE","lineNumber":570,"oldContent":"                        color: Colors.grey[300],"},{"type":"DELETE","lineNumber":571,"oldContent":"                        child: Icon("},{"type":"DELETE","lineNumber":572,"oldContent":"                          Icons.home,"},{"type":"DELETE","lineNumber":573,"oldContent":"                          color: Colors.grey[500],"},{"type":"DELETE","lineNumber":574,"oldContent":"                          size: 30.sp,"},{"type":"DELETE","lineNumber":575,"oldContent":"                      );"},{"type":"DELETE","lineNumber":576,"oldContent":"                    },"},{"type":"DELETE","lineNumber":577,"oldContent":"                  )"},{"type":"INSERT","lineNumber":562,"content":"                          property.mainImageUrl!,"},{"type":"INSERT","lineNumber":563,"content":"                          width: 155.w,"},{"type":"INSERT","lineNumber":564,"content":"                          height: 148.h,"},{"type":"INSERT","lineNumber":565,"content":"                          fit: BoxFit.cover,"},{"type":"INSERT","lineNumber":566,"content":"                          errorBuilder: (context, error, stackTrace) {"},{"type":"INSERT","lineNumber":567,"content":"                            return Container("},{"type":"INSERT","lineNumber":568,"content":"                              width: 155.w,"},{"type":"INSERT","lineNumber":569,"content":"                              height: 148.h,"},{"type":"INSERT","lineNumber":570,"content":"                              color: Colors.grey[300],"},{"type":"INSERT","lineNumber":571,"content":"                              child: Icon("},{"type":"INSERT","lineNumber":572,"content":"                                Icons.home,"},{"type":"INSERT","lineNumber":573,"content":"                                color: Colors.grey[500],"},{"type":"INSERT","lineNumber":574,"content":"                                size: 30.sp,"},{"type":"INSERT","lineNumber":575,"content":"                              ),"},{"type":"INSERT","lineNumber":576,"content":"                            );"},{"type":"INSERT","lineNumber":577,"content":"                          },"},{"type":"INSERT","lineNumber":578,"content":"                        )"},{"type":"DELETE","lineNumber":579,"oldContent":"                    width: 155.w,"},{"type":"DELETE","lineNumber":580,"oldContent":"                    height: 148.h,"},{"type":"DELETE","lineNumber":581,"oldContent":"                    color: Colors.grey[300],"},{"type":"DELETE","lineNumber":582,"oldContent":"                    child: Icon("},{"type":"DELETE","lineNumber":583,"oldContent":"                      Icons.home,"},{"type":"DELETE","lineNumber":584,"oldContent":"                      color: Colors.grey[500],"},{"type":"DELETE","lineNumber":585,"oldContent":"                      size: 30.sp,"},{"type":"DELETE","lineNumber":586,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":587,"oldContent":"                  ),"},{"type":"INSERT","lineNumber":580,"content":"                          width: 155.w,"},{"type":"INSERT","lineNumber":581,"content":"                          height: 148.h,"},{"type":"INSERT","lineNumber":582,"content":"                          color: Colors.grey[300],"},{"type":"INSERT","lineNumber":583,"content":"                          child: Icon("},{"type":"INSERT","lineNumber":584,"content":"                            Icons.home,"},{"type":"INSERT","lineNumber":585,"content":"                            color: Colors.grey[500],"},{"type":"INSERT","lineNumber":586,"content":"                            size: 30.sp,"},{"type":"INSERT","lineNumber":587,"content":"                          ),"},{"type":"MODIFY","lineNumber":592,"content":"                  top: 8.h,","oldContent":""},{"type":"INSERT","lineNumber":593,"content":"                  right: 8.w,"},{"type":"INSERT","lineNumber":602,"content":"                        shape: BoxShape.circle,"},{"type":"DELETE","lineNumber":602,"oldContent":"                      ),"},{"type":"INSERT","lineNumber":614,"content":"          ),"},{"type":"DELETE","lineNumber":614,"oldContent":"          // Property details section - remaining height (251 - 148 = 103)"},{"type":"DELETE","lineNumber":625,"oldContent":"                      borderRadius: BorderRadius.circular(4.r),"},{"type":"INSERT","lineNumber":627,"content":"                      borderRadius: BorderRadius.circular(4.r),"},{"type":"INSERT","lineNumber":644,"content":"                  ),"},{"type":"DELETE","lineNumber":644,"oldContent":"                  SizedBox(height: 4.h),"},{"type":"INSERT","lineNumber":654,"content":"                    overflow: TextOverflow.ellipsis,"},{"type":"DELETE","lineNumber":654,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":668,"oldContent":"                      Icon(Icons.straighten, color: Colors.grey[500], size: 12.sp),"},{"type":"MODIFY","lineNumber":670,"content":"                      Icon(Icons.straighten, color: Colors.grey[500], size: 12.sp),","oldContent":"                      Text("},{"type":"INSERT","lineNumber":672,"content":"                      Text("},{"type":"INSERT","lineNumber":674,"content":"                        style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":674,"oldContent":"                          color: Colors.grey[600],"},{"type":"INSERT","lineNumber":690,"content":"                ],"},{"type":"DELETE","lineNumber":690,"oldContent":"              ),"},{"type":"INSERT","lineNumber":712,"content":"                'Discover Your Ideal Stay',"},{"type":"DELETE","lineNumber":712,"oldContent":"                style: AppTextStyles.h4.copyWith("},{"type":"DELETE","lineNumber":726,"oldContent":"              itemBuilder: (context, index) {"},{"type":"INSERT","lineNumber":728,"content":"              itemBuilder: (context, index) {"},{"type":"DELETE","lineNumber":739,"oldContent":"                      ),"},{"type":"INSERT","lineNumber":741,"content":"                      ),"},{"type":"DELETE","lineNumber":743,"oldContent":"                decoration: BoxDecoration("},{"type":"MODIFY","lineNumber":744,"content":"                  child: Stack(","oldContent":"                height: 6.h,"},{"type":"INSERT","lineNumber":745,"content":"                    children: ["},{"type":"INSERT","lineNumber":780,"content":"                          borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":780,"oldContent":"                          gradient: LinearGradient("},{"type":"INSERT","lineNumber":811,"content":"        ],"},{"type":"DELETE","lineNumber":811,"oldContent":"      ),"},{"type":"DELETE","lineNumber":821,"oldContent":"            children: ["},{"type":"DELETE","lineNumber":823,"oldContent":"                              },"},{"type":"DELETE","lineNumber":824,"oldContent":"                                );"},{"type":"DELETE","lineNumber":825,"oldContent":"                                    child: Icon(Icons.star, color: Colors.white, size: 40),"},{"type":"DELETE","lineNumber":826,"oldContent":"                                  ),"},{"type":"DELETE","lineNumber":827,"oldContent":"                                    borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":823,"content":"            children: ["},{"type":"INSERT","lineNumber":824,"content":"              Container("},{"type":"INSERT","lineNumber":825,"content":"                padding: EdgeInsets.all(6.w),"},{"type":"INSERT","lineNumber":826,"content":"                decoration: BoxDecoration("},{"type":"INSERT","lineNumber":827,"content":"                  color: Colors.orange[100],"},{"type":"INSERT","lineNumber":828,"content":"                  borderRadius: BorderRadius.circular(8.r),"},{"type":"INSERT","lineNumber":836,"content":"                  color: AppColors.textPrimary,"},{"type":"DELETE","lineNumber":836,"oldContent":"                  fontSize: 16.sp,"},{"type":"INSERT","lineNumber":839,"content":"              ),"},{"type":"DELETE","lineNumber":839,"oldContent":"              const Spacer(),"},{"type":"DELETE","lineNumber":843,"oldContent":"                      decoration: BoxDecoration("},{"type":"INSERT","lineNumber":844,"content":"          SizedBox(height: 20.h),"},{"type":"DELETE","lineNumber":845,"oldContent":"                      margin: EdgeInsets.only(left: 4.w),"},{"type":"INSERT","lineNumber":846,"content":"            mainAxisAlignment: MainAxisAlignment.spaceEvenly,"},{"type":"DELETE","lineNumber":848,"oldContent":"                              ],"},{"type":"DELETE","lineNumber":849,"oldContent":"                                ),"},{"type":"DELETE","lineNumber":850,"oldContent":"                                  'Limited Time',"},{"type":"INSERT","lineNumber":849,"content":"                imageUrl: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face',"},{"type":"INSERT","lineNumber":850,"content":"                name: 'Sara Mialli',"},{"type":"INSERT","lineNumber":851,"content":"                rating: 4.9,"},{"type":"DELETE","lineNumber":853,"oldContent":"                              },"},{"type":"MODIFY","lineNumber":854,"content":"                imageUrl: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face',","oldContent":"                                  color: Colors.grey[400],"},{"type":"INSERT","lineNumber":855,"content":"                name: 'Ahmad Refai',"},{"type":"DELETE","lineNumber":872,"oldContent":"                              color: Colors.white,"},{"type":"DELETE","lineNumber":873,"oldContent":"                            'Only For You',"},{"type":"DELETE","lineNumber":874,"oldContent":"                        children: ["},{"type":"DELETE","lineNumber":875,"oldContent":"                      borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":876,"oldContent":"                  children: ["},{"type":"DELETE","lineNumber":877,"oldContent":"                ),"},{"type":"DELETE","lineNumber":878,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":879,"oldContent":"                    begin: Alignment.topLeft,"},{"type":"DELETE","lineNumber":880,"oldContent":"                  gradient: LinearGradient("},{"type":"DELETE","lineNumber":881,"oldContent":"                decoration: BoxDecoration("},{"type":"DELETE","lineNumber":882,"oldContent":"                height: 120.h,"},{"type":"DELETE","lineNumber":883,"oldContent":"              Container("},{"type":"DELETE","lineNumber":884,"oldContent":"            children: ["},{"type":"DELETE","lineNumber":885,"oldContent":"          SizedBox(height: 16.h),"},{"type":"INSERT","lineNumber":873,"content":"          decoration: BoxDecoration("},{"type":"INSERT","lineNumber":874,"content":"            shape: BoxShape.circle,"},{"type":"INSERT","lineNumber":875,"content":"            boxShadow: ["},{"type":"INSERT","lineNumber":876,"content":"              BoxShadow("},{"type":"INSERT","lineNumber":877,"content":"                color: Colors.grey.withValues(alpha: 0.2),"},{"type":"INSERT","lineNumber":878,"content":"                spreadRadius: 2,"},{"type":"INSERT","lineNumber":879,"content":"                blurRadius: 8,"},{"type":"INSERT","lineNumber":880,"content":"                offset: const Offset(0, 3),"},{"type":"INSERT","lineNumber":881,"content":"              ),"},{"type":"INSERT","lineNumber":882,"content":"            ],"},{"type":"INSERT","lineNumber":884,"content":"          child: CircleAvatar("},{"type":"INSERT","lineNumber":885,"content":"            radius: 28.r,"},{"type":"INSERT","lineNumber":886,"content":"            backgroundColor: Colors.grey[200],"},{"type":"INSERT","lineNumber":887,"content":"            backgroundImage: NetworkImage(imageUrl),"},{"type":"DELETE","lineNumber":888,"oldContent":"              SizedBox(width: 4.w),"},{"type":"DELETE","lineNumber":889,"oldContent":"                ),"},{"type":"DELETE","lineNumber":890,"oldContent":"                  color: AppColors.textPrimary,"},{"type":"DELETE","lineNumber":891,"oldContent":"                'Only For You',"},{"type":"DELETE","lineNumber":892,"oldContent":"              SizedBox(width: 8.w),"},{"type":"DELETE","lineNumber":893,"oldContent":"              ),"},{"type":"DELETE","lineNumber":894,"oldContent":"                ),"},{"type":"DELETE","lineNumber":895,"oldContent":"                  borderRadius: BorderRadius.circular(8.r),"},{"type":"DELETE","lineNumber":896,"oldContent":"                decoration: BoxDecoration("},{"type":"DELETE","lineNumber":897,"oldContent":"                padding: EdgeInsets.all(6.w),"},{"type":"DELETE","lineNumber":898,"oldContent":"              Container("},{"type":"INSERT","lineNumber":889,"content":"        ),"},{"type":"INSERT","lineNumber":890,"content":"        SizedBox(height: 8.h),"},{"type":"INSERT","lineNumber":891,"content":"        Text("},{"type":"INSERT","lineNumber":892,"content":"          name,"},{"type":"INSERT","lineNumber":893,"content":"          style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":894,"content":"            color: AppColors.textPrimary,"},{"type":"INSERT","lineNumber":895,"content":"            fontSize: 12.sp,"},{"type":"INSERT","lineNumber":896,"content":"            fontWeight: FontWeight.w600,"},{"type":"INSERT","lineNumber":897,"content":"          ),"},{"type":"INSERT","lineNumber":898,"content":"        ),"},{"type":"INSERT","lineNumber":899,"content":"        SizedBox(height: 2.h),"},{"type":"INSERT","lineNumber":924,"content":"          Row("},{"type":"DELETE","lineNumber":924,"oldContent":"            children: ["},{"type":"DELETE","lineNumber":934,"oldContent":"                            end: Alignment.topCenter,"},{"type":"DELETE","lineNumber":935,"oldContent":"                            ],"},{"type":"DELETE","lineNumber":936,"oldContent":"                              Colors.black.withValues(alpha: 0.4),"},{"type":"DELETE","lineNumber":937,"oldContent":"                            colors: ["},{"type":"DELETE","lineNumber":938,"oldContent":"                          borderRadius: BorderRadius.circular(16.r),"},{"type":"DELETE","lineNumber":939,"oldContent":"                      Container("},{"type":"DELETE","lineNumber":940,"oldContent":"                      // Overlay for better text readability"},{"type":"DELETE","lineNumber":941,"oldContent":"                  child: Stack("},{"type":"DELETE","lineNumber":942,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":943,"oldContent":""},{"type":"DELETE","lineNumber":944,"oldContent":"}"},{"type":"DELETE","lineNumber":945,"oldContent":"  @override"},{"type":"DELETE","lineNumber":946,"oldContent":""},{"type":"DELETE","lineNumber":947,"oldContent":""},{"type":"DELETE","lineNumber":948,"oldContent":"class _AdvertisementBannerWidget extends StatefulWidget {"},{"type":"DELETE","lineNumber":949,"oldContent":"    );"},{"type":"DELETE","lineNumber":950,"oldContent":"        ],"},{"type":"INSERT","lineNumber":935,"content":"              Text("},{"type":"INSERT","lineNumber":936,"content":"                'Only For You',"},{"type":"INSERT","lineNumber":937,"content":"                style: AppTextStyles.h4.copyWith("},{"type":"INSERT","lineNumber":938,"content":"                  color: AppColors.textPrimary,"},{"type":"INSERT","lineNumber":939,"content":"                  fontSize: 16.sp,"},{"type":"INSERT","lineNumber":940,"content":"                ),"},{"type":"INSERT","lineNumber":941,"content":"              ),"},{"type":"INSERT","lineNumber":942,"content":"              SizedBox(width: 4.w),"},{"type":"INSERT","lineNumber":943,"content":"              Icon(Icons.favorite, color: AppColors.primary, size: 16.sp),"},{"type":"INSERT","lineNumber":944,"content":"              const Spacer(),"},{"type":"INSERT","lineNumber":945,"content":"              Icon(Icons.arrow_forward_ios, color: Colors.grey[600], size: 16.sp),"},{"type":"DELETE","lineNumber":952,"oldContent":"                ],"},{"type":"DELETE","lineNumber":953,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":954,"oldContent":"                        ],"},{"type":"DELETE","lineNumber":955,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":956,"oldContent":"                            ),"},{"type":"DELETE","lineNumber":957,"oldContent":"                                );"},{"type":"DELETE","lineNumber":958,"oldContent":"                                  ),"},{"type":"DELETE","lineNumber":959,"oldContent":"                                  child: const Center("},{"type":"DELETE","lineNumber":960,"oldContent":"                                  ),"},{"type":"DELETE","lineNumber":961,"oldContent":"                                    borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":962,"oldContent":"                                  decoration: BoxDecoration("},{"type":"DELETE","lineNumber":963,"oldContent":"                              errorBuilder: (context, error, stackTrace) {"},{"type":"DELETE","lineNumber":964,"oldContent":"                              fit: BoxFit.cover,"},{"type":"DELETE","lineNumber":965,"oldContent":"                              height: double.infinity,"},{"type":"DELETE","lineNumber":966,"oldContent":"                              onlyForYou.thirdPhotoUrl,"},{"type":"INSERT","lineNumber":947,"content":"          ),"},{"type":"INSERT","lineNumber":948,"content":"          SizedBox(height: 16.h),"},{"type":"INSERT","lineNumber":949,"content":"          Column("},{"type":"INSERT","lineNumber":950,"content":"            children: ["},{"type":"INSERT","lineNumber":951,"content":"              // First large card"},{"type":"INSERT","lineNumber":952,"content":"              Container("},{"type":"INSERT","lineNumber":953,"content":"                width: double.infinity,"},{"type":"INSERT","lineNumber":954,"content":"                height: 120.h,"},{"type":"INSERT","lineNumber":955,"content":"                margin: EdgeInsets.only(bottom: 8.h),"},{"type":"INSERT","lineNumber":956,"content":"                decoration: BoxDecoration("},{"type":"INSERT","lineNumber":957,"content":"                  borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":958,"content":"                  gradient: LinearGradient("},{"type":"INSERT","lineNumber":959,"content":"                    colors: [Colors.green[300]!, Colors.green[600]!],"},{"type":"INSERT","lineNumber":960,"content":"                    begin: Alignment.topLeft,"},{"type":"INSERT","lineNumber":961,"content":"                    end: Alignment.bottomRight,"},{"type":"INSERT","lineNumber":962,"content":"                  ),"},{"type":"INSERT","lineNumber":963,"content":"                ),"},{"type":"INSERT","lineNumber":964,"content":"                child: Stack("},{"type":"INSERT","lineNumber":965,"content":"                  children: ["},{"type":"INSERT","lineNumber":966,"content":"                    ClipRRect("},{"type":"INSERT","lineNumber":967,"content":"                      borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":987,"content":"                    Positioned("},{"type":"DELETE","lineNumber":987,"oldContent":"                      bottom: 12.h,"},{"type":"INSERT","lineNumber":1005,"content":"                              fontSize: 12.sp,"},{"type":"DELETE","lineNumber":1005,"oldContent":"                            ),"},{"type":"INSERT","lineNumber":1013,"content":"              ),"},{"type":"DELETE","lineNumber":1013,"oldContent":"              // Bottom row with two cards"},{"type":"INSERT","lineNumber":1024,"content":"                      ),"},{"type":"DELETE","lineNumber":1024,"oldContent":"                      child: Stack("},{"type":"INSERT","lineNumber":1029,"content":"                            child: Image.network("},{"type":"DELETE","lineNumber":1029,"oldContent":"                              onlyForYou.secondPhotoUrl,"},{"type":"DELETE","lineNumber":1033,"oldContent":"                                return Container("},{"type":"INSERT","lineNumber":1035,"content":"                                return Container("},{"type":"INSERT","lineNumber":1047,"content":"                                Text("},{"type":"DELETE","lineNumber":1047,"oldContent":"                                  'Special Offer',"},{"type":"INSERT","lineNumber":1061,"content":"                                ),"},{"type":"DELETE","lineNumber":1061,"oldContent":"                              ],"},{"type":"INSERT","lineNumber":1106,"content":"                              children: ["},{"type":"DELETE","lineNumber":1106,"oldContent":"                                Text("},{"type":"DELETE","lineNumber":1108,"oldContent":"                                    fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":1109,"content":"                                  style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":1110,"content":"                                    color: Colors.white,"},{"type":"DELETE","lineNumber":1111,"oldContent":"                                    color: Colors.white,"},{"type":"INSERT","lineNumber":1119,"content":"                                  style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":1120,"oldContent":"                                  style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":1126,"oldContent":"                            bottom: 8.h,"},{"type":"DELETE","lineNumber":1128,"oldContent":"                            right: 8.w,"},{"type":"INSERT","lineNumber":1130,"content":"                            bottom: 8.h,"},{"type":"INSERT","lineNumber":1131,"content":"                            right: 8.w,"},{"type":"INSERT","lineNumber":1143,"content":"                                  fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":1143,"oldContent":"                                ),"},{"type":"DELETE","lineNumber":1146,"oldContent":"                          gradient: LinearGradient("},{"type":"DELETE","lineNumber":1147,"oldContent":"                        decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1148,"oldContent":"                      Container("},{"type":"DELETE","lineNumber":1149,"oldContent":"                    children: ["},{"type":"DELETE","lineNumber":1150,"oldContent":"                  child: Stack("},{"type":"DELETE","lineNumber":1151,"oldContent":"                        : null,"},{"type":"DELETE","lineNumber":1152,"oldContent":"            child: PageView.builder("},{"type":"DELETE","lineNumber":1153,"oldContent":"          Container("},{"type":"DELETE","lineNumber":1154,"oldContent":"      child: Column("},{"type":"DELETE","lineNumber":1155,"oldContent":"    return Container("},{"type":"DELETE","lineNumber":1156,"oldContent":"  @override"},{"type":"INSERT","lineNumber":1147,"content":"                          ),"},{"type":"INSERT","lineNumber":1148,"content":"                        ],"},{"type":"INSERT","lineNumber":1149,"content":"                      ),"},{"type":"INSERT","lineNumber":1150,"content":"                    ),"},{"type":"INSERT","lineNumber":1151,"content":"                  ),"},{"type":"INSERT","lineNumber":1152,"content":"                ],"},{"type":"INSERT","lineNumber":1153,"content":"              ),"},{"type":"INSERT","lineNumber":1154,"content":"            ],"},{"type":"INSERT","lineNumber":1155,"content":"          ),"},{"type":"INSERT","lineNumber":1156,"content":"        ],"},{"type":"INSERT","lineNumber":1157,"content":"      ),"},{"type":"INSERT","lineNumber":1158,"content":"    );"},{"type":"DELETE","lineNumber":1158,"oldContent":"    _pageController.dispose();"},{"type":"DELETE","lineNumber":1159,"oldContent":"  @override"},{"type":"DELETE","lineNumber":1160,"oldContent":"  int _currentPage = 0;"},{"type":"DELETE","lineNumber":1161,"oldContent":"  final PageController _pageController = PageController();"},{"type":"DELETE","lineNumber":1162,"oldContent":"class _AdvertisementBannerWidgetState extends State<_AdvertisementBannerWidget> {"},{"type":"DELETE","lineNumber":1164,"oldContent":"}"},{"type":"DELETE","lineNumber":1165,"oldContent":"  }"},{"type":"DELETE","lineNumber":1166,"oldContent":"                      ? AppColors.primary "},{"type":"DELETE","lineNumber":1167,"oldContent":"                  color: _currentPage == index "},{"type":"INSERT","lineNumber":1161,"content":"  String _getLocationImageUrl(String locationName) {"},{"type":"INSERT","lineNumber":1162,"content":"    // Map of Syrian cities to appropriate Unsplash images"},{"type":"INSERT","lineNumber":1163,"content":"    const locationImages = {"},{"type":"INSERT","lineNumber":1164,"content":"      'Damascus': 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop',"},{"type":"INSERT","lineNumber":1165,"content":"      'Daraa': 'https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=400&h=300&fit=crop',"},{"type":"INSERT","lineNumber":1166,"content":"      'Latakia': 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop',"},{"type":"INSERT","lineNumber":1167,"content":"      'Aleppo': 'https://images.unsplash.com/photo-1573047733774-3b2d3c3b3d0f?w=400&h=300&fit=crop',"},{"type":"INSERT","lineNumber":1168,"content":"      'Homs': 'https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=400&h=300&fit=crop',"},{"type":"MODIFY","lineNumber":1172,"content":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';","oldContent":"        'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"DELETE","lineNumber":1177,"oldContent":"                );"},{"type":"INSERT","lineNumber":1178,"content":""},{"type":"DELETE","lineNumber":1193,"oldContent":"  Widget build(BuildContext context) {"},{"type":"DELETE","lineNumber":1195,"oldContent":"    return Container("},{"type":"DELETE","lineNumber":1197,"oldContent":"                            borderRadius: BorderRadius.circular(4.r),"},{"type":"DELETE","lineNumber":1198,"oldContent":"                          decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1199,"oldContent":"                          padding: EdgeInsets.symmetric(horizontal: 8.w, vertical: 4.h),"},{"type":"DELETE","lineNumber":1200,"oldContent":"                        top: 16.h,"},{"type":"INSERT","lineNumber":1196,"content":"  Widget build(BuildContext context) {"},{"type":"INSERT","lineNumber":1197,"content":"    return Container("},{"type":"INSERT","lineNumber":1198,"content":"      margin: EdgeInsets.symmetric(horizontal: 16.w),"},{"type":"INSERT","lineNumber":1199,"content":"      child: Column("},{"type":"INSERT","lineNumber":1200,"content":"        children: ["},{"type":"INSERT","lineNumber":1201,"content":"          Container("},{"type":"INSERT","lineNumber":1202,"content":"            height: 140.h,"},{"type":"DELETE","lineNumber":1202,"oldContent":"            child: PageView.builder("},{"type":"DELETE","lineNumber":1210,"oldContent":"                final ad = widget.ads[index];"},{"type":"INSERT","lineNumber":1212,"content":"                final ad = widget.ads[index];"},{"type":"DELETE","lineNumber":1218,"oldContent":"                      image: NetworkImage(ad.imageUrl),"},{"type":"DELETE","lineNumber":1219,"oldContent":"                      fit: BoxFit.cover,"},{"type":"DELETE","lineNumber":1220,"oldContent":"                    )"},{"type":"INSERT","lineNumber":1219,"content":"                            image: NetworkImage(ad.imageUrl),"},{"type":"INSERT","lineNumber":1220,"content":"                            fit: BoxFit.cover,"},{"type":"INSERT","lineNumber":1221,"content":"                          )"},{"type":"DELETE","lineNumber":1224,"oldContent":"                      colors: [Colors.orange[400]!, Colors.orange[600]!],"},{"type":"DELETE","lineNumber":1225,"oldContent":"                      begin: Alignment.topLeft,"},{"type":"DELETE","lineNumber":1226,"oldContent":"                      end: Alignment.bottomRight,"},{"type":"DELETE","lineNumber":1227,"oldContent":"                    )"},{"type":"INSERT","lineNumber":1225,"content":"                            colors: [Colors.orange[400]!, Colors.orange[600]!],"},{"type":"INSERT","lineNumber":1226,"content":"                            begin: Alignment.topLeft,"},{"type":"INSERT","lineNumber":1227,"content":"                            end: Alignment.bottomRight,"},{"type":"INSERT","lineNumber":1228,"content":"                          )"},{"type":"INSERT","lineNumber":1230,"content":"                  ),"},{"type":"DELETE","lineNumber":1236,"oldContent":"              ),"},{"type":"INSERT","lineNumber":1247,"content":"                      Positioned("},{"type":"DELETE","lineNumber":1247,"oldContent":"                        left: 16.w,"},{"type":"INSERT","lineNumber":1251,"content":"                          padding: EdgeInsets.symmetric(horizontal: 8.w, vertical: 4.h),"},{"type":"DELETE","lineNumber":1251,"oldContent":"                          decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1253,"oldContent":"                              ad.propertyTitle.isNotEmpty ? ad.propertyTitle : 'Featured Property',"},{"type":"DELETE","lineNumber":1254,"oldContent":"                      Positioned("},{"type":"DELETE","lineNumber":1255,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":1256,"oldContent":"              ),"},{"type":"DELETE","lineNumber":1257,"oldContent":"          // Page indicators"},{"type":"INSERT","lineNumber":1254,"content":"                            borderRadius: BorderRadius.circular(4.r),"},{"type":"INSERT","lineNumber":1255,"content":"                          ),"},{"type":"INSERT","lineNumber":1256,"content":"                          child: Text("},{"type":"INSERT","lineNumber":1257,"content":"                            'Special Advertisement Goes Here',"},{"type":"INSERT","lineNumber":1258,"content":"                            style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":1272,"oldContent":"                              ),"},{"type":"INSERT","lineNumber":1273,"content":"                              ad.propertyTitle.isNotEmpty ? ad.propertyTitle : 'Featured Property',"},{"type":"INSERT","lineNumber":1274,"content":"                              style: AppTextStyles.h3.copyWith("},{"type":"INSERT","lineNumber":1275,"content":"                                color: Colors.white,"},{"type":"INSERT","lineNumber":1276,"content":"                                fontSize: 18.sp,"},{"type":"DELETE","lineNumber":1274,"oldContent":"          ),"},{"type":"DELETE","lineNumber":1275,"oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"DELETE","lineNumber":1276,"oldContent":"                            Text("},{"type":"DELETE","lineNumber":1277,"oldContent":"          ),"},{"type":"DELETE","lineNumber":1278,"oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"MODIFY","lineNumber":1279,"content":"                            ),","oldContent":"          ),"},{"type":"INSERT","lineNumber":1280,"content":"                            SizedBox(height: 4.h),"},{"type":"INSERT","lineNumber":1281,"content":"                            Text("},{"type":"DELETE","lineNumber":1282,"oldContent":"                                color: Colors.white.withValues(alpha: 0.9),"},{"type":"INSERT","lineNumber":1284,"content":"                                color: Colors.white.withValues(alpha: 0.9),"},{"type":"INSERT","lineNumber":1285,"content":"                                fontSize: 12.sp,"},{"type":"DELETE","lineNumber":1285,"oldContent":"  }"},{"type":"DELETE","lineNumber":1294,"oldContent":"          ),"},{"type":"INSERT","lineNumber":1296,"content":"          ),"},{"type":"MODIFY","lineNumber":1303,"content":"              (index) => AnimatedContainer(","oldContent":"                  (index) => AnimatedContainer("},{"type":"DELETE","lineNumber":1313,"oldContent":"    );"},{"type":"MODIFY","lineNumber":1316,"content":"          ),","oldContent":"      ),"},{"type":"INSERT","lineNumber":1318,"content":"      ),"},{"type":"INSERT","lineNumber":1319,"content":"    );"},{"type":"INSERT","lineNumber":1320,"content":"  }"},{"type":"INSERT","lineNumber":1321,"content":"}"},{"type":"INSERT","lineNumber":1322,"content":""}]},{"timestamp":1758301759812,"changes":[{"type":"DELETE","lineNumber":26,"oldContent":"      },"},{"type":"DELETE","lineNumber":28,"oldContent":"      child: Scaffold("},{"type":"DELETE","lineNumber":30,"oldContent":"        appBar: null,"},{"type":"INSERT","lineNumber":29,"content":"      },"},{"type":"INSERT","lineNumber":30,"content":"      child: Scaffold("},{"type":"INSERT","lineNumber":31,"content":"        appBar: null,"},{"type":"MODIFY","lineNumber":68,"content":"              if (state is HomeLoaded) {","oldContent":"                },"},{"type":"DELETE","lineNumber":129,"oldContent":"          ),"},{"type":"INSERT","lineNumber":131,"content":"          ),"},{"type":"INSERT","lineNumber":260,"content":""},{"type":"INSERT","lineNumber":261,"content":""},{"type":"DELETE","lineNumber":263,"oldContent":""},{"type":"DELETE","lineNumber":270,"oldContent":""},{"type":"MODIFY","lineNumber":490,"content":"          Padding(","oldContent":"          Padding("},{"type":"MODIFY","lineNumber":501,"content":"                  ),","oldContent":""},{"type":"DELETE","lineNumber":518,"oldContent":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"DELETE","lineNumber":520,"oldContent":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":519,"content":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"INSERT","lineNumber":521,"content":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"DELETE","lineNumber":599,"oldContent":"                      padding: EdgeInsets.all(4.w),"},{"type":"MODIFY","lineNumber":602,"content":"                      ),","oldContent":"                      ),"},{"type":"MODIFY","lineNumber":614,"content":"          // Property details section - remaining height (251 - 148 = 103)","oldContent":"          // Property details section - remaining height (251 - 148 = 103)"},{"type":"MODIFY","lineNumber":644,"content":"                  SizedBox(height: 4.h),","oldContent":"                  SizedBox(height: 4.h),"},{"type":"MODIFY","lineNumber":654,"content":"                  ),","oldContent":"                  ),"},{"type":"MODIFY","lineNumber":674,"content":"                          color: Colors.grey[600],","oldContent":"                          color: Colors.grey[600],"},{"type":"DELETE","lineNumber":679,"oldContent":"  }"},{"type":"DELETE","lineNumber":680,"oldContent":"      ),"},{"type":"INSERT","lineNumber":678,"content":"                    ],"},{"type":"INSERT","lineNumber":679,"content":"                  ),"},{"type":"MODIFY","lineNumber":690,"content":"              ),","oldContent":"              ),"},{"type":"MODIFY","lineNumber":712,"content":"                style: AppTextStyles.h4.copyWith(","oldContent":"                style: AppTextStyles.h4.copyWith("},{"type":"MODIFY","lineNumber":780,"content":"                          gradient: LinearGradient(","oldContent":"                          gradient: LinearGradient("},{"type":"MODIFY","lineNumber":811,"content":"      ),","oldContent":"      ),"},{"type":"DELETE","lineNumber":835,"oldContent":"                      margin: EdgeInsets.only(left: 4.w),"},{"type":"DELETE","lineNumber":836,"oldContent":"                  fontSize: 16.sp,"},{"type":"INSERT","lineNumber":834,"content":"                style: AppTextStyles.h4.copyWith("},{"type":"DELETE","lineNumber":838,"oldContent":"                                  'Special Offer',"},{"type":"DELETE","lineNumber":839,"oldContent":"              const Spacer(),"},{"type":"INSERT","lineNumber":836,"content":"                  fontSize: 16.sp,"},{"type":"INSERT","lineNumber":837,"content":"                ),"},{"type":"INSERT","lineNumber":839,"content":"              const Spacer(),"},{"type":"DELETE","lineNumber":858,"oldContent":"                            style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":859,"oldContent":"                          Text("},{"type":"DELETE","lineNumber":860,"oldContent":"                            ),"},{"type":"DELETE","lineNumber":861,"oldContent":"                              ),"},{"type":"DELETE","lineNumber":862,"oldContent":"                                begin: Alignment.topLeft,"},{"type":"DELETE","lineNumber":863,"oldContent":"                                colors: [Colors.green[300]!, Colors.green[600]!],"},{"type":"DELETE","lineNumber":864,"oldContent":"                              borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":857,"content":"            ],"},{"type":"INSERT","lineNumber":858,"content":"          ),"},{"type":"INSERT","lineNumber":859,"content":"        ],"},{"type":"INSERT","lineNumber":860,"content":"      ),"},{"type":"INSERT","lineNumber":861,"content":"    );"},{"type":"INSERT","lineNumber":862,"content":"  }"},{"type":"INSERT","lineNumber":863,"content":""},{"type":"INSERT","lineNumber":882,"content":"          ),"},{"type":"DELETE","lineNumber":886,"oldContent":"          ),"},{"type":"MODIFY","lineNumber":924,"content":"            children: [","oldContent":"            children: ["},{"type":"INSERT","lineNumber":945,"content":"            ],"},{"type":"DELETE","lineNumber":951,"oldContent":"      'Damascus': 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop',"},{"type":"MODIFY","lineNumber":987,"content":"                      bottom: 12.h,","oldContent":"                      bottom: 12.h,"},{"type":"MODIFY","lineNumber":1005,"content":"                            ),","oldContent":"                            ),"},{"type":"MODIFY","lineNumber":1013,"content":"              // Bottom row with two cards","oldContent":"              // Bottom row with two cards"},{"type":"MODIFY","lineNumber":1024,"content":"                      child: Stack(","oldContent":"                      child: Stack("},{"type":"MODIFY","lineNumber":1029,"content":"                              onlyForYou.secondPhotoUrl,","oldContent":"                              onlyForYou.secondPhotoUrl,"},{"type":"MODIFY","lineNumber":1047,"content":"                                  'Special Offer',","oldContent":"                                  'Special Offer',"},{"type":"MODIFY","lineNumber":1061,"content":"                              ],","oldContent":"                              ],"},{"type":"DELETE","lineNumber":1072,"oldContent":"    return Container("},{"type":"DELETE","lineNumber":1073,"oldContent":"  @override"},{"type":"DELETE","lineNumber":1074,"oldContent":"  }"},{"type":"DELETE","lineNumber":1075,"oldContent":"    _pageController.dispose();"},{"type":"DELETE","lineNumber":1076,"oldContent":"  @override"},{"type":"DELETE","lineNumber":1077,"oldContent":"  int _currentPage = 0;"},{"type":"DELETE","lineNumber":1078,"oldContent":"class _AdvertisementBannerWidgetState extends State<_AdvertisementBannerWidget> {"},{"type":"DELETE","lineNumber":1079,"oldContent":""},{"type":"DELETE","lineNumber":1080,"oldContent":"                                  style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":1081,"oldContent":"                                Text("},{"type":"DELETE","lineNumber":1082,"oldContent":"                                  overflow: TextOverflow.ellipsis,"},{"type":"DELETE","lineNumber":1083,"oldContent":"                                  maxLines: 1,"},{"type":"DELETE","lineNumber":1084,"oldContent":"                                    fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":1085,"oldContent":"                                    fontSize: 10.sp,"},{"type":"INSERT","lineNumber":1071,"content":"                      height: 120.h,"},{"type":"INSERT","lineNumber":1072,"content":"                      margin: EdgeInsets.only(left: 4.w),"},{"type":"INSERT","lineNumber":1073,"content":"                      decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1074,"content":"                        borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":1075,"content":"                        color: Colors.orange[300],"},{"type":"INSERT","lineNumber":1076,"content":"                      ),"},{"type":"INSERT","lineNumber":1077,"content":"                      child: Stack("},{"type":"INSERT","lineNumber":1078,"content":"                        children: ["},{"type":"INSERT","lineNumber":1079,"content":"                          ClipRRect("},{"type":"INSERT","lineNumber":1080,"content":"                            borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":1081,"content":"                            child: Image.network("},{"type":"INSERT","lineNumber":1082,"content":"                              onlyForYou.thirdPhotoUrl,"},{"type":"INSERT","lineNumber":1083,"content":"                              width: double.infinity,"},{"type":"INSERT","lineNumber":1084,"content":"                              height: double.infinity,"},{"type":"MODIFY","lineNumber":1106,"content":"                                Text(","oldContent":"                                Text("},{"type":"MODIFY","lineNumber":1110,"content":"                                    fontSize: 10.sp,","oldContent":"                                    fontSize: 10.sp,"},{"type":"DELETE","lineNumber":1113,"oldContent":"                            Text("},{"type":"DELETE","lineNumber":1114,"oldContent":"                              style: AppTextStyles.h3.copyWith("},{"type":"DELETE","lineNumber":1115,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":1116,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":1117,"oldContent":"                            ),"},{"type":"DELETE","lineNumber":1118,"oldContent":"                              fontSize: 10.sp,"},{"type":"DELETE","lineNumber":1119,"oldContent":"                                    color: Colors.white.withValues(alpha: 0.8),"},{"type":"INSERT","lineNumber":1112,"content":"                                  ),"},{"type":"INSERT","lineNumber":1113,"content":"                                  maxLines: 1,"},{"type":"INSERT","lineNumber":1114,"content":"                                  overflow: TextOverflow.ellipsis,"},{"type":"INSERT","lineNumber":1115,"content":"                                ),"},{"type":"INSERT","lineNumber":1116,"content":"                                Text("},{"type":"INSERT","lineNumber":1117,"content":"                                  'VIP Access',"},{"type":"INSERT","lineNumber":1119,"content":"                                    color: Colors.white.withValues(alpha: 0.8),"},{"type":"MODIFY","lineNumber":1129,"content":"                            bottom: 8.h,","oldContent":"                            bottom: 8.h,"},{"type":"MODIFY","lineNumber":1143,"content":"                                ),","oldContent":"                                ),"},{"type":"MODIFY","lineNumber":1158,"content":"  }","oldContent":"        ],"},{"type":"INSERT","lineNumber":1159,"content":""},{"type":"DELETE","lineNumber":1163,"oldContent":"                          ],"},{"type":"DELETE","lineNumber":1172,"oldContent":"        'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"DELETE","lineNumber":1174,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":1175,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":1176,"oldContent":"                            end: Alignment.topCenter,"},{"type":"DELETE","lineNumber":1177,"oldContent":"                            begin: Alignment.bottomCenter,"},{"type":"INSERT","lineNumber":1172,"content":"  }"},{"type":"INSERT","lineNumber":1173,"content":"}"},{"type":"DELETE","lineNumber":1179,"oldContent":"    );"},{"type":"DELETE","lineNumber":1180,"oldContent":"                margin: EdgeInsets.symmetric(horizontal: 3.w),"},{"type":"DELETE","lineNumber":1181,"oldContent":"              widget.ads.length,"},{"type":"DELETE","lineNumber":1182,"oldContent":"            children: List.generate("},{"type":"DELETE","lineNumber":1183,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":1184,"oldContent":"                          ],"},{"type":"INSERT","lineNumber":1175,"content":"class _AdvertisementBannerWidget extends StatefulWidget {"},{"type":"INSERT","lineNumber":1176,"content":"  final List<SpecialAdvertisement> ads;"},{"type":"INSERT","lineNumber":1177,"content":""},{"type":"INSERT","lineNumber":1178,"content":"  const _AdvertisementBannerWidget({required this.ads});"},{"type":"INSERT","lineNumber":1179,"content":""},{"type":"INSERT","lineNumber":1180,"content":"  @override"},{"type":"INSERT","lineNumber":1181,"content":"  State<_AdvertisementBannerWidget> createState() => _AdvertisementBannerWidgetState();"},{"type":"INSERT","lineNumber":1182,"content":"}"},{"type":"INSERT","lineNumber":1183,"content":""},{"type":"MODIFY","lineNumber":1195,"content":"  Widget build(BuildContext context) {","oldContent":"  Widget build(BuildContext context) {"},{"type":"MODIFY","lineNumber":1202,"content":"            child: PageView.builder(","oldContent":"            child: PageView.builder("},{"type":"MODIFY","lineNumber":1230,"content":"                  child: Stack(","oldContent":"                  child: Stack("},{"type":"DELETE","lineNumber":1244,"oldContent":"                                fontSize: 12.sp,"},{"type":"DELETE","lineNumber":1245,"oldContent":"                                color: Colors.white.withValues(alpha: 0.9),"},{"type":"INSERT","lineNumber":1243,"content":"                          ),"},{"type":"INSERT","lineNumber":1244,"content":"                        ),"},{"type":"MODIFY","lineNumber":1247,"content":"                        left: 16.w,","oldContent":"                        left: 16.w,"},{"type":"MODIFY","lineNumber":1251,"content":"                          decoration: BoxDecoration(","oldContent":"                          decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1274,"oldContent":"                              ),"},{"type":"INSERT","lineNumber":1276,"content":"                                fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":1277,"content":"                              ),"},{"type":"DELETE","lineNumber":1280,"oldContent":"                ),"},{"type":"MODIFY","lineNumber":1285,"content":"                              ),","oldContent":"                              ),"},{"type":"MODIFY","lineNumber":1303,"content":"                duration: const Duration(milliseconds: 300),","oldContent":"                  (index) => AnimatedContainer("},{"type":"DELETE","lineNumber":1307,"oldContent":""},{"type":"DELETE","lineNumber":1308,"oldContent":"}"},{"type":"INSERT","lineNumber":1306,"content":"                width: _currentPage == index ? 24.w : 6.w,"},{"type":"INSERT","lineNumber":1307,"content":"                decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1315,"oldContent":""},{"type":"INSERT","lineNumber":1314,"content":"            ),"},{"type":"DELETE","lineNumber":1317,"oldContent":"  }"},{"type":"INSERT","lineNumber":1316,"content":"        ],"},{"type":"INSERT","lineNumber":1319,"content":"  }"},{"type":"INSERT","lineNumber":1320,"content":"}"},{"type":"INSERT","lineNumber":1321,"content":""}]},{"timestamp":1758301767082,"changes":[{"type":"MODIFY","lineNumber":28,"content":"        }","oldContent":"      },"},{"type":"INSERT","lineNumber":29,"content":"      },"},{"type":"DELETE","lineNumber":31,"oldContent":"        }"},{"type":"MODIFY","lineNumber":40,"content":"              ","oldContent":""},{"type":"MODIFY","lineNumber":67,"content":"              ","oldContent":""},{"type":"MODIFY","lineNumber":79,"content":"                        ","oldContent":""},{"type":"MODIFY","lineNumber":82,"content":"                        ","oldContent":""},{"type":"MODIFY","lineNumber":85,"content":"                        ","oldContent":""},{"type":"MODIFY","lineNumber":88,"content":"                        ","oldContent":""},{"type":"MODIFY","lineNumber":91,"content":"                        ","oldContent":""},{"type":"MODIFY","lineNumber":94,"content":"                        ","oldContent":""},{"type":"MODIFY","lineNumber":102,"content":"              ","oldContent":""},{"type":"MODIFY","lineNumber":131,"content":"          ),","oldContent":"          ),"},{"type":"MODIFY","lineNumber":179,"content":"                  ","oldContent":""},{"type":"MODIFY","lineNumber":196,"content":"              ","oldContent":""},{"type":"MODIFY","lineNumber":198,"content":"              ","oldContent":""},{"type":"DELETE","lineNumber":245,"oldContent":"                          Icons.search,"},{"type":"DELETE","lineNumber":246,"oldContent":"                          color: Colors.white,"},{"type":"INSERT","lineNumber":245,"content":"                          Icons.search, "},{"type":"INSERT","lineNumber":246,"content":"                          color: Colors.white, "},{"type":"MODIFY","lineNumber":259,"content":"  }","oldContent":"              ],"},{"type":"MODIFY","lineNumber":262,"content":"  Widget _buildSpecialAdvertisementBanner(List<SpecialAdvertisement> ads) {","oldContent":"  Widget _buildSpecialAdvertisementBanner(List<SpecialAdvertisement> ads) {"},{"type":"MODIFY","lineNumber":264,"content":"    ","oldContent":""},{"type":"MODIFY","lineNumber":270,"content":"    ","oldContent":""},{"type":"MODIFY","lineNumber":284,"content":"                    borderRadius: BorderRadius.circular(12.r),","oldContent":"                              color: Colors.grey[500],"},{"type":"MODIFY","lineNumber":327,"content":"          SizedBox(height: 16.h),","oldContent":"                                      mainAxisSize: MainAxisSize.min,"},{"type":"DELETE","lineNumber":479,"oldContent":"                                  ),"},{"type":"DELETE","lineNumber":480,"oldContent":"                                const Spacer(),"},{"type":"DELETE","lineNumber":481,"oldContent":"                                  '250.00 \\$',"},{"type":"DELETE","lineNumber":482,"oldContent":"                                  style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":483,"oldContent":"                                    fontSize: 10.sp,"},{"type":"INSERT","lineNumber":479,"content":"    );"},{"type":"INSERT","lineNumber":480,"content":"  }"},{"type":"DELETE","lineNumber":485,"oldContent":"                                ),"},{"type":"INSERT","lineNumber":482,"content":"  Widget _buildHighlyRatedProperties(List<Property> properties) {"},{"type":"INSERT","lineNumber":483,"content":"    if (properties.isEmpty) return const SizedBox.shrink();"},{"type":"INSERT","lineNumber":484,"content":"    "},{"type":"INSERT","lineNumber":485,"content":"    return Container("},{"type":"INSERT","lineNumber":489,"content":"        children: ["},{"type":"DELETE","lineNumber":490,"oldContent":"          Padding("},{"type":"DELETE","lineNumber":518,"oldContent":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"DELETE","lineNumber":520,"oldContent":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":519,"content":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"INSERT","lineNumber":521,"content":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":599,"content":"                      padding: EdgeInsets.all(4.w),"},{"type":"DELETE","lineNumber":601,"oldContent":"                      ),"},{"type":"INSERT","lineNumber":603,"content":"                      ),"},{"type":"DELETE","lineNumber":613,"oldContent":"          // Property details section - remaining height (251 - 148 = 103)"},{"type":"INSERT","lineNumber":615,"content":"          // Property details section - remaining height (251 - 148 = 103)"},{"type":"DELETE","lineNumber":643,"oldContent":"                  SizedBox(height: 4.h),"},{"type":"INSERT","lineNumber":645,"content":"                  SizedBox(height: 4.h),"},{"type":"DELETE","lineNumber":653,"oldContent":"                  ),"},{"type":"INSERT","lineNumber":655,"content":"                  ),"},{"type":"DELETE","lineNumber":673,"oldContent":"                          color: Colors.grey[600],"},{"type":"INSERT","lineNumber":675,"content":"                          color: Colors.grey[600],"},{"type":"DELETE","lineNumber":677,"oldContent":"                    ],"},{"type":"INSERT","lineNumber":679,"content":"                    ],"},{"type":"DELETE","lineNumber":689,"oldContent":"              ),"},{"type":"INSERT","lineNumber":691,"content":"              ),"},{"type":"MODIFY","lineNumber":701,"content":"    ","oldContent":""},{"type":"DELETE","lineNumber":703,"oldContent":"                                ),"},{"type":"DELETE","lineNumber":704,"oldContent":"                                  begin: Alignment.topLeft,"},{"type":"DELETE","lineNumber":705,"oldContent":"                                  ],"},{"type":"DELETE","lineNumber":706,"oldContent":"                                    AppColors.primary.withValues(alpha: 0.8),"},{"type":"DELETE","lineNumber":707,"oldContent":"                                  colors: ["},{"type":"DELETE","lineNumber":708,"oldContent":"                                borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":709,"oldContent":"                              decoration: BoxDecoration("},{"type":"DELETE","lineNumber":710,"oldContent":"                          errorBuilder: (context, error, stackTrace) {"},{"type":"DELETE","lineNumber":711,"oldContent":"                style: AppTextStyles.h4.copyWith("},{"type":"INSERT","lineNumber":704,"content":"      child: Column("},{"type":"INSERT","lineNumber":705,"content":"        crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":706,"content":"        children: ["},{"type":"INSERT","lineNumber":707,"content":"          Row("},{"type":"INSERT","lineNumber":708,"content":"            children: ["},{"type":"INSERT","lineNumber":709,"content":"              Icon(Icons.explore, color: Colors.orange, size: 20.sp),"},{"type":"INSERT","lineNumber":710,"content":"              SizedBox(width: 8.w),"},{"type":"INSERT","lineNumber":711,"content":"              Text("},{"type":"INSERT","lineNumber":713,"content":"                style: AppTextStyles.h4.copyWith("},{"type":"DELETE","lineNumber":745,"oldContent":"                            colors: ["},{"type":"DELETE","lineNumber":746,"oldContent":"                          borderRadius: BorderRadius.circular(16.r),"},{"type":"DELETE","lineNumber":747,"oldContent":"                      Container("},{"type":"DELETE","lineNumber":748,"oldContent":"                      // Overlay for better text readability"},{"type":"DELETE","lineNumber":749,"oldContent":"                    children: ["},{"type":"DELETE","lineNumber":750,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":751,"oldContent":"                        : null,"},{"type":"DELETE","lineNumber":752,"oldContent":""},{"type":"DELETE","lineNumber":753,"oldContent":"  State<_AdvertisementBannerWidget> createState() => _AdvertisementBannerWidgetState();"},{"type":"DELETE","lineNumber":754,"oldContent":"  @override"},{"type":"DELETE","lineNumber":755,"oldContent":""},{"type":"DELETE","lineNumber":756,"oldContent":""},{"type":"DELETE","lineNumber":757,"oldContent":"  final List<SpecialAdvertisement> ads;"},{"type":"DELETE","lineNumber":758,"oldContent":"class _AdvertisementBannerWidget extends StatefulWidget {"},{"type":"DELETE","lineNumber":759,"oldContent":"  }"},{"type":"DELETE","lineNumber":760,"oldContent":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"DELETE","lineNumber":761,"oldContent":"    return locationImages[locationName] ?? "},{"type":"DELETE","lineNumber":762,"oldContent":"    "},{"type":"DELETE","lineNumber":763,"oldContent":"    };"},{"type":"DELETE","lineNumber":764,"oldContent":"      'Aleppo': 'https://images.unsplash.com/photo-1573047733774-3b2d3c3b3d0f?w=400&h=300&fit=crop',"},{"type":"DELETE","lineNumber":765,"oldContent":"      'Daraa': 'https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=400&h=300&fit=crop',"},{"type":"DELETE","lineNumber":766,"oldContent":"    const locationImages = {"},{"type":"DELETE","lineNumber":767,"oldContent":"  String _getLocationImageUrl(String locationName) {"},{"type":"DELETE","lineNumber":768,"oldContent":"  }"},{"type":"INSERT","lineNumber":746,"content":"                      ClipRRect("},{"type":"INSERT","lineNumber":747,"content":"                        borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":748,"content":"                        child: Image.network("},{"type":"INSERT","lineNumber":749,"content":"                          _getLocationImageUrl(governorate.title),"},{"type":"INSERT","lineNumber":750,"content":"                          width: double.infinity,"},{"type":"INSERT","lineNumber":751,"content":"                          height: double.infinity,"},{"type":"INSERT","lineNumber":752,"content":"                          fit: BoxFit.cover,"},{"type":"INSERT","lineNumber":753,"content":"                          errorBuilder: (context, error, stackTrace) {"},{"type":"INSERT","lineNumber":754,"content":"                            return Container("},{"type":"INSERT","lineNumber":755,"content":"                              decoration: BoxDecoration("},{"type":"INSERT","lineNumber":756,"content":"                                borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":757,"content":"                                gradient: LinearGradient("},{"type":"INSERT","lineNumber":758,"content":"                                  colors: ["},{"type":"INSERT","lineNumber":759,"content":"                                    AppColors.primary.withValues(alpha: 0.8),"},{"type":"INSERT","lineNumber":760,"content":"                                    AppColors.primary.withValues(alpha: 0.6),"},{"type":"INSERT","lineNumber":761,"content":"                                  ],"},{"type":"INSERT","lineNumber":762,"content":"                                  begin: Alignment.topLeft,"},{"type":"INSERT","lineNumber":763,"content":"                                  end: Alignment.bottomRight,"},{"type":"INSERT","lineNumber":764,"content":"                                ),"},{"type":"INSERT","lineNumber":765,"content":"                              ),"},{"type":"INSERT","lineNumber":766,"content":"                              child: Center("},{"type":"INSERT","lineNumber":767,"content":"                                child: Icon("},{"type":"INSERT","lineNumber":768,"content":"                                  Icons.location_city,"},{"type":"INSERT","lineNumber":769,"content":"                                  color: Colors.white,"},{"type":"DELETE","lineNumber":779,"oldContent":"                          gradient: LinearGradient("},{"type":"INSERT","lineNumber":781,"content":"                          gradient: LinearGradient("},{"type":"MODIFY","lineNumber":789,"content":"                        ),","oldContent":"                          ),"},{"type":"DELETE","lineNumber":810,"oldContent":"      ),"},{"type":"INSERT","lineNumber":812,"content":"      ),"},{"type":"DELETE","lineNumber":833,"oldContent":"                style: AppTextStyles.h4.copyWith("},{"type":"INSERT","lineNumber":835,"content":"                style: AppTextStyles.h4.copyWith("},{"type":"INSERT","lineNumber":836,"content":"                  color: AppColors.textPrimary,"},{"type":"DELETE","lineNumber":837,"oldContent":"                  color: AppColors.textPrimary,"},{"type":"DELETE","lineNumber":838,"oldContent":"              const Spacer(),"},{"type":"INSERT","lineNumber":840,"content":"              const Spacer(),"},{"type":"DELETE","lineNumber":856,"oldContent":"            ],"},{"type":"INSERT","lineNumber":858,"content":"            ],"},{"type":"DELETE","lineNumber":881,"oldContent":"          ),"},{"type":"INSERT","lineNumber":883,"content":"          ),"},{"type":"DELETE","lineNumber":899,"oldContent":"          // Page indicators"},{"type":"DELETE","lineNumber":900,"oldContent":"          ),"},{"type":"DELETE","lineNumber":901,"oldContent":"              },"},{"type":"DELETE","lineNumber":902,"oldContent":"                            Text("},{"type":"DELETE","lineNumber":903,"oldContent":"                            Text("},{"type":"DELETE","lineNumber":904,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":905,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":906,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":907,"oldContent":"                            begin: Alignment.bottomCenter,"},{"type":"DELETE","lineNumber":908,"oldContent":"                              Colors.transparent,"},{"type":"INSERT","lineNumber":900,"content":"        Row("},{"type":"INSERT","lineNumber":901,"content":"          mainAxisSize: MainAxisSize.min,"},{"type":"INSERT","lineNumber":902,"content":"          children: ["},{"type":"INSERT","lineNumber":903,"content":"            Icon(Icons.star, color: Colors.amber, size: 12.sp),"},{"type":"INSERT","lineNumber":904,"content":"            SizedBox(width: 2.w),"},{"type":"INSERT","lineNumber":905,"content":"            Text("},{"type":"INSERT","lineNumber":906,"content":"              rating.toString(),"},{"type":"INSERT","lineNumber":907,"content":"              style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":908,"content":"                color: Colors.grey[600],"},{"type":"INSERT","lineNumber":909,"content":"                fontSize: 10.sp,"},{"type":"DELETE","lineNumber":923,"oldContent":"            children: ["},{"type":"INSERT","lineNumber":925,"content":"            children: ["},{"type":"DELETE","lineNumber":944,"oldContent":"            ],"},{"type":"INSERT","lineNumber":946,"content":"            ],"},{"type":"DELETE","lineNumber":967,"oldContent":"                            left: 12.w,"},{"type":"DELETE","lineNumber":968,"oldContent":"                          Positioned("},{"type":"DELETE","lineNumber":969,"oldContent":"                              ],"},{"type":"DELETE","lineNumber":970,"oldContent":"                                  'Limited Time',"},{"type":"DELETE","lineNumber":971,"oldContent":"                              },"},{"type":"DELETE","lineNumber":972,"oldContent":"                        borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":973,"oldContent":"                      margin: EdgeInsets.only(right: 4.w),"},{"type":"DELETE","lineNumber":974,"oldContent":"                    child: Container("},{"type":"INSERT","lineNumber":968,"content":"                      child: Image.network("},{"type":"INSERT","lineNumber":969,"content":"                        onlyForYou.firstPhotoUrl,"},{"type":"INSERT","lineNumber":970,"content":"                        width: double.infinity,"},{"type":"INSERT","lineNumber":971,"content":"                        height: double.infinity,"},{"type":"INSERT","lineNumber":972,"content":"                        fit: BoxFit.cover,"},{"type":"INSERT","lineNumber":973,"content":"                        errorBuilder: (context, error, stackTrace) {"},{"type":"INSERT","lineNumber":974,"content":"                          return Container("},{"type":"INSERT","lineNumber":975,"content":"                            decoration: BoxDecoration("},{"type":"DELETE","lineNumber":986,"oldContent":"                      bottom: 12.h,"},{"type":"INSERT","lineNumber":988,"content":"                      bottom: 12.h,"},{"type":"DELETE","lineNumber":996,"oldContent":""},{"type":"MODIFY","lineNumber":997,"content":"                              fontSize: 14.sp,","oldContent":"  }"},{"type":"INSERT","lineNumber":998,"content":"                              fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":999,"oldContent":"                width: _currentPage == index ? 24.w : 6.w,"},{"type":"DELETE","lineNumber":1000,"oldContent":"                height: 6.h,"},{"type":"DELETE","lineNumber":1001,"oldContent":"                duration: const Duration(milliseconds: 300),"},{"type":"INSERT","lineNumber":1000,"content":"                          ),"},{"type":"INSERT","lineNumber":1001,"content":"                          Text("},{"type":"INSERT","lineNumber":1002,"content":"                            'Exclusive Content',"},{"type":"DELETE","lineNumber":1004,"oldContent":"                            ),"},{"type":"INSERT","lineNumber":1006,"content":"                            ),"},{"type":"DELETE","lineNumber":1010,"oldContent":"                      Positioned("},{"type":"INSERT","lineNumber":1011,"content":"                  ],"},{"type":"DELETE","lineNumber":1012,"oldContent":"              // Bottom row with two cards"},{"type":"DELETE","lineNumber":1014,"oldContent":"                              fontSize: 10.sp,"},{"type":"DELETE","lineNumber":1015,"oldContent":"                              color: Colors.white,"},{"type":"INSERT","lineNumber":1014,"content":"              // Bottom row with two cards"},{"type":"INSERT","lineNumber":1015,"content":"              Row("},{"type":"INSERT","lineNumber":1016,"content":"                children: ["},{"type":"DELETE","lineNumber":1023,"oldContent":"                      child: Stack("},{"type":"INSERT","lineNumber":1025,"content":"                      child: Stack("},{"type":"DELETE","lineNumber":1028,"oldContent":"                              onlyForYou.secondPhotoUrl,"},{"type":"INSERT","lineNumber":1030,"content":"                              onlyForYou.secondPhotoUrl,"},{"type":"DELETE","lineNumber":1046,"oldContent":"                                  'Special Offer',"},{"type":"INSERT","lineNumber":1048,"content":"                                  'Special Offer',"},{"type":"DELETE","lineNumber":1060,"oldContent":"                              ],"},{"type":"INSERT","lineNumber":1062,"content":"                              ],"},{"type":"DELETE","lineNumber":1070,"oldContent":"                      height: 120.h,"},{"type":"INSERT","lineNumber":1072,"content":"                      height: 120.h,"},{"type":"DELETE","lineNumber":1086,"oldContent":"                              Colors.black.withValues(alpha: 0.4),"},{"type":"DELETE","lineNumber":1087,"oldContent":"    );"},{"type":"DELETE","lineNumber":1088,"oldContent":"        ],"},{"type":"DELETE","lineNumber":1089,"oldContent":"            ),"},{"type":"DELETE","lineNumber":1090,"oldContent":"                margin: EdgeInsets.symmetric(horizontal: 3.w),"},{"type":"DELETE","lineNumber":1091,"oldContent":"              widget.ads.length,"},{"type":"DELETE","lineNumber":1092,"oldContent":"            children: List.generate("},{"type":"DELETE","lineNumber":1093,"oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"DELETE","lineNumber":1094,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":1095,"oldContent":"                          ],"},{"type":"INSERT","lineNumber":1087,"content":"                              errorBuilder: (context, error, stackTrace) {"},{"type":"INSERT","lineNumber":1088,"content":"                                return Container("},{"type":"INSERT","lineNumber":1089,"content":"                                  decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1090,"content":"                                    borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":1091,"content":"                                    color: Colors.orange[300],"},{"type":"INSERT","lineNumber":1092,"content":"                                  ),"},{"type":"INSERT","lineNumber":1093,"content":"                                  child: const Center("},{"type":"INSERT","lineNumber":1094,"content":"                                    child: Icon(Icons.star, color: Colors.white, size: 40),"},{"type":"INSERT","lineNumber":1095,"content":"                                  ),"},{"type":"INSERT","lineNumber":1096,"content":"                                );"},{"type":"INSERT","lineNumber":1097,"content":"                              },"},{"type":"DELETE","lineNumber":1097,"oldContent":"                              ),"},{"type":"DELETE","lineNumber":1105,"oldContent":"                                Text("},{"type":"INSERT","lineNumber":1107,"content":"                                Text("},{"type":"DELETE","lineNumber":1109,"oldContent":"                                    fontSize: 10.sp,"},{"type":"MODIFY","lineNumber":1111,"content":"                                    fontSize: 10.sp,","oldContent":"                                  ),"},{"type":"INSERT","lineNumber":1113,"content":"                                  ),"},{"type":"DELETE","lineNumber":1118,"oldContent":"                                    color: Colors.white.withValues(alpha: 0.8),"},{"type":"INSERT","lineNumber":1120,"content":"                                    color: Colors.white.withValues(alpha: 0.8),"},{"type":"DELETE","lineNumber":1128,"oldContent":"                            bottom: 8.h,"},{"type":"INSERT","lineNumber":1130,"content":"                            bottom: 8.h,"},{"type":"DELETE","lineNumber":1142,"oldContent":"                                ),"},{"type":"INSERT","lineNumber":1144,"content":"                                ),"},{"type":"INSERT","lineNumber":1158,"content":"    );"},{"type":"DELETE","lineNumber":1159,"oldContent":"    );"},{"type":"DELETE","lineNumber":1169,"oldContent":""},{"type":"MODIFY","lineNumber":1170,"content":"    ","oldContent":"    return locationImages[locationName] ??"},{"type":"INSERT","lineNumber":1171,"content":"    return locationImages[locationName] ?? "},{"type":"INSERT","lineNumber":1172,"content":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"DELETE","lineNumber":1173,"oldContent":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"INSERT","lineNumber":1175,"content":""},{"type":"DELETE","lineNumber":1179,"oldContent":""},{"type":"DELETE","lineNumber":1194,"oldContent":"  Widget build(BuildContext context) {"},{"type":"INSERT","lineNumber":1196,"content":"  Widget build(BuildContext context) {"},{"type":"DELETE","lineNumber":1201,"oldContent":"            child: PageView.builder("},{"type":"INSERT","lineNumber":1203,"content":"            child: PageView.builder("},{"type":"DELETE","lineNumber":1229,"oldContent":"                  child: Stack("},{"type":"INSERT","lineNumber":1231,"content":"                  child: Stack("},{"type":"DELETE","lineNumber":1238,"oldContent":"                      Positioned("},{"type":"DELETE","lineNumber":1239,"oldContent":"                            color: AppColors.primary,"},{"type":"DELETE","lineNumber":1240,"oldContent":"                          decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1241,"oldContent":"                      Positioned("},{"type":"INSERT","lineNumber":1239,"content":"                              Colors.black.withValues(alpha: 0.4),"},{"type":"INSERT","lineNumber":1240,"content":"                              Colors.transparent,"},{"type":"INSERT","lineNumber":1241,"content":"                            ],"},{"type":"INSERT","lineNumber":1242,"content":"                            begin: Alignment.bottomCenter,"},{"type":"INSERT","lineNumber":1243,"content":"                            end: Alignment.topCenter,"},{"type":"DELETE","lineNumber":1243,"oldContent":"          ),"},{"type":"DELETE","lineNumber":1245,"oldContent":"                              'Discover amazing deals',"},{"type":"MODIFY","lineNumber":1246,"content":"                      ),","oldContent":"                        left: 16.w,"},{"type":"DELETE","lineNumber":1248,"oldContent":"                      Positioned("},{"type":"DELETE","lineNumber":1249,"oldContent":""},{"type":"DELETE","lineNumber":1250,"oldContent":"                          decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1248,"content":"                        left: 16.w,"},{"type":"INSERT","lineNumber":1249,"content":"                        top: 16.h,"},{"type":"INSERT","lineNumber":1250,"content":"                        child: Container("},{"type":"INSERT","lineNumber":1252,"content":"                          decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1266,"oldContent":"            ),"},{"type":"DELETE","lineNumber":1267,"oldContent":"              ),"},{"type":"DELETE","lineNumber":1268,"oldContent":"                ),"},{"type":"DELETE","lineNumber":1269,"oldContent":"                  borderRadius: BorderRadius.circular(3.r),"},{"type":"DELETE","lineNumber":1270,"oldContent":"                      : Colors.grey[300],"},{"type":"INSERT","lineNumber":1267,"content":"                        left: 16.w,"},{"type":"INSERT","lineNumber":1268,"content":"                        bottom: 16.h,"},{"type":"INSERT","lineNumber":1269,"content":"                        child: Column("},{"type":"INSERT","lineNumber":1270,"content":"                          crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":1271,"content":"                          children: ["},{"type":"DELETE","lineNumber":1274,"oldContent":"                                fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":1276,"oldContent":"                              ),"},{"type":"INSERT","lineNumber":1277,"content":"                                fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":1278,"content":"                              ),"},{"type":"DELETE","lineNumber":1281,"oldContent":"          ),"},{"type":"MODIFY","lineNumber":1282,"content":"                              'Discover amazing deals',","oldContent":"                decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1283,"content":"                              style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":1284,"oldContent":"                              ),"},{"type":"INSERT","lineNumber":1286,"content":"                              ),"},{"type":"DELETE","lineNumber":1296,"oldContent":"  }"},{"type":"INSERT","lineNumber":1297,"content":"          SizedBox(height: 12.h),"},{"type":"DELETE","lineNumber":1299,"oldContent":"        ],"},{"type":"INSERT","lineNumber":1300,"content":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"DELETE","lineNumber":1302,"oldContent":"                duration: const Duration(milliseconds: 300),"},{"type":"MODIFY","lineNumber":1304,"content":"                duration: const Duration(milliseconds: 300),","oldContent":"                      ? AppColors.primary"},{"type":"INSERT","lineNumber":1305,"content":"                margin: EdgeInsets.symmetric(horizontal: 3.w),"},{"type":"INSERT","lineNumber":1306,"content":"                height: 6.h,"},{"type":"DELETE","lineNumber":1306,"oldContent":"                  color: _currentPage == index"},{"type":"DELETE","lineNumber":1308,"oldContent":"  }"},{"type":"DELETE","lineNumber":1309,"oldContent":"    );"},{"type":"DELETE","lineNumber":1310,"oldContent":"      ),"},{"type":"DELETE","lineNumber":1311,"oldContent":""},{"type":"DELETE","lineNumber":1312,"oldContent":"}"},{"type":"INSERT","lineNumber":1309,"content":"                  color: _currentPage == index "},{"type":"INSERT","lineNumber":1310,"content":"                      ? AppColors.primary "},{"type":"INSERT","lineNumber":1311,"content":"                      : Colors.grey[300],"},{"type":"INSERT","lineNumber":1312,"content":"                  borderRadius: BorderRadius.circular(3.r),"},{"type":"INSERT","lineNumber":1313,"content":"                ),"},{"type":"INSERT","lineNumber":1314,"content":"              ),"},{"type":"INSERT","lineNumber":1316,"content":"          ),"},{"type":"INSERT","lineNumber":1317,"content":"        ],"},{"type":"INSERT","lineNumber":1318,"content":"      ),"},{"type":"INSERT","lineNumber":1319,"content":"    );"},{"type":"INSERT","lineNumber":1321,"content":"}"},{"type":"INSERT","lineNumber":1322,"content":""}]},{"timestamp":1758301772286,"changes":[{"type":"MODIFY","lineNumber":27,"content":"          }","oldContent":"      },"},{"type":"INSERT","lineNumber":130,"content":"            ],"},{"type":"DELETE","lineNumber":131,"oldContent":"          ),"},{"type":"INSERT","lineNumber":261,"content":""},{"type":"DELETE","lineNumber":262,"oldContent":"  Widget _buildSpecialAdvertisementBanner(List<SpecialAdvertisement> ads) {"},{"type":"DELETE","lineNumber":314,"oldContent":"                                maxLines: 1,"},{"type":"DELETE","lineNumber":315,"oldContent":"                                overflow: TextOverflow.ellipsis,"},{"type":"INSERT","lineNumber":314,"content":"            ),"},{"type":"INSERT","lineNumber":315,"content":"          ),"},{"type":"INSERT","lineNumber":481,"content":""},{"type":"DELETE","lineNumber":484,"oldContent":""},{"type":"DELETE","lineNumber":518,"oldContent":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"DELETE","lineNumber":520,"oldContent":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":519,"content":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"INSERT","lineNumber":521,"content":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"DELETE","lineNumber":701,"oldContent":""},{"type":"INSERT","lineNumber":702,"content":"    return Container("},{"type":"DELETE","lineNumber":786,"oldContent":"  void dispose() {"},{"type":"DELETE","lineNumber":787,"oldContent":"  @override"},{"type":"DELETE","lineNumber":788,"oldContent":"  int _currentPage = 0;"},{"type":"DELETE","lineNumber":789,"oldContent":""},{"type":"INSERT","lineNumber":786,"content":"                            begin: Alignment.bottomCenter,"},{"type":"INSERT","lineNumber":787,"content":"                            end: Alignment.topCenter,"},{"type":"INSERT","lineNumber":788,"content":"                          ),"},{"type":"INSERT","lineNumber":790,"content":"                      ),"},{"type":"DELETE","lineNumber":792,"oldContent":"}"},{"type":"DELETE","lineNumber":793,"oldContent":"                                  style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":794,"oldContent":"                                Text("},{"type":"DELETE","lineNumber":795,"oldContent":"                                ),"},{"type":"DELETE","lineNumber":796,"oldContent":"                                  maxLines: 1,"},{"type":"DELETE","lineNumber":797,"oldContent":"                                    fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":798,"oldContent":"                                    color: Colors.white,"},{"type":"DELETE","lineNumber":799,"oldContent":"                                Text("},{"type":"DELETE","lineNumber":800,"oldContent":"                              crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":801,"oldContent":"                            child: Column("},{"type":"DELETE","lineNumber":802,"oldContent":"                            left: 12.w,"},{"type":"INSERT","lineNumber":792,"content":"                        bottom: 12.h,"},{"type":"INSERT","lineNumber":793,"content":"                        left: 12.w,"},{"type":"INSERT","lineNumber":794,"content":"                        right: 12.w,"},{"type":"INSERT","lineNumber":795,"content":"                        child: Text("},{"type":"INSERT","lineNumber":796,"content":"                          governorate.title,"},{"type":"INSERT","lineNumber":797,"content":"                          style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":798,"content":"                            color: Colors.white,"},{"type":"INSERT","lineNumber":799,"content":"                            fontSize: 14.sp,"},{"type":"INSERT","lineNumber":800,"content":"                            fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":801,"content":"                          ),"},{"type":"INSERT","lineNumber":802,"content":"                          textAlign: TextAlign.center,"},{"type":"MODIFY","lineNumber":829,"content":"                ),","oldContent":"                            ),"},{"type":"MODIFY","lineNumber":837,"content":"                  fontSize: 16.sp,","oldContent":"                  fontSize: 16.sp,"},{"type":"MODIFY","lineNumber":865,"content":"  Widget _buildHostProfile({","oldContent":""},{"type":"DELETE","lineNumber":870,"oldContent":"                      ? AppColors.primary "},{"type":"DELETE","lineNumber":871,"oldContent":"                decoration: BoxDecoration("},{"type":"DELETE","lineNumber":872,"oldContent":"                width: _currentPage == index ? 24.w : 6.w,"},{"type":"INSERT","lineNumber":870,"content":"    return Column("},{"type":"INSERT","lineNumber":871,"content":"      children: ["},{"type":"INSERT","lineNumber":872,"content":"        Container("},{"type":"DELETE","lineNumber":927,"oldContent":"                                  child: const Center("},{"type":"DELETE","lineNumber":928,"oldContent":"                                  ),"},{"type":"DELETE","lineNumber":929,"oldContent":"                                    borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":930,"oldContent":"                                  decoration: BoxDecoration("},{"type":"DELETE","lineNumber":931,"oldContent":"                              errorBuilder: (context, error, stackTrace) {"},{"type":"DELETE","lineNumber":932,"oldContent":"                                  ),"},{"type":"DELETE","lineNumber":933,"oldContent":"                                    color: Colors.white.withValues(alpha: 0.8),"},{"type":"DELETE","lineNumber":934,"oldContent":"                                  style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":927,"content":"                padding: EdgeInsets.all(6.w),"},{"type":"INSERT","lineNumber":928,"content":"                decoration: BoxDecoration("},{"type":"INSERT","lineNumber":929,"content":"                  color: AppColors.primary.withValues(alpha: 0.1),"},{"type":"INSERT","lineNumber":930,"content":"                  borderRadius: BorderRadius.circular(8.r),"},{"type":"INSERT","lineNumber":931,"content":"                ),"},{"type":"INSERT","lineNumber":932,"content":"                child: Icon(Icons.person, color: AppColors.primary, size: 16.sp),"},{"type":"INSERT","lineNumber":933,"content":"              ),"},{"type":"INSERT","lineNumber":934,"content":"              SizedBox(width: 8.w),"},{"type":"DELETE","lineNumber":977,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":978,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":979,"oldContent":"                            begin: Alignment.bottomCenter,"},{"type":"DELETE","lineNumber":980,"oldContent":"                            ],"},{"type":"DELETE","lineNumber":981,"oldContent":"                              Colors.black.withValues(alpha: 0.4),"},{"type":"DELETE","lineNumber":982,"oldContent":"  void dispose() {"},{"type":"INSERT","lineNumber":977,"content":"                              gradient: LinearGradient("},{"type":"INSERT","lineNumber":978,"content":"                                colors: [Colors.green[300]!, Colors.green[600]!],"},{"type":"INSERT","lineNumber":979,"content":"                                begin: Alignment.topLeft,"},{"type":"INSERT","lineNumber":980,"content":"                                end: Alignment.bottomRight,"},{"type":"INSERT","lineNumber":981,"content":"                              ),"},{"type":"INSERT","lineNumber":982,"content":"                            ),"},{"type":"DELETE","lineNumber":990,"oldContent":"  final PageController _pageController = PageController();"},{"type":"DELETE","lineNumber":991,"oldContent":"class _AdvertisementBannerWidgetState extends State<_AdvertisementBannerWidget> {"},{"type":"DELETE","lineNumber":992,"oldContent":"    return locationImages[locationName] ?? "},{"type":"DELETE","lineNumber":993,"oldContent":"    "},{"type":"DELETE","lineNumber":994,"oldContent":"    };"},{"type":"DELETE","lineNumber":995,"oldContent":"                          Positioned("},{"type":"DELETE","lineNumber":996,"oldContent":"    );"},{"type":"INSERT","lineNumber":990,"content":"                      child: Column("},{"type":"INSERT","lineNumber":991,"content":"                        crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":992,"content":"                        children: ["},{"type":"INSERT","lineNumber":993,"content":"                          Text("},{"type":"INSERT","lineNumber":994,"content":"                            'Only For You',"},{"type":"INSERT","lineNumber":995,"content":"                            style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":996,"content":"                              color: Colors.white,"},{"type":"MODIFY","lineNumber":1028,"content":"                            borderRadius: BorderRadius.circular(12.r),","oldContent":"                          ),"},{"type":"MODIFY","lineNumber":1098,"content":"                            ),","oldContent":"                            ),"},{"type":"MODIFY","lineNumber":1159,"content":"  }","oldContent":"  }"},{"type":"MODIFY","lineNumber":1169,"content":"    };","oldContent":""},{"type":"MODIFY","lineNumber":1173,"content":"  }","oldContent":"  }"},{"type":"MODIFY","lineNumber":1176,"content":"class _AdvertisementBannerWidget extends StatefulWidget {","oldContent":"class _AdvertisementBannerWidget extends StatefulWidget {"},{"type":"DELETE","lineNumber":1185,"oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"DELETE","lineNumber":1186,"oldContent":"                              ),"},{"type":"DELETE","lineNumber":1187,"oldContent":"                            Text("},{"type":"DELETE","lineNumber":1188,"oldContent":"                            SizedBox(height: 4.h),"},{"type":"DELETE","lineNumber":1189,"oldContent":"                          padding: EdgeInsets.symmetric(horizontal: 8.w, vertical: 4.h),"},{"type":"DELETE","lineNumber":1190,"oldContent":"                      ),"},{"type":"INSERT","lineNumber":1185,"content":"class _AdvertisementBannerWidgetState extends State<_AdvertisementBannerWidget> {"},{"type":"INSERT","lineNumber":1186,"content":"  final PageController _pageController = PageController();"},{"type":"INSERT","lineNumber":1187,"content":"  int _currentPage = 0;"},{"type":"INSERT","lineNumber":1188,"content":""},{"type":"INSERT","lineNumber":1189,"content":"  @override"},{"type":"INSERT","lineNumber":1190,"content":"  void dispose() {"},{"type":"INSERT","lineNumber":1191,"content":"    _pageController.dispose();"},{"type":"DELETE","lineNumber":1192,"oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"MODIFY","lineNumber":1193,"content":"  }","oldContent":"                              style: AppTextStyles.bodySmall.copyWith("},{"type":"MODIFY","lineNumber":1244,"content":"                          ),","oldContent":"                          ),"},{"type":"MODIFY","lineNumber":1277,"content":"                                fontWeight: FontWeight.bold,","oldContent":"                                fontWeight: FontWeight.bold,"},{"type":"MODIFY","lineNumber":1289,"content":"                        ),","oldContent":"                  ),"},{"type":"DELETE","lineNumber":1291,"oldContent":""},{"type":"DELETE","lineNumber":1292,"oldContent":"}"},{"type":"DELETE","lineNumber":1293,"oldContent":"  }"},{"type":"DELETE","lineNumber":1294,"oldContent":"    );"},{"type":"INSERT","lineNumber":1291,"content":"                    ],"},{"type":"INSERT","lineNumber":1292,"content":"                  ),"},{"type":"INSERT","lineNumber":1293,"content":"                );"},{"type":"INSERT","lineNumber":1294,"content":"              },"},{"type":"INSERT","lineNumber":1295,"content":"            ),"},{"type":"DELETE","lineNumber":1296,"oldContent":""},{"type":"DELETE","lineNumber":1298,"oldContent":"  }"},{"type":"DELETE","lineNumber":1299,"oldContent":"        ],"},{"type":"INSERT","lineNumber":1298,"content":"          // Page indicators"},{"type":"INSERT","lineNumber":1299,"content":"          Row("},{"type":"DELETE","lineNumber":1301,"oldContent":"                decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1302,"oldContent":"                width: _currentPage == index ? 24.w : 6.w,"},{"type":"DELETE","lineNumber":1303,"oldContent":"}"},{"type":"INSERT","lineNumber":1301,"content":"            children: List.generate("},{"type":"INSERT","lineNumber":1302,"content":"              widget.ads.length,"},{"type":"INSERT","lineNumber":1303,"content":"              (index) => AnimatedContainer("},{"type":"DELETE","lineNumber":1306,"oldContent":"      ),"},{"type":"DELETE","lineNumber":1308,"oldContent":"          ),"},{"type":"INSERT","lineNumber":1307,"content":"                width: _currentPage == index ? 24.w : 6.w,"},{"type":"INSERT","lineNumber":1308,"content":"                decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1312,"content":"                  borderRadius: BorderRadius.circular(3.r),"},{"type":"INSERT","lineNumber":1313,"content":"                ),"},{"type":"INSERT","lineNumber":1314,"content":"              ),"},{"type":"INSERT","lineNumber":1315,"content":"            ),"},{"type":"INSERT","lineNumber":1316,"content":"          ),"},{"type":"INSERT","lineNumber":1317,"content":"        ],"},{"type":"INSERT","lineNumber":1318,"content":"      ),"},{"type":"INSERT","lineNumber":1319,"content":"    );"},{"type":"INSERT","lineNumber":1320,"content":"  }"},{"type":"INSERT","lineNumber":1321,"content":"}"},{"type":"INSERT","lineNumber":1322,"content":""}]},{"timestamp":1758301808753,"changes":[{"type":"MODIFY","lineNumber":8,"content":"import '../../../search/presentation/pages/search_screen.dart';","oldContent":""},{"type":"INSERT","lineNumber":23,"content":"        if (!didPop) {"},{"type":"INSERT","lineNumber":24,"content":"          final shouldExit = await _showExitDialog(context);"},{"type":"DELETE","lineNumber":27,"oldContent":"          }"},{"type":"DELETE","lineNumber":28,"oldContent":"        }"},{"type":"MODIFY","lineNumber":40,"content":"","oldContent":"              "},{"type":"MODIFY","lineNumber":67,"content":"","oldContent":"              "},{"type":"MODIFY","lineNumber":79,"content":"","oldContent":"                        "},{"type":"MODIFY","lineNumber":82,"content":"","oldContent":"                        "},{"type":"MODIFY","lineNumber":85,"content":"","oldContent":"                        "},{"type":"MODIFY","lineNumber":88,"content":"","oldContent":"                        "},{"type":"MODIFY","lineNumber":91,"content":"","oldContent":"                        "},{"type":"MODIFY","lineNumber":94,"content":"","oldContent":"                        "},{"type":"MODIFY","lineNumber":102,"content":"","oldContent":"              "},{"type":"MODIFY","lineNumber":179,"content":"","oldContent":"                  "},{"type":"MODIFY","lineNumber":196,"content":"","oldContent":"              "},{"type":"MODIFY","lineNumber":198,"content":"","oldContent":"              "},{"type":"DELETE","lineNumber":245,"oldContent":"                          Icons.search, "},{"type":"DELETE","lineNumber":246,"oldContent":"                          color: Colors.white, "},{"type":"INSERT","lineNumber":245,"content":"                          Icons.search,"},{"type":"INSERT","lineNumber":246,"content":"                          color: Colors.white,"},{"type":"MODIFY","lineNumber":264,"content":"","oldContent":"    "},{"type":"MODIFY","lineNumber":270,"content":"","oldContent":"    "},{"type":"MODIFY","lineNumber":313,"content":"              ],","oldContent":"                                maxLines: 1,"},{"type":"MODIFY","lineNumber":326,"content":"          ),","oldContent":"                                      mainAxisSize: MainAxisSize.min,"},{"type":"DELETE","lineNumber":477,"oldContent":"                                const Spacer(),"},{"type":"DELETE","lineNumber":478,"oldContent":"                                Text("},{"type":"INSERT","lineNumber":477,"content":"        ],"},{"type":"INSERT","lineNumber":478,"content":"      ),"},{"type":"MODIFY","lineNumber":484,"content":"","oldContent":"    "},{"type":"DELETE","lineNumber":518,"oldContent":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"DELETE","lineNumber":520,"oldContent":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":519,"content":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"INSERT","lineNumber":521,"content":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"MODIFY","lineNumber":563,"content":"                          width: 160.w,","oldContent":"                          width: 155.w,"},{"type":"INSERT","lineNumber":701,"content":""},{"type":"DELETE","lineNumber":702,"oldContent":"    "},{"type":"MODIFY","lineNumber":703,"content":"      margin: EdgeInsets.all(16.w),","oldContent":"                );"},{"type":"DELETE","lineNumber":771,"oldContent":"                      child: Stack("},{"type":"DELETE","lineNumber":772,"oldContent":"                        color: Colors.grey[400],"},{"type":"DELETE","lineNumber":773,"oldContent":"                ),"},{"type":"DELETE","lineNumber":774,"oldContent":"                            ),"},{"type":"DELETE","lineNumber":775,"oldContent":"                              color: Colors.white.withValues(alpha: 0.8),"},{"type":"INSERT","lineNumber":771,"content":"                                ),"},{"type":"INSERT","lineNumber":772,"content":"                              ),"},{"type":"INSERT","lineNumber":773,"content":"                            );"},{"type":"INSERT","lineNumber":774,"content":"                          },"},{"type":"INSERT","lineNumber":775,"content":"                        ),"},{"type":"MODIFY","lineNumber":790,"content":"                      ),","oldContent":"                      ),"},{"type":"DELETE","lineNumber":804,"oldContent":"            ),"},{"type":"DELETE","lineNumber":805,"oldContent":"                margin: EdgeInsets.symmetric(horizontal: 3.w),"},{"type":"DELETE","lineNumber":806,"oldContent":"              widget.ads.length,"},{"type":"DELETE","lineNumber":807,"oldContent":"            children: List.generate("},{"type":"DELETE","lineNumber":808,"oldContent":"              },"},{"type":"DELETE","lineNumber":810,"oldContent":"                          ],"},{"type":"INSERT","lineNumber":805,"content":"                    ],"},{"type":"INSERT","lineNumber":806,"content":"                  ),"},{"type":"INSERT","lineNumber":807,"content":"                );"},{"type":"INSERT","lineNumber":808,"content":"              },"},{"type":"INSERT","lineNumber":809,"content":"            ),"},{"type":"INSERT","lineNumber":810,"content":"          ),"},{"type":"DELETE","lineNumber":831,"oldContent":""},{"type":"DELETE","lineNumber":832,"oldContent":"  int _currentPage = 0;"},{"type":"DELETE","lineNumber":833,"oldContent":"class _AdvertisementBannerWidgetState extends State<_AdvertisementBannerWidget> {"},{"type":"DELETE","lineNumber":834,"oldContent":"    return locationImages[locationName] ?? "},{"type":"INSERT","lineNumber":831,"content":"              ),"},{"type":"INSERT","lineNumber":832,"content":"              SizedBox(width: 8.w),"},{"type":"INSERT","lineNumber":833,"content":"              Text("},{"type":"INSERT","lineNumber":834,"content":"                'Hotels Of The Week',"},{"type":"INSERT","lineNumber":836,"content":"                  color: AppColors.textPrimary,"},{"type":"DELETE","lineNumber":837,"oldContent":"                  fontSize: 16.sp,"},{"type":"MODIFY","lineNumber":845,"content":"          Row(","oldContent":"                          Positioned("},{"type":"MODIFY","lineNumber":847,"content":"            children: [","oldContent":"                            ),"},{"type":"MODIFY","lineNumber":852,"content":"              ),","oldContent":"                                Text("},{"type":"DELETE","lineNumber":868,"oldContent":"              ),"},{"type":"DELETE","lineNumber":869,"oldContent":"                ),"},{"type":"INSERT","lineNumber":868,"content":"    required double rating,"},{"type":"INSERT","lineNumber":869,"content":"  }) {"},{"type":"DELETE","lineNumber":911,"oldContent":"                                    fontSize: 10.sp,"},{"type":"DELETE","lineNumber":912,"oldContent":"                                    color: Colors.white,"},{"type":"DELETE","lineNumber":913,"oldContent":"                                  style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":914,"oldContent":"                                Text("},{"type":"DELETE","lineNumber":915,"oldContent":"                              children: ["},{"type":"DELETE","lineNumber":916,"oldContent":"                              crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":917,"oldContent":"                            child: Column("},{"type":"DELETE","lineNumber":918,"oldContent":"                            bottom: 12.h,"},{"type":"INSERT","lineNumber":911,"content":"            ),"},{"type":"INSERT","lineNumber":912,"content":"          ],"},{"type":"INSERT","lineNumber":913,"content":"        ),"},{"type":"INSERT","lineNumber":914,"content":"      ],"},{"type":"INSERT","lineNumber":915,"content":"    );"},{"type":"INSERT","lineNumber":916,"content":"  }"},{"type":"INSERT","lineNumber":917,"content":""},{"type":"INSERT","lineNumber":918,"content":"  Widget _buildOnlyForYouSection(OnlyForYouSection onlyForYou) {"},{"type":"DELETE","lineNumber":1040,"oldContent":"                                fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":1041,"oldContent":"                                color: Colors.white,"},{"type":"DELETE","lineNumber":1042,"oldContent":"                              ad.propertyTitle.isNotEmpty ? ad.propertyTitle : 'Featured Property',"},{"type":"DELETE","lineNumber":1043,"oldContent":"                      ),"},{"type":"INSERT","lineNumber":1040,"content":"                          ),"},{"type":"INSERT","lineNumber":1041,"content":"                          Positioned("},{"type":"INSERT","lineNumber":1042,"content":"                            bottom: 12.h,"},{"type":"INSERT","lineNumber":1043,"content":"                            left: 12.w,"},{"type":"MODIFY","lineNumber":1055,"content":"                                Text(","oldContent":"                              Colors.black.withValues(alpha: 0.4),"},{"type":"MODIFY","lineNumber":1057,"content":"                                  style: AppTextStyles.bodySmall.copyWith(","oldContent":""},{"type":"MODIFY","lineNumber":1086,"content":"                              fit: BoxFit.cover,","oldContent":"  }"},{"type":"MODIFY","lineNumber":1097,"content":"                              },","oldContent":"                              ),"},{"type":"DELETE","lineNumber":1099,"oldContent":"                        top: 16.h,"},{"type":"DELETE","lineNumber":1100,"oldContent":"                        left: 16.w,"},{"type":"DELETE","lineNumber":1101,"oldContent":"                      Positioned("},{"type":"DELETE","lineNumber":1102,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":1103,"oldContent":"  void dispose() {"},{"type":"DELETE","lineNumber":1104,"oldContent":"    return locationImages[locationName] ?? "},{"type":"INSERT","lineNumber":1099,"content":"                          ),"},{"type":"INSERT","lineNumber":1100,"content":"                          Positioned("},{"type":"INSERT","lineNumber":1101,"content":"                            bottom: 12.h,"},{"type":"INSERT","lineNumber":1102,"content":"                            left: 12.w,"},{"type":"INSERT","lineNumber":1103,"content":"                            right: 12.w,"},{"type":"INSERT","lineNumber":1104,"content":"                            child: Column("},{"type":"MODIFY","lineNumber":1108,"content":"                                  'Premium Experience',","oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"DELETE","lineNumber":1145,"oldContent":"                              style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":1146,"oldContent":"                        bottom: 16.h,"},{"type":"INSERT","lineNumber":1145,"content":"                              ),"},{"type":"INSERT","lineNumber":1146,"content":"                            ),"},{"type":"INSERT","lineNumber":1158,"content":"    );"},{"type":"DELETE","lineNumber":1159,"oldContent":"  }"},{"type":"DELETE","lineNumber":1170,"oldContent":"    "},{"type":"DELETE","lineNumber":1171,"oldContent":"    return locationImages[locationName] ?? "},{"type":"INSERT","lineNumber":1170,"content":""},{"type":"INSERT","lineNumber":1171,"content":"    return locationImages[locationName] ??"},{"type":"INSERT","lineNumber":1172,"content":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"DELETE","lineNumber":1173,"oldContent":"  }"},{"type":"INSERT","lineNumber":1175,"content":""},{"type":"DELETE","lineNumber":1176,"oldContent":"class _AdvertisementBannerWidget extends StatefulWidget {"},{"type":"MODIFY","lineNumber":1192,"content":"    super.dispose();","oldContent":"              itemCount: widget.ads.length,"},{"type":"DELETE","lineNumber":1215,"oldContent":"                        : null,"},{"type":"DELETE","lineNumber":1216,"oldContent":""},{"type":"DELETE","lineNumber":1217,"oldContent":"}"},{"type":"DELETE","lineNumber":1218,"oldContent":"  }"},{"type":"INSERT","lineNumber":1215,"content":"                  decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1216,"content":"                    borderRadius: BorderRadius.circular(16.r),"},{"type":"INSERT","lineNumber":1217,"content":"                    image: ad.imageUrl.isNotEmpty"},{"type":"INSERT","lineNumber":1218,"content":"                        ? DecorationImage("},{"type":"DELETE","lineNumber":1223,"oldContent":"          ),"},{"type":"DELETE","lineNumber":1224,"oldContent":"                  color: _currentPage == index "},{"type":"INSERT","lineNumber":1223,"content":"                    gradient: ad.imageUrl.isEmpty"},{"type":"INSERT","lineNumber":1224,"content":"                        ? LinearGradient("},{"type":"MODIFY","lineNumber":1229,"content":"                        : null,","oldContent":"              (index) => AnimatedContainer("},{"type":"INSERT","lineNumber":1243,"content":"                            end: Alignment.topCenter,"},{"type":"DELETE","lineNumber":1244,"oldContent":"                          ),"},{"type":"MODIFY","lineNumber":1253,"content":"                            color: AppColors.primary,","oldContent":"              widget.ads.length,"},{"type":"DELETE","lineNumber":1265,"oldContent":"                                color: Colors.white.withValues(alpha: 0.9),"},{"type":"DELETE","lineNumber":1266,"oldContent":""},{"type":"INSERT","lineNumber":1265,"content":"                      ),"},{"type":"INSERT","lineNumber":1266,"content":"                      Positioned("},{"type":"MODIFY","lineNumber":1272,"content":"                            Text(","oldContent":"                                fontSize: 12.sp,"},{"type":"INSERT","lineNumber":1276,"content":"                                fontSize: 18.sp,"},{"type":"DELETE","lineNumber":1277,"oldContent":"                                fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":1279,"oldContent":"}"},{"type":"DELETE","lineNumber":1280,"oldContent":"  }"},{"type":"DELETE","lineNumber":1281,"oldContent":"            ),"},{"type":"INSERT","lineNumber":1279,"content":"                            ),"},{"type":"INSERT","lineNumber":1280,"content":"                            SizedBox(height: 4.h),"},{"type":"INSERT","lineNumber":1281,"content":"                            Text("},{"type":"DELETE","lineNumber":1284,"oldContent":""},{"type":"DELETE","lineNumber":1285,"oldContent":"    );"},{"type":"INSERT","lineNumber":1284,"content":"                                color: Colors.white.withValues(alpha: 0.9),"},{"type":"INSERT","lineNumber":1285,"content":"                                fontSize: 12.sp,"},{"type":"DELETE","lineNumber":1287,"oldContent":"      ),"},{"type":"MODIFY","lineNumber":1287,"content":"                            ),","oldContent":"        ],"},{"type":"INSERT","lineNumber":1288,"content":"                          ],"},{"type":"MODIFY","lineNumber":1290,"content":"                      ),","oldContent":"              ),"},{"type":"MODIFY","lineNumber":1296,"content":"          ),","oldContent":"                  color: _currentPage == index "},{"type":"MODIFY","lineNumber":1300,"content":"            mainAxisAlignment: MainAxisAlignment.center,","oldContent":"}"},{"type":"DELETE","lineNumber":1304,"oldContent":"        ],"},{"type":"DELETE","lineNumber":1305,"oldContent":"          ),"},{"type":"INSERT","lineNumber":1304,"content":"                duration: const Duration(milliseconds: 300),"},{"type":"INSERT","lineNumber":1305,"content":"                margin: EdgeInsets.symmetric(horizontal: 3.w),"},{"type":"INSERT","lineNumber":1306,"content":"                height: 6.h,"},{"type":"DELETE","lineNumber":1307,"oldContent":"              ),"},{"type":"INSERT","lineNumber":1309,"content":"                  color: _currentPage == index"},{"type":"INSERT","lineNumber":1310,"content":"                      ? AppColors.primary"},{"type":"INSERT","lineNumber":1311,"content":"                      : Colors.grey[300],"},{"type":"INSERT","lineNumber":1313,"content":"                ),"},{"type":"INSERT","lineNumber":1314,"content":"              ),"},{"type":"INSERT","lineNumber":1315,"content":"            ),"},{"type":"INSERT","lineNumber":1316,"content":"          ),"},{"type":"INSERT","lineNumber":1317,"content":"        ],"},{"type":"INSERT","lineNumber":1318,"content":"      ),"},{"type":"INSERT","lineNumber":1319,"content":"    );"},{"type":"INSERT","lineNumber":1320,"content":"  }"},{"type":"INSERT","lineNumber":1321,"content":"}"},{"type":"INSERT","lineNumber":1322,"content":""}]},{"timestamp":1758301816893,"changes":[{"type":"MODIFY","lineNumber":25,"content":"          if (shouldExit) {","oldContent":"          if (shouldExit) {"},{"type":"DELETE","lineNumber":475,"oldContent":"                                  ),"},{"type":"DELETE","lineNumber":476,"oldContent":"                                const Spacer(),"},{"type":"INSERT","lineNumber":475,"content":"            ),"},{"type":"INSERT","lineNumber":476,"content":"          ),"},{"type":"DELETE","lineNumber":518,"oldContent":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"DELETE","lineNumber":520,"oldContent":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":519,"content":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"INSERT","lineNumber":521,"content":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"MODIFY","lineNumber":563,"content":"                          width: 170.w,","oldContent":"                          width: 160.w,"},{"type":"DELETE","lineNumber":783,"oldContent":"                            left: 12.w,"},{"type":"DELETE","lineNumber":784,"oldContent":"                            bottom: 12.h,"},{"type":"DELETE","lineNumber":785,"oldContent":"                          Positioned("},{"type":"INSERT","lineNumber":783,"content":"                              Colors.black.withValues(alpha: 0.5),"},{"type":"INSERT","lineNumber":784,"content":"                              Colors.transparent,"},{"type":"INSERT","lineNumber":785,"content":"                            ],"},{"type":"INSERT","lineNumber":789,"content":"                        ),"},{"type":"DELETE","lineNumber":790,"oldContent":"                      ),"},{"type":"MODIFY","lineNumber":791,"content":"                      Positioned(","oldContent":"                      height: 120.h,"},{"type":"INSERT","lineNumber":804,"content":"                      ),"},{"type":"DELETE","lineNumber":809,"oldContent":"              _buildHostProfile("},{"type":"MODIFY","lineNumber":1003,"content":"                            style: AppTextStyles.bodySmall.copyWith(","oldContent":"                                    color: Colors.white,"},{"type":"DELETE","lineNumber":1017,"oldContent":"                                color: Colors.white.withValues(alpha: 0.9),"},{"type":"DELETE","lineNumber":1018,"oldContent":"                              'Discover amazing deals',"},{"type":"DELETE","lineNumber":1019,"oldContent":"                            Text("},{"type":"DELETE","lineNumber":1020,"oldContent":"                          decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1017,"content":"                  Expanded("},{"type":"INSERT","lineNumber":1018,"content":"                    child: Container("},{"type":"INSERT","lineNumber":1019,"content":"                      height: 120.h,"},{"type":"INSERT","lineNumber":1020,"content":"                      margin: EdgeInsets.only(right: 4.w),"},{"type":"MODIFY","lineNumber":1039,"content":"                            ),","oldContent":"                                ),"},{"type":"DELETE","lineNumber":1045,"oldContent":"                            ),"},{"type":"DELETE","lineNumber":1046,"oldContent":"                                fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":1045,"content":"                              crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":1046,"content":"                              children: ["},{"type":"DELETE","lineNumber":1050,"oldContent":"                        left: 16.w,"},{"type":"DELETE","lineNumber":1051,"oldContent":"                      Positioned("},{"type":"DELETE","lineNumber":1052,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":1053,"oldContent":"  void dispose() {"},{"type":"INSERT","lineNumber":1050,"content":"                                    color: Colors.white,"},{"type":"INSERT","lineNumber":1051,"content":"                                    fontSize: 10.sp,"},{"type":"INSERT","lineNumber":1052,"content":"                                    fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":1053,"content":"                                  ),"},{"type":"MODIFY","lineNumber":1056,"content":"                                  'Limited Time',","oldContent":"    return locationImages[locationName] ?? "},{"type":"DELETE","lineNumber":1058,"oldContent":"                                Text("},{"type":"DELETE","lineNumber":1059,"oldContent":"                              children: ["},{"type":"INSERT","lineNumber":1058,"content":"                                    color: Colors.white.withValues(alpha: 0.8),"},{"type":"INSERT","lineNumber":1059,"content":"                                    fontSize: 9.sp,"},{"type":"INSERT","lineNumber":1060,"content":"                                  ),"},{"type":"DELETE","lineNumber":1061,"oldContent":"                                ),"},{"type":"MODIFY","lineNumber":1105,"content":"                              crossAxisAlignment: CrossAxisAlignment.start,","oldContent":"                            color: AppColors.primary,"},{"type":"DELETE","lineNumber":1136,"oldContent":"                            color: AppColors.primary,"},{"type":"DELETE","lineNumber":1137,"oldContent":"                          decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1138,"oldContent":"                      Positioned("},{"type":"DELETE","lineNumber":1139,"oldContent":"                        : null,"},{"type":"DELETE","lineNumber":1140,"oldContent":"                          )"},{"type":"DELETE","lineNumber":1141,"oldContent":"                            end: Alignment.bottomRight,"},{"type":"DELETE","lineNumber":1142,"oldContent":"                            colors: [Colors.orange[400]!, Colors.orange[600]!],"},{"type":"INSERT","lineNumber":1136,"content":"                                borderRadius: BorderRadius.circular(8.r),"},{"type":"INSERT","lineNumber":1137,"content":"                              ),"},{"type":"INSERT","lineNumber":1138,"content":"                              child: Text("},{"type":"INSERT","lineNumber":1139,"content":"                                'VIP',"},{"type":"INSERT","lineNumber":1140,"content":"                                style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":1141,"content":"                                  color: Colors.white,"},{"type":"INSERT","lineNumber":1142,"content":"                                  fontSize: 8.sp,"},{"type":"DELETE","lineNumber":1194,"oldContent":"        ],"},{"type":"DELETE","lineNumber":1195,"oldContent":"          ),"},{"type":"INSERT","lineNumber":1194,"content":""},{"type":"INSERT","lineNumber":1195,"content":"  @override"},{"type":"DELETE","lineNumber":1205,"oldContent":"                duration: const Duration(milliseconds: 300),"},{"type":"DELETE","lineNumber":1206,"oldContent":"              (index) => AnimatedContainer("},{"type":"DELETE","lineNumber":1207,"oldContent":"          SizedBox(height: 12.h),"},{"type":"INSERT","lineNumber":1205,"content":"              onPageChanged: (index) {"},{"type":"INSERT","lineNumber":1206,"content":"                setState(() {"},{"type":"INSERT","lineNumber":1207,"content":"                  _currentPage = index;"},{"type":"INSERT","lineNumber":1208,"content":"                });"},{"type":"DELETE","lineNumber":1209,"oldContent":"                      Positioned("},{"type":"MODIFY","lineNumber":1222,"content":"                        : null,","oldContent":"        ],"},{"type":"DELETE","lineNumber":1259,"oldContent":"                                color: Colors.white,"},{"type":"DELETE","lineNumber":1260,"oldContent":"                              style: AppTextStyles.h3.copyWith("},{"type":"DELETE","lineNumber":1261,"oldContent":"                              ad.propertyTitle.isNotEmpty ? ad.propertyTitle : 'Featured Property',"},{"type":"DELETE","lineNumber":1262,"oldContent":""},{"type":"DELETE","lineNumber":1263,"oldContent":"}"},{"type":"DELETE","lineNumber":1264,"oldContent":"  }"},{"type":"INSERT","lineNumber":1259,"content":"                              color: Colors.white,"},{"type":"INSERT","lineNumber":1260,"content":"                              fontSize: 10.sp,"},{"type":"INSERT","lineNumber":1261,"content":"                              fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":1262,"content":"                            ),"},{"type":"INSERT","lineNumber":1263,"content":"                          ),"},{"type":"INSERT","lineNumber":1264,"content":"                        ),"},{"type":"DELETE","lineNumber":1273,"oldContent":"    );"},{"type":"DELETE","lineNumber":1274,"oldContent":"      ),"},{"type":"DELETE","lineNumber":1275,"oldContent":"          ),"},{"type":"INSERT","lineNumber":1273,"content":"                              ad.propertyTitle.isNotEmpty ? ad.propertyTitle : 'Featured Property',"},{"type":"INSERT","lineNumber":1274,"content":"                              style: AppTextStyles.h3.copyWith("},{"type":"INSERT","lineNumber":1275,"content":"                                color: Colors.white,"},{"type":"MODIFY","lineNumber":1288,"content":"                          ],","oldContent":"}"},{"type":"MODIFY","lineNumber":1297,"content":"          SizedBox(height: 12.h),","oldContent":"                  borderRadius: BorderRadius.circular(3.r),"},{"type":"DELETE","lineNumber":1302,"oldContent":""},{"type":"DELETE","lineNumber":1303,"oldContent":"}"},{"type":"INSERT","lineNumber":1302,"content":"              widget.ads.length,"},{"type":"INSERT","lineNumber":1303,"content":"              (index) => AnimatedContainer("},{"type":"DELETE","lineNumber":1307,"oldContent":"      ),"},{"type":"DELETE","lineNumber":1308,"oldContent":"          ),"},{"type":"INSERT","lineNumber":1307,"content":"                width: _currentPage == index ? 24.w : 6.w,"},{"type":"INSERT","lineNumber":1308,"content":"                decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1310,"oldContent":"            ),"},{"type":"MODIFY","lineNumber":1312,"content":"                  borderRadius: BorderRadius.circular(3.r),","oldContent":"              ),"},{"type":"INSERT","lineNumber":1314,"content":"              ),"},{"type":"INSERT","lineNumber":1315,"content":"            ),"},{"type":"INSERT","lineNumber":1316,"content":"          ),"},{"type":"INSERT","lineNumber":1317,"content":"        ],"},{"type":"INSERT","lineNumber":1318,"content":"      ),"},{"type":"INSERT","lineNumber":1319,"content":"    );"},{"type":"INSERT","lineNumber":1320,"content":"  }"},{"type":"INSERT","lineNumber":1321,"content":"}"},{"type":"INSERT","lineNumber":1322,"content":""}]},{"timestamp":1758301843749,"changes":[{"type":"MODIFY","lineNumber":9,"content":"import '../../../search/presentation/bloc/search_bloc.dart';","oldContent":"import '../../../../theming/colors.dart';"},{"type":"MODIFY","lineNumber":16,"content":"  const HomeScreen({super.key});","oldContent":"  Widget build(BuildContext context) {"},{"type":"INSERT","lineNumber":24,"content":"          final shouldExit = await _showExitDialog(context);"},{"type":"DELETE","lineNumber":25,"oldContent":"          if (shouldExit) {"},{"type":"DELETE","lineNumber":134,"oldContent":"    );"},{"type":"INSERT","lineNumber":135,"content":""},{"type":"DELETE","lineNumber":518,"oldContent":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"DELETE","lineNumber":520,"oldContent":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":519,"content":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"INSERT","lineNumber":521,"content":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"MODIFY","lineNumber":563,"content":"                          width: 155.w,","oldContent":"                          width: 170.w,"},{"type":"MODIFY","lineNumber":565,"content":"                          fit: BoxFit.fill,","oldContent":"                          fit: BoxFit.cover,"},{"type":"MODIFY","lineNumber":830,"content":"                child: Icon(Icons.hotel, color: Colors.orange[600], size: 16.sp),","oldContent":"                            right: 12.w,"},{"type":"MODIFY","lineNumber":853,"content":"              _buildHostProfile(","oldContent":"                  Expanded("},{"type":"MODIFY","lineNumber":867,"content":"    required String name,","oldContent":"      margin: EdgeInsets.all(16.w),"},{"type":"MODIFY","lineNumber":976,"content":"                              borderRadius: BorderRadius.circular(12.r),","oldContent":"                                fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":983,"oldContent":"  @override"},{"type":"DELETE","lineNumber":984,"oldContent":"    return locationImages[locationName] ?? "},{"type":"DELETE","lineNumber":985,"oldContent":"                                Text("},{"type":"INSERT","lineNumber":983,"content":"                          );"},{"type":"INSERT","lineNumber":984,"content":"                        },"},{"type":"INSERT","lineNumber":985,"content":"                      ),"},{"type":"MODIFY","lineNumber":989,"content":"                      left: 12.w,","oldContent":"                              crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"MODIFY","lineNumber":1004,"content":"                              color: Colors.white.withValues(alpha: 0.8),","oldContent":"                        child: Container("},{"type":"DELETE","lineNumber":1007,"oldContent":"    super.dispose();"},{"type":"DELETE","lineNumber":1008,"oldContent":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"DELETE","lineNumber":1009,"oldContent":"                                    color: Colors.white,"},{"type":"DELETE","lineNumber":1010,"oldContent":"                                  style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":1007,"content":"                          ),"},{"type":"INSERT","lineNumber":1008,"content":"                        ],"},{"type":"INSERT","lineNumber":1009,"content":"                      ),"},{"type":"INSERT","lineNumber":1010,"content":"                    ),"},{"type":"MODIFY","lineNumber":1012,"content":"                ),","oldContent":"                                  'Special Offer',"},{"type":"DELETE","lineNumber":1021,"oldContent":"                          crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":1022,"oldContent":"                        child: Column("},{"type":"DELETE","lineNumber":1023,"oldContent":"                        bottom: 16.h,"},{"type":"INSERT","lineNumber":1021,"content":"                      decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1022,"content":"                        borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":1023,"content":"                        color: Colors.grey[400],"},{"type":"MODIFY","lineNumber":1044,"content":"                            child: Column(","oldContent":"                        ],"},{"type":"MODIFY","lineNumber":1049,"content":"                                  style: AppTextStyles.bodySmall.copyWith(","oldContent":"                              ),"},{"type":"MODIFY","lineNumber":1054,"content":"                                ),","oldContent":"                      Positioned("},{"type":"MODIFY","lineNumber":1061,"content":"                                ),","oldContent":"           'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400&h=300&fit=crop';"},{"type":"DELETE","lineNumber":1066,"oldContent":"                                'VIP',"},{"type":"DELETE","lineNumber":1067,"oldContent":"                              ),"},{"type":"DELETE","lineNumber":1068,"oldContent":"                                borderRadius: BorderRadius.circular(8.r),"},{"type":"DELETE","lineNumber":1069,"oldContent":"                                    fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":1070,"oldContent":"                              children: ["},{"type":"DELETE","lineNumber":1071,"oldContent":""},{"type":"INSERT","lineNumber":1066,"content":"                      ),"},{"type":"INSERT","lineNumber":1067,"content":"                    ),"},{"type":"INSERT","lineNumber":1068,"content":"                  ),"},{"type":"INSERT","lineNumber":1069,"content":"                  SizedBox(width: 8.w),"},{"type":"INSERT","lineNumber":1070,"content":"                  Expanded("},{"type":"INSERT","lineNumber":1071,"content":"                    child: Container("},{"type":"MODIFY","lineNumber":1135,"content":"                                color: Colors.orange[600],","oldContent":"                      ? AppColors.primary "},{"type":"MODIFY","lineNumber":1204,"content":"              controller: _pageController,","oldContent":"                );"},{"type":"MODIFY","lineNumber":1209,"content":"              },","oldContent":"                          ],"},{"type":"DELETE","lineNumber":1213,"oldContent":"                                color: Colors.white.withValues(alpha: 0.9),"},{"type":"DELETE","lineNumber":1214,"oldContent":"                          ),"},{"type":"INSERT","lineNumber":1213,"content":"                return Container("},{"type":"INSERT","lineNumber":1214,"content":"                  margin: EdgeInsets.symmetric(horizontal: 4.w),"},{"type":"DELETE","lineNumber":1232,"oldContent":"    );"},{"type":"DELETE","lineNumber":1233,"oldContent":"      ),"},{"type":"DELETE","lineNumber":1234,"oldContent":"          ),"},{"type":"DELETE","lineNumber":1235,"oldContent":"                                fontSize: 12.sp,"},{"type":"DELETE","lineNumber":1236,"oldContent":"                                color: Colors.white.withValues(alpha: 0.9),"},{"type":"DELETE","lineNumber":1237,"oldContent":"                            Text("},{"type":"DELETE","lineNumber":1238,"oldContent":"                                fontSize: 18.sp,"},{"type":"INSERT","lineNumber":1232,"content":"                    children: ["},{"type":"INSERT","lineNumber":1233,"content":"                      // Overlay for better text readability"},{"type":"INSERT","lineNumber":1234,"content":"                      Container("},{"type":"INSERT","lineNumber":1235,"content":"                        decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1236,"content":"                          borderRadius: BorderRadius.circular(16.r),"},{"type":"INSERT","lineNumber":1237,"content":"                          gradient: LinearGradient("},{"type":"INSERT","lineNumber":1238,"content":"                            colors: ["},{"type":"MODIFY","lineNumber":1251,"content":"                          padding: EdgeInsets.symmetric(horizontal: 8.w, vertical: 4.h),","oldContent":"        ],"},{"type":"DELETE","lineNumber":1254,"oldContent":"                decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1255,"oldContent":"                width: _currentPage == index ? 24.w : 6.w,"},{"type":"DELETE","lineNumber":1256,"oldContent":"                              ),"},{"type":"DELETE","lineNumber":1257,"oldContent":"                                fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":1258,"oldContent":""},{"type":"INSERT","lineNumber":1254,"content":"                            borderRadius: BorderRadius.circular(4.r),"},{"type":"INSERT","lineNumber":1255,"content":"                          ),"},{"type":"INSERT","lineNumber":1256,"content":"                          child: Text("},{"type":"INSERT","lineNumber":1257,"content":"                            'Special Advertisement Goes Here',"},{"type":"INSERT","lineNumber":1258,"content":"                            style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":1277,"oldContent":""},{"type":"DELETE","lineNumber":1278,"oldContent":"  }"},{"type":"INSERT","lineNumber":1277,"content":"                                fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":1278,"content":"                              ),"},{"type":"DELETE","lineNumber":1282,"oldContent":"          ),"},{"type":"DELETE","lineNumber":1283,"oldContent":"            ),"},{"type":"INSERT","lineNumber":1282,"content":"                              'Discover amazing deals',"},{"type":"INSERT","lineNumber":1283,"content":"                              style: AppTextStyles.bodySmall.copyWith("},{"type":"MODIFY","lineNumber":1286,"content":"                              ),","oldContent":"                  borderRadius: BorderRadius.circular(3.r),"},{"type":"MODIFY","lineNumber":1295,"content":"            ),","oldContent":""},{"type":"DELETE","lineNumber":1298,"oldContent":"    );"},{"type":"DELETE","lineNumber":1299,"oldContent":"      ),"},{"type":"INSERT","lineNumber":1298,"content":"          // Page indicators"},{"type":"INSERT","lineNumber":1299,"content":"          Row("},{"type":"MODIFY","lineNumber":1301,"content":"            children: List.generate(","oldContent":"          ),"},{"type":"DELETE","lineNumber":1309,"oldContent":"}"},{"type":"DELETE","lineNumber":1310,"oldContent":"    );"},{"type":"INSERT","lineNumber":1309,"content":"                  color: _currentPage == index"},{"type":"INSERT","lineNumber":1310,"content":"                      ? AppColors.primary"},{"type":"INSERT","lineNumber":1311,"content":"                      : Colors.grey[300],"},{"type":"MODIFY","lineNumber":1313,"content":"                ),","oldContent":"        ],"},{"type":"DELETE","lineNumber":1314,"oldContent":"          ),"},{"type":"INSERT","lineNumber":1316,"content":"          ),"},{"type":"INSERT","lineNumber":1317,"content":"        ],"},{"type":"INSERT","lineNumber":1318,"content":"      ),"},{"type":"INSERT","lineNumber":1319,"content":"    );"},{"type":"INSERT","lineNumber":1320,"content":"  }"},{"type":"INSERT","lineNumber":1321,"content":"}"},{"type":"INSERT","lineNumber":1322,"content":""}]},{"timestamp":1758301853218,"changes":[{"type":"MODIFY","lineNumber":135,"content":"","oldContent":""},{"type":"DELETE","lineNumber":518,"oldContent":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"DELETE","lineNumber":520,"oldContent":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":519,"content":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"INSERT","lineNumber":521,"content":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"MODIFY","lineNumber":565,"content":"                          fit: BoxFit.cover,","oldContent":"                          fit: BoxFit.fill,"},{"type":"MODIFY","lineNumber":1314,"content":"              ),","oldContent":"    );"},{"type":"DELETE","lineNumber":1318,"oldContent":"        ],"},{"type":"DELETE","lineNumber":1319,"oldContent":"          ),"},{"type":"DELETE","lineNumber":1321,"oldContent":""},{"type":"DELETE","lineNumber":1323,"oldContent":"}"},{"type":"INSERT","lineNumber":1321,"content":"}"},{"type":"INSERT","lineNumber":1322,"content":""}]},{"timestamp":1758302001265,"changes":[{"type":"INSERT","lineNumber":134,"content":"  }"},{"type":"DELETE","lineNumber":135,"oldContent":""},{"type":"DELETE","lineNumber":518,"oldContent":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"DELETE","lineNumber":520,"oldContent":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":519,"content":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"INSERT","lineNumber":521,"content":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"DELETE","lineNumber":560,"oldContent":"                  child: property.mainImageUrl != null"},{"type":"DELETE","lineNumber":561,"oldContent":"                      ? Image.network("},{"type":"DELETE","lineNumber":562,"oldContent":"                          property.mainImageUrl!,"},{"type":"DELETE","lineNumber":563,"oldContent":"                          width: 155.w,"},{"type":"DELETE","lineNumber":564,"oldContent":"                          height: 148.h,"},{"type":"DELETE","lineNumber":565,"oldContent":"                          fit: BoxFit.cover,"},{"type":"DELETE","lineNumber":566,"oldContent":"                          errorBuilder: (context, error, stackTrace) {"},{"type":"DELETE","lineNumber":567,"oldContent":"                            return Container("},{"type":"DELETE","lineNumber":568,"oldContent":"                              width: 155.w,"},{"type":"DELETE","lineNumber":569,"oldContent":"                              height: 148.h,"},{"type":"DELETE","lineNumber":570,"oldContent":"                              color: Colors.grey[300],"},{"type":"DELETE","lineNumber":571,"oldContent":"                              child: Icon("},{"type":"DELETE","lineNumber":572,"oldContent":"                                Icons.home,"},{"type":"DELETE","lineNumber":573,"oldContent":"                                color: Colors.grey[500],"},{"type":"DELETE","lineNumber":574,"oldContent":"                                size: 30.sp,"},{"type":"DELETE","lineNumber":575,"oldContent":"                              ),"},{"type":"DELETE","lineNumber":576,"oldContent":"                            );"},{"type":"DELETE","lineNumber":577,"oldContent":"                          },"},{"type":"DELETE","lineNumber":578,"oldContent":"                        )"},{"type":"DELETE","lineNumber":579,"oldContent":"                      : Container("},{"type":"DELETE","lineNumber":580,"oldContent":"                          width: 155.w,"},{"type":"DELETE","lineNumber":581,"oldContent":"                          height: 148.h,"},{"type":"DELETE","lineNumber":582,"oldContent":"                          color: Colors.grey[300],"},{"type":"DELETE","lineNumber":583,"oldContent":"                          child: Icon("},{"type":"DELETE","lineNumber":584,"oldContent":"                            Icons.home,"},{"type":"DELETE","lineNumber":585,"oldContent":"                            color: Colors.grey[500],"},{"type":"DELETE","lineNumber":586,"oldContent":"                            size: 30.sp,"},{"type":"INSERT","lineNumber":560,"content":"                  child: Container("},{"type":"INSERT","lineNumber":561,"content":"                    width: 155.w,"},{"type":"INSERT","lineNumber":562,"content":"                    height: 148.h,"},{"type":"INSERT","lineNumber":563,"content":"                    child: property.mainImageUrl != null"},{"type":"INSERT","lineNumber":564,"content":"                        ? Image.network("},{"type":"INSERT","lineNumber":565,"content":"                            property.mainImageUrl!,"},{"type":"INSERT","lineNumber":566,"content":"                            width: double.infinity,"},{"type":"INSERT","lineNumber":567,"content":"                            height: double.infinity,"},{"type":"INSERT","lineNumber":568,"content":"                            fit: BoxFit.cover,"},{"type":"INSERT","lineNumber":569,"content":"                            errorBuilder: (context, error, stackTrace) {"},{"type":"INSERT","lineNumber":570,"content":"                              return Container("},{"type":"INSERT","lineNumber":571,"content":"                                width: double.infinity,"},{"type":"INSERT","lineNumber":572,"content":"                                height: double.infinity,"},{"type":"INSERT","lineNumber":573,"content":"                                color: Colors.grey[300],"},{"type":"INSERT","lineNumber":574,"content":"                                child: Icon("},{"type":"INSERT","lineNumber":575,"content":"                                  Icons.home,"},{"type":"INSERT","lineNumber":576,"content":"                                  color: Colors.grey[500],"},{"type":"INSERT","lineNumber":577,"content":"                                  size: 30.sp,"},{"type":"INSERT","lineNumber":578,"content":"                                ),"},{"type":"INSERT","lineNumber":579,"content":"                              );"},{"type":"INSERT","lineNumber":580,"content":"                            },"},{"type":"INSERT","lineNumber":581,"content":"                          )"},{"type":"INSERT","lineNumber":582,"content":"                        : Container("},{"type":"INSERT","lineNumber":583,"content":"                            width: double.infinity,"},{"type":"INSERT","lineNumber":584,"content":"                            height: double.infinity,"},{"type":"INSERT","lineNumber":585,"content":"                            color: Colors.grey[300],"},{"type":"INSERT","lineNumber":586,"content":"                            child: Icon("},{"type":"INSERT","lineNumber":587,"content":"                              Icons.home,"},{"type":"INSERT","lineNumber":588,"content":"                              color: Colors.grey[500],"},{"type":"INSERT","lineNumber":589,"content":"                              size: 30.sp,"},{"type":"INSERT","lineNumber":590,"content":"                            ),"},{"type":"DELETE","lineNumber":588,"oldContent":"                        ),"},{"type":"INSERT","lineNumber":592,"content":"                  ),"},{"type":"DELETE","lineNumber":910,"oldContent":"                        color: Colors.grey[400],"},{"type":"INSERT","lineNumber":914,"content":"              ),"},{"type":"DELETE","lineNumber":919,"oldContent":"          Row("},{"type":"DELETE","lineNumber":920,"oldContent":"                            ),"},{"type":"INSERT","lineNumber":923,"content":"    return Container("},{"type":"INSERT","lineNumber":924,"content":"      margin: EdgeInsets.all(16.w),"},{"type":"DELETE","lineNumber":986,"oldContent":"                                    fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":990,"content":"                    ),"},{"type":"DELETE","lineNumber":1064,"oldContent":"                  margin: EdgeInsets.symmetric(horizontal: 4.w),"},{"type":"DELETE","lineNumber":1065,"oldContent":"                return Container("},{"type":"INSERT","lineNumber":1068,"content":"                          ),"},{"type":"INSERT","lineNumber":1069,"content":"                        ],"},{"type":"DELETE","lineNumber":1123,"oldContent":""},{"type":"DELETE","lineNumber":1124,"oldContent":"  }"},{"type":"DELETE","lineNumber":1125,"oldContent":"      ),"},{"type":"INSERT","lineNumber":1127,"content":"                                  maxLines: 1,"},{"type":"INSERT","lineNumber":1128,"content":"                                  overflow: TextOverflow.ellipsis,"},{"type":"INSERT","lineNumber":1129,"content":"                                ),"},{"type":"DELETE","lineNumber":1210,"oldContent":"          ),"},{"type":"DELETE","lineNumber":1211,"oldContent":"                                color: Colors.white.withValues(alpha: 0.9),"},{"type":"INSERT","lineNumber":1214,"content":"              itemCount: widget.ads.length,"},{"type":"INSERT","lineNumber":1215,"content":"              itemBuilder: (context, index) {"},{"type":"DELETE","lineNumber":1228,"oldContent":""},{"type":"INSERT","lineNumber":1232,"content":"                          )"},{"type":"DELETE","lineNumber":1230,"oldContent":"        ],"},{"type":"INSERT","lineNumber":1234,"content":"                  ),"},{"type":"DELETE","lineNumber":1244,"oldContent":"        ],"},{"type":"DELETE","lineNumber":1245,"oldContent":"              ),"},{"type":"INSERT","lineNumber":1248,"content":"                          ),"},{"type":"INSERT","lineNumber":1249,"content":"                        ),"},{"type":"DELETE","lineNumber":1247,"oldContent":"                      : Colors.grey[300],"},{"type":"INSERT","lineNumber":1251,"content":"                      Positioned("},{"type":"DELETE","lineNumber":1267,"oldContent":"    );"},{"type":"DELETE","lineNumber":1268,"oldContent":"      ),"},{"type":"DELETE","lineNumber":1269,"oldContent":"        ],"},{"type":"DELETE","lineNumber":1270,"oldContent":"          ),"},{"type":"MODIFY","lineNumber":1271,"content":"                        left: 16.w,","oldContent":"            ),"},{"type":"INSERT","lineNumber":1272,"content":"                        bottom: 16.h,"},{"type":"INSERT","lineNumber":1273,"content":"                        child: Column("},{"type":"INSERT","lineNumber":1274,"content":"                          crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":1275,"content":"                          children: ["},{"type":"DELETE","lineNumber":1289,"oldContent":"  }"},{"type":"INSERT","lineNumber":1293,"content":"                        ),"},{"type":"DELETE","lineNumber":1291,"oldContent":"      ),"},{"type":"DELETE","lineNumber":1292,"oldContent":"        ],"},{"type":"DELETE","lineNumber":1293,"oldContent":"          ),"},{"type":"INSERT","lineNumber":1295,"content":"                    ],"},{"type":"INSERT","lineNumber":1296,"content":"                  ),"},{"type":"INSERT","lineNumber":1297,"content":"                );"},{"type":"INSERT","lineNumber":1298,"content":"              },"},{"type":"DELETE","lineNumber":1295,"oldContent":"            ),"},{"type":"DELETE","lineNumber":1304,"oldContent":"}"},{"type":"DELETE","lineNumber":1305,"oldContent":"  }"},{"type":"DELETE","lineNumber":1306,"oldContent":"    );"},{"type":"INSERT","lineNumber":1308,"content":"                duration: const Duration(milliseconds: 300),"},{"type":"INSERT","lineNumber":1309,"content":"                margin: EdgeInsets.symmetric(horizontal: 3.w),"},{"type":"INSERT","lineNumber":1310,"content":"                height: 6.h,"},{"type":"DELETE","lineNumber":1312,"oldContent":""},{"type":"DELETE","lineNumber":1313,"oldContent":"}"},{"type":"INSERT","lineNumber":1316,"content":"                  borderRadius: BorderRadius.circular(3.r),"},{"type":"INSERT","lineNumber":1317,"content":"                ),"},{"type":"DELETE","lineNumber":1315,"oldContent":"      ),"},{"type":"INSERT","lineNumber":1319,"content":"            ),"},{"type":"INSERT","lineNumber":1322,"content":"      ),"},{"type":"INSERT","lineNumber":1323,"content":"    );"},{"type":"INSERT","lineNumber":1324,"content":"  }"},{"type":"INSERT","lineNumber":1325,"content":"}"},{"type":"INSERT","lineNumber":1326,"content":""}]},{"timestamp":1758302124736,"changes":[{"type":"MODIFY","lineNumber":283,"content":"                    color: AppColors.primary,","oldContent":"                  width: 200.w,"},{"type":"MODIFY","lineNumber":299,"content":"                    color: AppColors.primary,","oldContent":"                            color: Colors.grey[500],"},{"type":"DELETE","lineNumber":328,"oldContent":"                    ],"},{"type":"DELETE","lineNumber":329,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":330,"oldContent":"                );"},{"type":"DELETE","lineNumber":331,"oldContent":"              },"},{"type":"INSERT","lineNumber":328,"content":"          // Two cards side by side"},{"type":"INSERT","lineNumber":329,"content":"          Padding("},{"type":"INSERT","lineNumber":330,"content":"            padding: EdgeInsets.symmetric(horizontal: 16.w),"},{"type":"INSERT","lineNumber":331,"content":"            child: Row("},{"type":"INSERT","lineNumber":333,"content":"              children: ["},{"type":"INSERT","lineNumber":334,"content":"                // First property card"},{"type":"INSERT","lineNumber":335,"content":"                if (properties.isNotEmpty)"},{"type":"INSERT","lineNumber":336,"content":"                  _buildSpecialStayCard(properties[0]),"},{"type":"INSERT","lineNumber":337,"content":"                if (properties.length > 1) ...["},{"type":"INSERT","lineNumber":338,"content":"                  SizedBox(width: 12.w),"},{"type":"INSERT","lineNumber":339,"content":"                  // Second property card"},{"type":"INSERT","lineNumber":340,"content":"                  _buildSpecialStayCard(properties[1]),"},{"type":"INSERT","lineNumber":341,"content":"                ],"},{"type":"INSERT","lineNumber":342,"content":"              ],"},{"type":"DELETE","lineNumber":336,"oldContent":"                  _buildSpecialStayCard(properties[0]),"},{"type":"INSERT","lineNumber":346,"content":"      ),"},{"type":"INSERT","lineNumber":347,"content":"    );"},{"type":"INSERT","lineNumber":348,"content":"  }"},{"type":"DELETE","lineNumber":338,"oldContent":"  Widget _buildHighlyRatedProperties() {"},{"type":"DELETE","lineNumber":339,"oldContent":"                  // Second property card"},{"type":"DELETE","lineNumber":340,"oldContent":"                  _buildSpecialStayCard(properties[1]),"},{"type":"DELETE","lineNumber":341,"oldContent":"          Padding("},{"type":"DELETE","lineNumber":342,"oldContent":"            padding: EdgeInsets.symmetric(horizontal: 16.w),"},{"type":"DELETE","lineNumber":343,"oldContent":"            child: Row("},{"type":"DELETE","lineNumber":344,"oldContent":"              children: ["},{"type":"DELETE","lineNumber":345,"oldContent":"                Icon(Icons.star, color: Colors.orange, size: 20.sp),"},{"type":"DELETE","lineNumber":346,"oldContent":"                Text("},{"type":"DELETE","lineNumber":347,"oldContent":"                  style: AppTextStyles.h4.copyWith("},{"type":"DELETE","lineNumber":348,"oldContent":"                    fontSize: 16.sp,"},{"type":"DELETE","lineNumber":349,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":350,"oldContent":"                ),"},{"type":"DELETE","lineNumber":351,"oldContent":"                const Spacer(),"},{"type":"INSERT","lineNumber":350,"content":"  Widget _buildSpecialStayCard(Property property) {"},{"type":"INSERT","lineNumber":351,"content":"    return Container("},{"type":"MODIFY","lineNumber":354,"content":"      decoration: BoxDecoration(","oldContent":"              ],"},{"type":"DELETE","lineNumber":356,"oldContent":"            ),"},{"type":"DELETE","lineNumber":357,"oldContent":"              itemBuilder: (context, index) {"},{"type":"DELETE","lineNumber":358,"oldContent":"                return Container("},{"type":"DELETE","lineNumber":359,"oldContent":"                  width: 160.w,"},{"type":"DELETE","lineNumber":360,"oldContent":"                  margin: EdgeInsets.only(right: 12.w),"},{"type":"DELETE","lineNumber":361,"oldContent":"                  decoration: BoxDecoration("},{"type":"DELETE","lineNumber":362,"oldContent":"                    borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":363,"oldContent":"                    color: Colors.white,"},{"type":"DELETE","lineNumber":364,"oldContent":"                    boxShadow: ["},{"type":"INSERT","lineNumber":356,"content":"        borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":357,"content":"      ),"},{"type":"INSERT","lineNumber":358,"content":"      child: Stack("},{"type":"INSERT","lineNumber":359,"content":"        children: ["},{"type":"INSERT","lineNumber":360,"content":"          // Main image"},{"type":"INSERT","lineNumber":361,"content":"          ClipRRect("},{"type":"INSERT","lineNumber":362,"content":"            borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":363,"content":"            child: property.mainImageUrl != null"},{"type":"INSERT","lineNumber":364,"content":"                ? Image.network("},{"type":"DELETE","lineNumber":389,"oldContent":"                              color: Colors.grey[500],"},{"type":"DELETE","lineNumber":390,"oldContent":"                              size: 40.sp,"},{"type":"DELETE","lineNumber":391,"oldContent":"                            ),"},{"type":"DELETE","lineNumber":392,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":393,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":394,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":395,"oldContent":"                      Expanded("},{"type":"DELETE","lineNumber":396,"oldContent":"                        flex: 2,"},{"type":"DELETE","lineNumber":397,"oldContent":"                        child: Padding("},{"type":"DELETE","lineNumber":398,"oldContent":"                          padding: EdgeInsets.all(12.w),"},{"type":"DELETE","lineNumber":399,"oldContent":"                          child: Column("},{"type":"DELETE","lineNumber":400,"oldContent":"                            crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":401,"oldContent":"                            children: ["},{"type":"DELETE","lineNumber":402,"oldContent":"                              Text("},{"type":"DELETE","lineNumber":403,"oldContent":"                                'Rent An Hotel Room',"},{"type":"DELETE","lineNumber":404,"oldContent":"                                style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":405,"oldContent":"                                  color: AppColors.textPrimary,"},{"type":"DELETE","lineNumber":406,"oldContent":"                                  fontSize: 12.sp,"},{"type":"DELETE","lineNumber":407,"oldContent":"                                  fontWeight: FontWeight.w600,"},{"type":"DELETE","lineNumber":408,"oldContent":"                                ),"},{"type":"DELETE","lineNumber":409,"oldContent":"                                maxLines: 1,"},{"type":"DELETE","lineNumber":410,"oldContent":"                                overflow: TextOverflow.ellipsis,"},{"type":"DELETE","lineNumber":411,"oldContent":"                              Text("},{"type":"DELETE","lineNumber":412,"oldContent":"                                'In Damascus Center',"},{"type":"DELETE","lineNumber":413,"oldContent":"                                style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":414,"oldContent":"                                  color: Colors.grey[600],"},{"type":"DELETE","lineNumber":415,"oldContent":"                                  fontSize: 10.sp,"},{"type":"DELETE","lineNumber":416,"oldContent":"                                ),"},{"type":"DELETE","lineNumber":417,"oldContent":"                                maxLines: 1,"},{"type":"DELETE","lineNumber":418,"oldContent":"                                overflow: TextOverflow.ellipsis,"},{"type":"DELETE","lineNumber":419,"oldContent":"                              ),"},{"type":"DELETE","lineNumber":420,"oldContent":"                              const Spacer(),"},{"type":"DELETE","lineNumber":421,"oldContent":"                              Row("},{"type":"INSERT","lineNumber":389,"content":"                  ),"},{"type":"INSERT","lineNumber":390,"content":"          ),"},{"type":"INSERT","lineNumber":391,"content":"          // Heart icon"},{"type":"INSERT","lineNumber":392,"content":"          Positioned("},{"type":"INSERT","lineNumber":393,"content":"            top: 12.h,"},{"type":"INSERT","lineNumber":394,"content":"            right: 12.w,"},{"type":"INSERT","lineNumber":395,"content":"            child: GestureDetector("},{"type":"INSERT","lineNumber":396,"content":"              onTap: () {"},{"type":"INSERT","lineNumber":397,"content":"                // TODO: Toggle favorite"},{"type":"INSERT","lineNumber":398,"content":"              },"},{"type":"INSERT","lineNumber":399,"content":"              child: Container("},{"type":"INSERT","lineNumber":400,"content":"                padding: EdgeInsets.all(6.w),"},{"type":"INSERT","lineNumber":401,"content":"                decoration: BoxDecoration("},{"type":"INSERT","lineNumber":402,"content":"                  color: Colors.white.withValues(alpha: 0.9),"},{"type":"INSERT","lineNumber":403,"content":"                  shape: BoxShape.circle,"},{"type":"INSERT","lineNumber":404,"content":"                ),"},{"type":"INSERT","lineNumber":405,"content":"                child: Icon("},{"type":"INSERT","lineNumber":406,"content":"                  property.isFavorite ? Icons.favorite : Icons.favorite_border,"},{"type":"INSERT","lineNumber":407,"content":"                  color: property.isFavorite ? AppColors.primary : Colors.grey[600],"},{"type":"INSERT","lineNumber":408,"content":"                  size: 16.sp,"},{"type":"INSERT","lineNumber":409,"content":"                ),"},{"type":"INSERT","lineNumber":410,"content":"              ),"},{"type":"INSERT","lineNumber":411,"content":"            ),"},{"type":"INSERT","lineNumber":412,"content":"          ),"},{"type":"INSERT","lineNumber":413,"content":"          // Property details overlay at bottom"},{"type":"INSERT","lineNumber":414,"content":"          Positioned("},{"type":"INSERT","lineNumber":415,"content":"            left: 12.w,"},{"type":"INSERT","lineNumber":416,"content":"            right: 12.w,"},{"type":"INSERT","lineNumber":417,"content":"            bottom: 12.h,"},{"type":"INSERT","lineNumber":418,"content":"            child: Column("},{"type":"INSERT","lineNumber":419,"content":"              crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":420,"content":"              children: ["},{"type":"INSERT","lineNumber":421,"content":"                Text("},{"type":"DELETE","lineNumber":425,"oldContent":"                                    padding: EdgeInsets.symmetric(horizontal: 6.w, vertical: 2.h),"},{"type":"DELETE","lineNumber":426,"oldContent":"                                    decoration: BoxDecoration("},{"type":"DELETE","lineNumber":427,"oldContent":"                                      color: Colors.orange,"},{"type":"DELETE","lineNumber":428,"oldContent":"                                      borderRadius: BorderRadius.circular(4.r),"},{"type":"DELETE","lineNumber":429,"oldContent":"                                    ),"},{"type":"INSERT","lineNumber":425,"content":"                    fontSize: 14.sp,"},{"type":"INSERT","lineNumber":426,"content":"                    fontWeight: FontWeight.w600,"},{"type":"INSERT","lineNumber":427,"content":"                    shadows: ["},{"type":"INSERT","lineNumber":428,"content":"                      Shadow("},{"type":"INSERT","lineNumber":429,"content":"                        offset: const Offset(0, 1),"},{"type":"DELETE","lineNumber":435,"oldContent":"                                      children: ["},{"type":"DELETE","lineNumber":436,"oldContent":"                                        Icon(Icons.star, color: Colors.white, size: 10.sp),"},{"type":"DELETE","lineNumber":437,"oldContent":"                                        SizedBox(width: 2.w),"},{"type":"DELETE","lineNumber":438,"oldContent":"                                        Text("},{"type":"DELETE","lineNumber":439,"oldContent":"                                          '4.8',"},{"type":"DELETE","lineNumber":440,"oldContent":"                                          style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":441,"oldContent":"                                            color: Colors.white,"},{"type":"DELETE","lineNumber":442,"oldContent":"                                            fontSize: 8.sp,"},{"type":"DELETE","lineNumber":443,"oldContent":"                                            fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":444,"oldContent":"                                          ),"},{"type":"DELETE","lineNumber":445,"oldContent":"                                        ),"},{"type":"DELETE","lineNumber":446,"oldContent":"                                      ],"},{"type":"DELETE","lineNumber":447,"oldContent":"                                    ),"},{"type":"DELETE","lineNumber":448,"oldContent":"                                  ),"},{"type":"INSERT","lineNumber":435,"content":"                  maxLines: 2,"},{"type":"INSERT","lineNumber":436,"content":"                  overflow: TextOverflow.ellipsis,"},{"type":"INSERT","lineNumber":437,"content":"                ),"},{"type":"INSERT","lineNumber":438,"content":"                SizedBox(height: 8.h),"},{"type":"INSERT","lineNumber":439,"content":"                Text("},{"type":"INSERT","lineNumber":440,"content":"                  '${property.pricePerNight.toStringAsFixed(0)} \\$ / Night',"},{"type":"INSERT","lineNumber":441,"content":"                  style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":442,"content":"                    color: Colors.white,"},{"type":"INSERT","lineNumber":443,"content":"                    fontSize: 12.sp,"},{"type":"INSERT","lineNumber":444,"content":"                    fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":445,"content":"                    shadows: ["},{"type":"INSERT","lineNumber":446,"content":"                      Shadow("},{"type":"INSERT","lineNumber":447,"content":"                        offset: const Offset(0, 1),"},{"type":"INSERT","lineNumber":448,"content":"                        blurRadius: 3,"},{"type":"DELETE","lineNumber":453,"oldContent":"                                  Text("},{"type":"DELETE","lineNumber":454,"oldContent":"                                    '250.00 \\$',"},{"type":"INSERT","lineNumber":453,"content":"                ),"},{"type":"INSERT","lineNumber":454,"content":"              ],"},{"type":"DELETE","lineNumber":457,"oldContent":"                                    style: AppTextStyles.bodyMedium.copyWith("},{"type":"DELETE","lineNumber":458,"oldContent":"                                      color: Colors.red[400],"},{"type":"DELETE","lineNumber":459,"oldContent":"                                      fontSize: 10.sp,"},{"type":"DELETE","lineNumber":460,"oldContent":"                                      fontWeight: FontWeight.w600,"},{"type":"DELETE","lineNumber":461,"oldContent":"                                    ),"},{"type":"DELETE","lineNumber":462,"oldContent":"                                  ),"},{"type":"DELETE","lineNumber":463,"oldContent":"                                ],"},{"type":"DELETE","lineNumber":464,"oldContent":"                              ),"},{"type":"DELETE","lineNumber":465,"oldContent":"                            ],"},{"type":"DELETE","lineNumber":466,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":467,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":468,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":469,"oldContent":"                    ],"},{"type":"DELETE","lineNumber":470,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":471,"oldContent":"                );"},{"type":"INSERT","lineNumber":457,"content":"          // Gradient overlay for text readability"},{"type":"INSERT","lineNumber":458,"content":"          Positioned("},{"type":"INSERT","lineNumber":459,"content":"            left: 0,"},{"type":"INSERT","lineNumber":460,"content":"            right: 0,"},{"type":"INSERT","lineNumber":461,"content":"            bottom: 0,"},{"type":"INSERT","lineNumber":462,"content":"            child: Container("},{"type":"INSERT","lineNumber":463,"content":"              height: 80.h,"},{"type":"INSERT","lineNumber":464,"content":"              decoration: BoxDecoration("},{"type":"INSERT","lineNumber":465,"content":"                borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":466,"content":"                gradient: LinearGradient("},{"type":"INSERT","lineNumber":467,"content":"                  begin: Alignment.topCenter,"},{"type":"INSERT","lineNumber":468,"content":"                  end: Alignment.bottomCenter,"},{"type":"INSERT","lineNumber":469,"content":"                  colors: ["},{"type":"INSERT","lineNumber":470,"content":"                    Colors.transparent,"},{"type":"INSERT","lineNumber":471,"content":"                    Colors.black.withValues(alpha: 0.7),"},{"type":"INSERT","lineNumber":472,"content":"                  ],"},{"type":"INSERT","lineNumber":473,"content":"                ),"},{"type":"INSERT","lineNumber":474,"content":"              ),"},{"type":"DELETE","lineNumber":473,"oldContent":"        ],"},{"type":"DELETE","lineNumber":474,"oldContent":"      ),"},{"type":"DELETE","lineNumber":475,"oldContent":"            ),"},{"type":"DELETE","lineNumber":518,"oldContent":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"DELETE","lineNumber":520,"oldContent":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"INSERT","lineNumber":519,"content":"                childAspectRatio: 155 / 251, // Use exact aspect ratio"},{"type":"INSERT","lineNumber":521,"content":"              itemCount: properties.length > 4 ? 4 : properties.length, // Show max 4 items"},{"type":"DELETE","lineNumber":588,"oldContent":"                          ),"},{"type":"MODIFY","lineNumber":591,"content":"                          ),","oldContent":"                ),"},{"type":"INSERT","lineNumber":592,"content":"                  ),"},{"type":"INSERT","lineNumber":593,"content":"                ),"},{"type":"DELETE","lineNumber":595,"oldContent":"                  ),"},{"type":"MODIFY","lineNumber":807,"content":"                        ),","oldContent":"    super.dispose();"},{"type":"MODIFY","lineNumber":852,"content":"              _buildHostProfile(","oldContent":"                                  style: AppTextStyles.bodySmall.copyWith("},{"type":"MODIFY","lineNumber":870,"content":"    required String imageUrl,","oldContent":"                      ),"},{"type":"INSERT","lineNumber":914,"content":"              ),"},{"type":"DELETE","lineNumber":917,"oldContent":"              ),"},{"type":"DELETE","lineNumber":923,"oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"DELETE","lineNumber":924,"oldContent":"                              style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":926,"oldContent":"                        bottom: 16.h,"},{"type":"INSERT","lineNumber":925,"content":"      child: Column("},{"type":"INSERT","lineNumber":926,"content":"        crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":927,"content":"        children: ["},{"type":"INSERT","lineNumber":990,"content":"                    ),"},{"type":"DELETE","lineNumber":993,"oldContent":"                    ),"},{"type":"INSERT","lineNumber":1068,"content":"                          ),"},{"type":"INSERT","lineNumber":1069,"content":"                        ],"},{"type":"DELETE","lineNumber":1070,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":1072,"oldContent":"                        ],"},{"type":"DELETE","lineNumber":1126,"oldContent":"              widget.ads.length,"},{"type":"MODIFY","lineNumber":1126,"content":"                                  ),","oldContent":"                              ],"},{"type":"DELETE","lineNumber":1129,"oldContent":"                            ),"},{"type":"MODIFY","lineNumber":1130,"content":"                              ],","oldContent":"                          ),"},{"type":"INSERT","lineNumber":1131,"content":"                            ),"},{"type":"INSERT","lineNumber":1132,"content":"                          ),"},{"type":"DELETE","lineNumber":1136,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":1137,"oldContent":"                            ),"},{"type":"DELETE","lineNumber":1138,"oldContent":"                              ),"},{"type":"INSERT","lineNumber":1136,"content":"                            child: Container("},{"type":"INSERT","lineNumber":1137,"content":"                              padding: EdgeInsets.symmetric(horizontal: 6.w, vertical: 2.h),"},{"type":"INSERT","lineNumber":1138,"content":"                              decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1201,"oldContent":""},{"type":"DELETE","lineNumber":1202,"oldContent":"}"},{"type":"DELETE","lineNumber":1203,"oldContent":"  }"},{"type":"DELETE","lineNumber":1204,"oldContent":"        ],"},{"type":"DELETE","lineNumber":1205,"oldContent":"            ),"},{"type":"DELETE","lineNumber":1206,"oldContent":"                width: _currentPage == index ? 24.w : 6.w,"},{"type":"INSERT","lineNumber":1201,"content":"    return Container("},{"type":"INSERT","lineNumber":1202,"content":"      margin: EdgeInsets.symmetric(horizontal: 16.w),"},{"type":"INSERT","lineNumber":1203,"content":"      child: Column("},{"type":"INSERT","lineNumber":1204,"content":"        children: ["},{"type":"INSERT","lineNumber":1205,"content":"          Container("},{"type":"INSERT","lineNumber":1206,"content":"            height: 140.h,"},{"type":"DELETE","lineNumber":1214,"oldContent":"        ],"},{"type":"DELETE","lineNumber":1215,"oldContent":"                return Container("},{"type":"DELETE","lineNumber":1217,"oldContent":"                  margin: EdgeInsets.symmetric(horizontal: 4.w),"},{"type":"INSERT","lineNumber":1216,"content":"                final ad = widget.ads[index];"},{"type":"INSERT","lineNumber":1217,"content":"                return Container("},{"type":"INSERT","lineNumber":1218,"content":"                  margin: EdgeInsets.symmetric(horizontal: 4.w),"},{"type":"DELETE","lineNumber":1223,"oldContent":"                  color: _currentPage == index "},{"type":"DELETE","lineNumber":1224,"oldContent":"                height: 6.h,"},{"type":"DELETE","lineNumber":1225,"oldContent":"                margin: EdgeInsets.symmetric(horizontal: 3.w),"},{"type":"INSERT","lineNumber":1223,"content":"                            image: NetworkImage(ad.imageUrl),"},{"type":"INSERT","lineNumber":1224,"content":"                            fit: BoxFit.cover,"},{"type":"INSERT","lineNumber":1225,"content":"                          )"},{"type":"DELETE","lineNumber":1229,"oldContent":"                              style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":1230,"oldContent":"                              ),"},{"type":"DELETE","lineNumber":1231,"oldContent":"                                fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":1229,"content":"                            colors: [Colors.orange[400]!, Colors.orange[600]!],"},{"type":"INSERT","lineNumber":1230,"content":"                            begin: Alignment.topLeft,"},{"type":"INSERT","lineNumber":1231,"content":"                            end: Alignment.bottomRight,"},{"type":"INSERT","lineNumber":1232,"content":"                          )"},{"type":"INSERT","lineNumber":1234,"content":"                  ),"},{"type":"DELETE","lineNumber":1234,"oldContent":"                          )"},{"type":"DELETE","lineNumber":1237,"oldContent":"                  ),"},{"type":"DELETE","lineNumber":1244,"oldContent":""},{"type":"DELETE","lineNumber":1245,"oldContent":"}"},{"type":"DELETE","lineNumber":1246,"oldContent":"  }"},{"type":"INSERT","lineNumber":1244,"content":"                              Colors.transparent,"},{"type":"INSERT","lineNumber":1245,"content":"                            ],"},{"type":"INSERT","lineNumber":1246,"content":"                            begin: Alignment.bottomCenter,"},{"type":"DELETE","lineNumber":1248,"oldContent":"          ),"},{"type":"DELETE","lineNumber":1250,"oldContent":"              ),"},{"type":"DELETE","lineNumber":1252,"oldContent":"                ),"},{"type":"DELETE","lineNumber":1253,"oldContent":"                  borderRadius: BorderRadius.circular(3.r),"},{"type":"INSERT","lineNumber":1250,"content":"                      ),"},{"type":"INSERT","lineNumber":1252,"content":"                        left: 16.w,"},{"type":"INSERT","lineNumber":1253,"content":"                        top: 16.h,"},{"type":"INSERT","lineNumber":1254,"content":"                        child: Container("},{"type":"MODIFY","lineNumber":1256,"content":"                          decoration: BoxDecoration(","oldContent":"                width: _currentPage == index ? 24.w : 6.w,"},{"type":"DELETE","lineNumber":1273,"oldContent":"                            Text("},{"type":"DELETE","lineNumber":1275,"oldContent":"                              ad.propertyTitle.isNotEmpty ? ad.propertyTitle : 'Featured Property',"},{"type":"DELETE","lineNumber":1277,"oldContent":"                              style: AppTextStyles.h3.copyWith("},{"type":"INSERT","lineNumber":1276,"content":"                            Text("},{"type":"INSERT","lineNumber":1277,"content":"                              ad.propertyTitle.isNotEmpty ? ad.propertyTitle : 'Featured Property',"},{"type":"INSERT","lineNumber":1278,"content":"                              style: AppTextStyles.h3.copyWith("},{"type":"DELETE","lineNumber":1288,"oldContent":"  }"},{"type":"DELETE","lineNumber":1289,"oldContent":"    );"},{"type":"INSERT","lineNumber":1288,"content":"                                color: Colors.white.withValues(alpha: 0.9),"},{"type":"INSERT","lineNumber":1289,"content":"                                fontSize: 12.sp,"},{"type":"MODIFY","lineNumber":1291,"content":"                            ),","oldContent":"        ],"},{"type":"DELETE","lineNumber":1293,"oldContent":"              ),"},{"type":"DELETE","lineNumber":1295,"oldContent":"              widget.ads.length,"},{"type":"INSERT","lineNumber":1294,"content":"                      ),"},{"type":"DELETE","lineNumber":1298,"oldContent":"}"},{"type":"DELETE","lineNumber":1300,"oldContent":"  }"},{"type":"INSERT","lineNumber":1299,"content":"            ),"},{"type":"INSERT","lineNumber":1300,"content":"          ),"},{"type":"INSERT","lineNumber":1301,"content":"          SizedBox(height: 12.h),"},{"type":"MODIFY","lineNumber":1304,"content":"            mainAxisAlignment: MainAxisAlignment.center,","oldContent":"        ],"},{"type":"DELETE","lineNumber":1306,"oldContent":"                      : Colors.grey[300],"},{"type":"DELETE","lineNumber":1307,"oldContent":"                      ? AppColors.primary"},{"type":"DELETE","lineNumber":1308,"oldContent":""},{"type":"INSERT","lineNumber":1306,"content":"              widget.ads.length,"},{"type":"INSERT","lineNumber":1307,"content":"              (index) => AnimatedContainer("},{"type":"DELETE","lineNumber":1310,"oldContent":"}"},{"type":"DELETE","lineNumber":1312,"oldContent":"  }"},{"type":"DELETE","lineNumber":1314,"oldContent":"    );"},{"type":"DELETE","lineNumber":1315,"oldContent":"      ),"},{"type":"INSERT","lineNumber":1311,"content":"                width: _currentPage == index ? 24.w : 6.w,"},{"type":"INSERT","lineNumber":1312,"content":"                decoration: BoxDecoration("},{"type":"INSERT","lineNumber":1313,"content":"                  color: _currentPage == index"},{"type":"INSERT","lineNumber":1314,"content":"                      ? AppColors.primary"},{"type":"INSERT","lineNumber":1315,"content":"                      : Colors.grey[300],"},{"type":"INSERT","lineNumber":1317,"content":"                ),"},{"type":"INSERT","lineNumber":1318,"content":"              ),"},{"type":"INSERT","lineNumber":1319,"content":"            ),"},{"type":"INSERT","lineNumber":1320,"content":"          ),"},{"type":"INSERT","lineNumber":1321,"content":"        ],"},{"type":"INSERT","lineNumber":1322,"content":"      ),"},{"type":"INSERT","lineNumber":1323,"content":"    );"},{"type":"INSERT","lineNumber":1324,"content":"  }"},{"type":"INSERT","lineNumber":1325,"content":"}"},{"type":"INSERT","lineNumber":1326,"content":""}]},{"timestamp":1758303700668,"changes":[{"type":"DELETE","lineNumber":334,"oldContent":"            ),"},{"type":"DELETE","lineNumber":336,"oldContent":"          ),"},{"type":"DELETE","lineNumber":338,"oldContent":"        ],"},{"type":"DELETE","lineNumber":341,"oldContent":""},{"type":"INSERT","lineNumber":343,"content":"            ),"},{"type":"INSERT","lineNumber":344,"content":"          ),"},{"type":"INSERT","lineNumber":345,"content":"        ],"},{"type":"INSERT","lineNumber":349,"content":""},{"type":"DELETE","lineNumber":450,"oldContent":"                                  ),"},{"type":"DELETE","lineNumber":451,"oldContent":"                                  Text("},{"type":"INSERT","lineNumber":450,"content":"                      ),"},{"type":"INSERT","lineNumber":451,"content":"                    ],"},{"type":"DELETE","lineNumber":473,"oldContent":"      ),"},{"type":"INSERT","lineNumber":475,"content":"            ),"},{"type":"DELETE","lineNumber":509,"oldContent":"                  color: Colors.white,"},{"type":"DELETE","lineNumber":510,"oldContent":"                  borderRadius: BorderRadius.circular(12.r),"},{"type":"DELETE","lineNumber":511,"oldContent":"                  boxShadow: ["},{"type":"DELETE","lineNumber":512,"oldContent":"                    BoxShadow("},{"type":"DELETE","lineNumber":513,"oldContent":"                      color: Colors.grey.withValues(alpha: 0.1),"},{"type":"DELETE","lineNumber":514,"oldContent":"                      spreadRadius: 1,"},{"type":"DELETE","lineNumber":515,"oldContent":"                      blurRadius: 8,"},{"type":"DELETE","lineNumber":516,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":517,"oldContent":"                ),"},{"type":"INSERT","lineNumber":509,"content":"          // Grid of properties (2x2 layout)"},{"type":"INSERT","lineNumber":510,"content":"          Padding("},{"type":"INSERT","lineNumber":511,"content":"            padding: EdgeInsets.symmetric(horizontal: 16.w),"},{"type":"INSERT","lineNumber":512,"content":"            child: GridView.builder("},{"type":"INSERT","lineNumber":513,"content":"              shrinkWrap: true,"},{"type":"INSERT","lineNumber":514,"content":"              physics: const NeverScrollableScrollPhysics(),"},{"type":"INSERT","lineNumber":515,"content":"              gridDelegate: SliverGridDelegateWithFixedCrossAxisCount("},{"type":"INSERT","lineNumber":516,"content":"                crossAxisCount: 2,"},{"type":"INSERT","lineNumber":517,"content":"                crossAxisSpacing: 12.w,"},{"type":"INSERT","lineNumber":518,"content":"                mainAxisSpacing: 12.h,"},{"type":"DELETE","lineNumber":519,"oldContent":"                child: Column("},{"type":"INSERT","lineNumber":520,"content":"              ),"},{"type":"DELETE","lineNumber":521,"oldContent":"                  children: ["},{"type":"DELETE","lineNumber":524,"oldContent":"                      flex: 3,"},{"type":"DELETE","lineNumber":525,"oldContent":"                      child: Container("},{"type":"DELETE","lineNumber":526,"oldContent":"                        decoration: BoxDecoration("},{"type":"DELETE","lineNumber":527,"oldContent":"                          color: Colors.grey[300],"},{"type":"DELETE","lineNumber":528,"oldContent":"                          borderRadius: BorderRadius.only("},{"type":"DELETE","lineNumber":529,"oldContent":"                            topLeft: Radius.circular(12.r),"},{"type":"DELETE","lineNumber":530,"oldContent":"                            topRight: Radius.circular(12.r),"},{"type":"DELETE","lineNumber":531,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":532,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":533,"oldContent":"                        child: Center("},{"type":"DELETE","lineNumber":534,"oldContent":"                          child: Icon("},{"type":"INSERT","lineNumber":524,"content":"                return _buildHighlyRatedPropertyCard(property);"},{"type":"INSERT","lineNumber":525,"content":"              },"},{"type":"INSERT","lineNumber":526,"content":"            ),"},{"type":"INSERT","lineNumber":527,"content":"          ),"},{"type":"INSERT","lineNumber":528,"content":"        ],"},{"type":"INSERT","lineNumber":529,"content":"      ),"},{"type":"INSERT","lineNumber":530,"content":"    );"},{"type":"INSERT","lineNumber":531,"content":"  }"},{"type":"INSERT","lineNumber":532,"content":""},{"type":"INSERT","lineNumber":533,"content":"  Widget _buildHighlyRatedPropertyCard(Property property) {"},{"type":"INSERT","lineNumber":534,"content":"    return Container("},{"type":"DELETE","lineNumber":537,"oldContent":"                            Icons.image,"},{"type":"DELETE","lineNumber":538,"oldContent":"                            color: Colors.grey[500],"},{"type":"DELETE","lineNumber":539,"oldContent":"                            size: 40.sp,"},{"type":"DELETE","lineNumber":540,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":541,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":542,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":543,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":544,"oldContent":"                    Expanded("},{"type":"DELETE","lineNumber":545,"oldContent":"                      flex: 2,"},{"type":"DELETE","lineNumber":546,"oldContent":"                      child: Padding("},{"type":"DELETE","lineNumber":547,"oldContent":"                        padding: EdgeInsets.all(12.w),"},{"type":"DELETE","lineNumber":548,"oldContent":"                          crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":549,"oldContent":"                          children: ["},{"type":"DELETE","lineNumber":550,"oldContent":"                            Text("},{"type":"DELETE","lineNumber":551,"oldContent":"                              'Rent An Hotel Room',"},{"type":"INSERT","lineNumber":537,"content":"      decoration: BoxDecoration("},{"type":"INSERT","lineNumber":538,"content":"        color: Colors.white,"},{"type":"INSERT","lineNumber":539,"content":"        borderRadius: BorderRadius.circular(12.r),"},{"type":"INSERT","lineNumber":540,"content":"        boxShadow: ["},{"type":"INSERT","lineNumber":541,"content":"          BoxShadow("},{"type":"INSERT","lineNumber":542,"content":"            color: Colors.grey.withValues(alpha: 0.1),"},{"type":"INSERT","lineNumber":543,"content":"            spreadRadius: 1,"},{"type":"INSERT","lineNumber":544,"content":"            blurRadius: 8,"},{"type":"INSERT","lineNumber":545,"content":"            offset: const Offset(0, 2),"},{"type":"INSERT","lineNumber":546,"content":"          ),"},{"type":"INSERT","lineNumber":547,"content":"        ],"},{"type":"INSERT","lineNumber":548,"content":"      ),"},{"type":"INSERT","lineNumber":549,"content":"      child: Column("},{"type":"INSERT","lineNumber":550,"content":"        crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"INSERT","lineNumber":551,"content":"        children: ["},{"type":"DELETE","lineNumber":558,"oldContent":"                              maxLines: 1,"},{"type":"DELETE","lineNumber":559,"oldContent":"                              overflow: TextOverflow.ellipsis,"},{"type":"INSERT","lineNumber":558,"content":"                ClipRRect("},{"type":"INSERT","lineNumber":559,"content":"                  borderRadius: BorderRadius.vertical(top: Radius.circular(12.r)),"},{"type":"INSERT","lineNumber":590,"content":"                            ),"},{"type":"DELETE","lineNumber":592,"oldContent":"                            ),"},{"type":"DELETE","lineNumber":594,"oldContent":"                                        style: AppTextStyles.bodySmall.copyWith("},{"type":"DELETE","lineNumber":595,"oldContent":"                                          color: Colors.white,"},{"type":"INSERT","lineNumber":594,"content":"                // Heart icon"},{"type":"INSERT","lineNumber":595,"content":"                Positioned("},{"type":"DELETE","lineNumber":598,"oldContent":"                                        ),"},{"type":"DELETE","lineNumber":599,"oldContent":"                                      ),"},{"type":"DELETE","lineNumber":600,"oldContent":"                                    ],"},{"type":"DELETE","lineNumber":601,"oldContent":"                                  ),"},{"type":"DELETE","lineNumber":602,"oldContent":"                                ),"},{"type":"INSERT","lineNumber":598,"content":"                  child: GestureDetector("},{"type":"INSERT","lineNumber":599,"content":"                    onTap: () {"},{"type":"INSERT","lineNumber":600,"content":"                      // TODO: Toggle favorite"},{"type":"INSERT","lineNumber":601,"content":"                    },"},{"type":"INSERT","lineNumber":602,"content":"                    child: Container("},{"type":"DELETE","lineNumber":604,"oldContent":"                                Text("},{"type":"DELETE","lineNumber":605,"oldContent":"                                  '250.00 \\$',"},{"type":"INSERT","lineNumber":604,"content":"                      decoration: BoxDecoration("},{"type":"INSERT","lineNumber":605,"content":"                        color: Colors.white.withValues(alpha: 0.9),"},{"type":"DELETE","lineNumber":608,"oldContent":"                                    color: Colors.red[400],"},{"type":"DELETE","lineNumber":609,"oldContent":"                                    fontSize: 10.sp,"},{"type":"DELETE","lineNumber":610,"oldContent":"                                    fontWeight: FontWeight.w600,"},{"type":"DELETE","lineNumber":611,"oldContent":"                                ),"},{"type":"INSERT","lineNumber":608,"content":"                      child: Icon("},{"type":"INSERT","lineNumber":609,"content":"                        property.isFavorite ? Icons.favorite : Icons.favorite_border,"},{"type":"INSERT","lineNumber":610,"content":"                        color: property.isFavorite ? AppColors.primary : Colors.grey[600],"},{"type":"INSERT","lineNumber":611,"content":"                        size: 14.sp,"},{"type":"DELETE","lineNumber":613,"oldContent":"                        ),"},{"type":"MODIFY","lineNumber":614,"content":"                  ),","oldContent":"                      ),"},{"type":"INSERT","lineNumber":615,"content":"                ),"},{"type":"DELETE","lineNumber":635,"oldContent":"          Row("},{"type":"DELETE","lineNumber":636,"oldContent":"          // Page indicators"},{"type":"DELETE","lineNumber":637,"oldContent":"                            ),"},{"type":"DELETE","lineNumber":638,"oldContent":"                              ),"},{"type":"DELETE","lineNumber":639,"oldContent":"                                fontWeight: FontWeight.bold,"},{"type":"DELETE","lineNumber":640,"oldContent":"                                fontSize: 18.sp,"},{"type":"DELETE","lineNumber":641,"oldContent":"                                color: Colors.white,"},{"type":"DELETE","lineNumber":642,"oldContent":"                              style: AppTextStyles.h3.copyWith("},{"type":"DELETE","lineNumber":643,"oldContent":"                              ad.propertyTitle.isNotEmpty ? ad.propertyTitle : 'Featured Property',"},{"type":"DELETE","lineNumber":644,"oldContent":"                      Positioned("},{"type":"DELETE","lineNumber":645,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":646,"oldContent":"                        ),"},{"type":"INSERT","lineNumber":635,"content":"                      children: ["},{"type":"INSERT","lineNumber":636,"content":"                        Icon(Icons.star, color: Colors.white, size: 10.sp),"},{"type":"INSERT","lineNumber":637,"content":"                        SizedBox(width: 2.w),"},{"type":"INSERT","lineNumber":638,"content":"                        Text("},{"type":"INSERT","lineNumber":639,"content":"                          '4.8', // Static rating since not provided by backend"},{"type":"INSERT","lineNumber":640,"content":"                          style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":641,"content":"                            color: Colors.white,"},{"type":"INSERT","lineNumber":642,"content":"                            fontSize: 8.sp,"},{"type":"INSERT","lineNumber":643,"content":"                            fontWeight: FontWeight.bold,"},{"type":"INSERT","lineNumber":645,"content":"                        ),"},{"type":"INSERT","lineNumber":646,"content":"                      ],"},{"type":"INSERT","lineNumber":647,"content":"                    ),"},{"type":"DELETE","lineNumber":650,"oldContent":"    };"},{"type":"DELETE","lineNumber":651,"oldContent":"                              children: ["},{"type":"DELETE","lineNumber":652,"oldContent":"                              crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":653,"oldContent":"                            child: Column("},{"type":"DELETE","lineNumber":654,"oldContent":"                            right: 12.w,"},{"type":"DELETE","lineNumber":655,"oldContent":"                            left: 12.w,"},{"type":"DELETE","lineNumber":656,"oldContent":"                            bottom: 12.h,"},{"type":"DELETE","lineNumber":657,"oldContent":"                          Positioned("},{"type":"INSERT","lineNumber":650,"content":"                  Text("},{"type":"INSERT","lineNumber":651,"content":"                    property.title,"},{"type":"INSERT","lineNumber":652,"content":"                    style: AppTextStyles.bodyMedium.copyWith("},{"type":"INSERT","lineNumber":653,"content":"                      color: AppColors.textPrimary,"},{"type":"INSERT","lineNumber":654,"content":"                      fontSize: 12.sp,"},{"type":"INSERT","lineNumber":655,"content":"                      fontWeight: FontWeight.w600,"},{"type":"INSERT","lineNumber":656,"content":"                    ),"},{"type":"INSERT","lineNumber":657,"content":"                    maxLines: 2,"},{"type":"DELETE","lineNumber":685,"oldContent":"                    ),"},{"type":"DELETE","lineNumber":686,"oldContent":"                        ],"},{"type":"DELETE","lineNumber":687,"oldContent":"                      ),"},{"type":"DELETE","lineNumber":688,"oldContent":"                          );"},{"type":"DELETE","lineNumber":689,"oldContent":"        crossAxisAlignment: CrossAxisAlignment.start,"},{"type":"DELETE","lineNumber":690,"oldContent":"      child: Column("},{"type":"INSERT","lineNumber":685,"content":"                  const Spacer(),"},{"type":"INSERT","lineNumber":686,"content":"                  Text("},{"type":"INSERT","lineNumber":687,"content":"                    '${property.pricePerNight.toStringAsFixed(0)} \\$ / Night',"},{"type":"INSERT","lineNumber":688,"content":"                    style: AppTextStyles.bodySmall.copyWith("},{"type":"INSERT","lineNumber":689,"content":"                      color: AppColors.primary,"},{"type":"INSERT","lineNumber":690,"content":"                      fontSize: 11.sp,"},{"type":"MODIFY","lineNumber":774,"content":"                                  size: 40.sp,","oldContent":"                        ],"},{"type":"INSERT","lineNumber":780,"content":"                      ),"},{"type":"DELETE","lineNumber":781,"oldContent":"            mainAxisAlignment: MainAxisAlignment.center,"},{"type":"MODIFY","lineNumber":782,"content":"                      Container(","oldContent":"                            Text("},{"type":"DELETE","lineNumber":923,"oldContent":"      child: Column("},{"type":"INSERT","lineNumber":924,"content":"      margin: EdgeInsets.all(16.w),"},{"type":"INSERT","lineNumber":925,"content":"      child: Column("},{"type":"DELETE","lineNumber":927,"oldContent":"      margin: EdgeInsets.all(16.w),"},{"type":"MODIFY","lineNumber":1003,"content":"                            ),","oldContent":"                        children: ["},{"type":"DELETE","lineNumber":1030,"oldContent":"                        : null,"},{"type":"DELETE","lineNumber":1031,"oldContent":"                  margin: EdgeInsets.symmetric(horizontal: 4.w),"},{"type":"INSERT","lineNumber":1030,"content":"                        children: ["},{"type":"INSERT","lineNumber":1031,"content":"                          ClipRRect("},{"type":"DELETE","lineNumber":1035,"oldContent":"            child: PageView.builder("},{"type":"DELETE","lineNumber":1036,"oldContent":"    return Container("},{"type":"DELETE","lineNumber":1037,"oldContent":"                                ),"},{"type":"DELETE","lineNumber":1038,"oldContent":"                              padding: EdgeInsets.symmetric(horizontal: 6.w, vertical: 2.h),"},{"type":"INSERT","lineNumber":1035,"content":"                              width: double.infinity,"},{"type":"INSERT","lineNumber":1036,"content":"                              height: double.infinity,"},{"type":"INSERT","lineNumber":1037,"content":"                              fit: BoxFit.cover,"},{"type":"INSERT","lineNumber":1038,"content":"                              errorBuilder: (context, error, stackTrace) {"},{"type":"MODIFY","lineNumber":1067,"content":"                            ),","oldContent":"                );"},{"type":"MODIFY","lineNumber":1070,"content":"                      ),","oldContent":"                      ),"},{"type":"MODIFY","lineNumber":1116,"content":"                                    fontWeight: FontWeight.bold,","oldContent":"                                fontSize: 12.sp,"},{"type":"MODIFY","lineNumber":1125,"content":"                                    fontSize: 9.sp,","oldContent":"                            'Special Advertisement Goes Here',"},{"type":"INSERT","lineNumber":1128,"content":"                                  overflow: TextOverflow.ellipsis,"},{"type":"INSERT","lineNumber":1129,"content":"                                ),"},{"type":"DELETE","lineNumber":1130,"oldContent":"                            colors: [Colors.orange[400]!, Colors.orange[600]!],"},{"type":"DELETE","lineNumber":1132,"oldContent":"                                ),"},{"type":"MODIFY","lineNumber":1133,"content":"                          Positioned(","oldContent":"                          )"},{"type":"DELETE","lineNumber":1159,"oldContent":""},{"type":"DELETE","lineNumber":1160,"oldContent":"}"},{"type":"DELETE","lineNumber":1161,"oldContent":"  }"},{"type":"INSERT","lineNumber":1159,"content":"          ),"},{"type":"INSERT","lineNumber":1160,"content":"        ],"},{"type":"INSERT","lineNumber":1161,"content":"      ),"},{"type":"DELETE","lineNumber":1165,"oldContent":"                decoration: BoxDecoration("},{"type":"DELETE","lineNumber":1166,"oldContent":"                width: _currentPage == index ? 24.w : 6.w,"},{"type":"DELETE","lineNumber":1167,"oldContent":"                              ),"},{"type":"DELETE","lineNumber":1168,"oldContent":"                        ),"},{"type":"DELETE","lineNumber":1169,"oldContent":"                          ),"},{"type":"DELETE","lineNumber":1170,"oldContent":""},{"type":"DELETE","lineNumber":1171,"oldContent":"}"},{"type":"DELETE","lineNumber":1172,"oldContent":"  State<_AdvertisementBannerWidget> createState() => _AdvertisementBannerWidgetState();"},{"type":"INSERT","lineNumber":1165,"content":"  String _getLocationImageUrl(String locationName) {"},{"type":"INSERT","lineNumber":1166,"content":"    // Map of Syrian cities to appropriate Unsplash images"},{"type":"INSERT","lineNumber":1167,"content":"    const locationImages = {"},{"type":"INSERT","lineNumber":1168,"content":"      'Damascus': 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop',"},{"type":"INSERT","lineNumber":1169,"content":"      'Daraa': 'https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=400&h=300&fit=crop',"},{"type":"INSERT","lineNumber":1170,"content":"      'Latakia': 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop',"},{"type":"INSERT","lineNumber":1171,"content":"      'Aleppo': 'https://images.unsplash.com/photo-1573047733774-3b2d3c3b3d0f?w=400&h=300&fit=crop',"},{"type":"INSERT","lineNumber":1172,"content":"      'Homs': 'https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=400&h=300&fit=crop',"},{"type":"INSERT","lineNumber":1180,"content":"class _AdvertisementBannerWidget extends StatefulWidget {"},{"type":"INSERT","lineNumber":1181,"content":"  final List<SpecialAdvertisement> ads;"},{"type":"INSERT","lineNumber":1183,"content":"  const _AdvertisementBannerWidget({required this.ads});"},{"type":"INSERT","lineNumber":1184,"content":""},{"type":"INSERT","lineNumber":1185,"content":"  @override"},{"type":"INSERT","lineNumber":1186,"content":"  State<_AdvertisementBannerWidget> createState() => _AdvertisementBannerWidgetState();"},{"type":"DELETE","lineNumber":1182,"oldContent":"    );"},{"type":"DELETE","lineNumber":1183,"oldContent":"      ),"},{"type":"DELETE","lineNumber":1184,"oldContent":"        ],"},{"type":"DELETE","lineNumber":1185,"oldContent":"              ),"},{"type":"DELETE","lineNumber":1186,"oldContent":"                ),"},{"type":"DELETE","lineNumber":1187,"oldContent":"                  borderRadius: BorderRadius.circular(3.r),"},{"type":"MODIFY","lineNumber":1188,"content":"","oldContent":"                      : Colors.grey[300],"},{"type":"DELETE","lineNumber":1214,"oldContent":"                final ad = widget.ads[index];"},{"type":"INSERT","lineNumber":1215,"content":"              itemBuilder: (context, index) {"},{"type":"INSERT","lineNumber":1216,"content":"                final ad = widget.ads[index];"},{"type":"DELETE","lineNumber":1218,"oldContent":"              itemBuilder: (context, index) {"},{"type":"MODIFY","lineNumber":1235,"content":"                  child: Stack(","oldContent":"                  ),"},{"type":"MODIFY","lineNumber":1243,"content":"                              Colors.black.withValues(alpha: 0.4),","oldContent":"          ),"},{"type":"MODIFY","lineNumber":1250,"content":"                      ),","oldContent":"                      ),"},{"type":"INSERT","lineNumber":1251,"content":"                      Positioned("},{"type":"DELETE","lineNumber":1254,"oldContent":"                      Positioned("},{"type":"DELETE","lineNumber":1269,"oldContent":"            ),"},{"type":"MODIFY","lineNumber":1269,"content":"                      ),","oldContent":"              ),"},{"type":"INSERT","lineNumber":1270,"content":"                      Positioned("},{"type":"DELETE","lineNumber":1274,"oldContent":"                            Text("},{"type":"INSERT","lineNumber":1275,"content":"                          children: ["},{"type":"INSERT","lineNumber":1276,"content":"                            Text("},{"type":"DELETE","lineNumber":1278,"oldContent":"                          children: ["},{"type":"DELETE","lineNumber":1279,"oldContent":"}"},{"type":"DELETE","lineNumber":1280,"oldContent":"  }"},{"type":"INSERT","lineNumber":1279,"content":"                                color: Colors.white,"},{"type":"INSERT","lineNumber":1280,"content":"                                fontSize: 18.sp,"},{"type":"DELETE","lineNumber":1283,"oldContent":"        ],"},{"type":"DELETE","lineNumber":1284,"oldContent":"          ),"},{"type":"DELETE","lineNumber":1285,"oldContent":"                      : Colors.grey[300],"},{"type":"INSERT","lineNumber":1283,"content":"                            ),"},{"type":"INSERT","lineNumber":1284,"content":"                            SizedBox(height: 4.h),"},{"type":"INSERT","lineNumber":1285,"content":"                            Text("},{"type":"MODIFY","lineNumber":1290,"content":"                              ),","oldContent":""},{"type":"DELETE","lineNumber":1292,"oldContent":""},{"type":"MODIFY","lineNumber":1292,"content":"                          ],","oldContent":"                      ),"},{"type":"INSERT","lineNumber":1294,"content":"                      ),"},{"type":"MODIFY","lineNumber":1298,"content":"              },","oldContent":"            ),"},{"type":"INSERT","lineNumber":1299,"content":"            ),"},{"type":"DELETE","lineNumber":1301,"oldContent":"              },"},{"type":"DELETE","lineNumber":1302,"oldContent":"                duration: const Duration(milliseconds: 300),"},{"type":"DELETE","lineNumber":1303,"oldContent":""},{"type":"INSERT","lineNumber":1302,"content":"          // Page indicators"},{"type":"INSERT","lineNumber":1303,"content":"          Row("},{"type":"MODIFY","lineNumber":1305,"content":"            children: List.generate(","oldContent":"  }"},{"type":"MODIFY","lineNumber":1308,"content":"                duration: const Duration(milliseconds: 300),","oldContent":"          ),"},{"type":"INSERT","lineNumber":1309,"content":"                margin: EdgeInsets.symmetric(horizontal: 3.w),"},{"type":"INSERT","lineNumber":1310,"content":"                height: 6.h,"},{"type":"DELETE","lineNumber":1310,"oldContent":"              ),"},{"type":"DELETE","lineNumber":1313,"oldContent":"                      : Colors.grey[300],"},{"type":"INSERT","lineNumber":1315,"content":"                      : Colors.grey[300],"},{"type":"INSERT","lineNumber":1316,"content":"                  borderRadius: BorderRadius.circular(3.r),"},{"type":"INSERT","lineNumber":1317,"content":"                ),"},{"type":"INSERT","lineNumber":1318,"content":"              ),"},{"type":"INSERT","lineNumber":1319,"content":"            ),"},{"type":"INSERT","lineNumber":1320,"content":"          ),"},{"type":"INSERT","lineNumber":1321,"content":"        ],"},{"type":"INSERT","lineNumber":1322,"content":"      ),"},{"type":"INSERT","lineNumber":1323,"content":"    );"},{"type":"INSERT","lineNumber":1324,"content":"  }"},{"type":"INSERT","lineNumber":1325,"content":"}"},{"type":"INSERT","lineNumber":1326,"content":""}]}]},"D:/flutter projects/ahlanfeekum/lib/features/search/presentation/pages/search_results_screen.dart":{"filePath":"D:/flutter projects/ahlanfeekum/lib/features/search/presentation/pages/search_results_screen.dart","baseContent":"import 'package:flutter/material.dart';\nimport 'package:flutter_bloc/flutter_bloc.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\nimport '../../../../theming/colors.dart';\nimport '../../../../theming/text_styles.dart';\nimport '../../domain/entities/search_entities.dart';\nimport '../bloc/search_bloc.dart';\nimport '../bloc/search_event.dart';\nimport '../bloc/search_state.dart';\nimport 'filter_screen.dart';\n\nclass SearchResultsScreen extends StatefulWidget {\n  const SearchResultsScreen({super.key});\n\n  @override\n  State<SearchResultsScreen> createState() => _SearchResultsScreenState();\n}\n\nclass _SearchResultsScreenState extends State<SearchResultsScreen> {\n  final TextEditingController _searchController = TextEditingController();\n\n  @override\n  void initState() {\n    super.initState();\n    // Load initial search data if not already loaded\n    final bloc = context.read<SearchBloc>();\n    if (bloc.state is! SearchLoaded && bloc.state is! SearchLoading) {\n      bloc.add(const LoadLookupsEvent());\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      backgroundColor: Colors.white,\n      appBar: AppBar(\n        backgroundColor: Colors.white,\n        elevation: 0,\n        leading: IconButton(\n          icon: Icon(Icons.arrow_back, color: Colors.black87, size: 24.sp),\n          onPressed: () => Navigator.of(context).pop(),\n        ),\n        title: Text(\n          'Search Result',\n          style: AppTextStyles.h3.copyWith(\n            color: AppColors.textPrimary,\n            fontSize: 18.sp,\n          ),\n        ),\n        centerTitle: true,\n      ),\n      body: BlocBuilder<SearchBloc, SearchState>(\n        builder: (context, state) {\n          return Column(\n            children: [\n              // Search bar and filter\n              _buildSearchHeader(state),\n              \n              // Results count and sort\n              _buildResultsHeader(state),\n              \n              // Properties grid\n              Expanded(\n                child: _buildPropertiesList(state),\n              ),\n            ],\n          );\n        },\n      ),\n    );\n  }\n\n  Widget _buildSearchHeader(SearchState state) {\n    return Container(\n      padding: EdgeInsets.all(16.w),\n      child: Row(\n        children: [\n          Expanded(\n            child: Container(\n              decoration: BoxDecoration(\n                color: Colors.grey[50],\n                borderRadius: BorderRadius.circular(12.r),\n                border: Border.all(color: Colors.grey[300]!),\n              ),\n              child: TextFormField(\n                controller: _searchController,\n                decoration: InputDecoration(\n                  hintText: 'Search Something',\n                  hintStyle: AppTextStyles.bodyMedium.copyWith(\n                    color: Colors.grey[500],\n                    fontSize: 14.sp,\n                  ),\n                  prefixIcon: Icon(\n                    Icons.search,\n                    color: Colors.grey[600],\n                    size: 20.sp,\n                  ),\n                  border: InputBorder.none,\n                  contentPadding: EdgeInsets.symmetric(horizontal: 16.w, vertical: 12.h),\n                ),\n              ),\n            ),\n          ),\n          SizedBox(width: 12.w),\n          GestureDetector(\n            onTap: () async {\n              await Navigator.of(context).push(\n                MaterialPageRoute(\n                  builder: (context) => BlocProvider.value(\n                    value: context.read<SearchBloc>(),\n                    child: const FilterScreen(),\n                  ),\n                ),\n              );\n            },\n            child: Container(\n              padding: EdgeInsets.all(12.w),\n              decoration: BoxDecoration(\n                color: Colors.grey[50],\n                borderRadius: BorderRadius.circular(8.r),\n                border: Border.all(color: Colors.grey[300]!),\n              ),\n              child: Icon(\n                Icons.tune,\n                color: AppColors.primary,\n                size: 20.sp,\n              ),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildResultsHeader(SearchState state) {\n    int resultCount = 0;\n    if (state is SearchLoaded) {\n      resultCount = state.totalCount;\n    }\n\n    return Container(\n      padding: EdgeInsets.symmetric(horizontal: 16.w, vertical: 8.h),\n      child: Row(\n        children: [\n          Text(\n            '$resultCount Result Founded',\n            style: AppTextStyles.bodyMedium.copyWith(\n              color: AppColors.primary,\n              fontSize: 14.sp,\n              fontWeight: FontWeight.w600,\n            ),\n          ),\n          const Spacer(),\n          GestureDetector(\n            onTap: () => _showSortBottomSheet(),\n            child: Text(\n              'Sort By',\n              style: AppTextStyles.bodyMedium.copyWith(\n                color: AppColors.textPrimary,\n                fontSize: 14.sp,\n              ),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildPropertiesList(SearchState state) {\n    if (state is SearchLoading) {\n      return const Center(child: CircularProgressIndicator());\n    }\n\n    if (state is SearchError) {\n      return Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: [\n            Icon(Icons.error_outline, size: 64.sp, color: Colors.grey[400]),\n            SizedBox(height: 16.h),\n            Text(\n              'Error loading results',\n              style: AppTextStyles.h4.copyWith(color: Colors.grey[600]),\n            ),\n            SizedBox(height: 8.h),\n            Text(\n              state.message,\n              style: AppTextStyles.bodyMedium.copyWith(color: Colors.grey[500]),\n              textAlign: TextAlign.center,\n            ),\n          ],\n        ),\n      );\n    }\n\n    if (state is SearchLoaded) {\n      if (state.properties.isEmpty) {\n        return Center(\n          child: Column(\n            mainAxisAlignment: MainAxisAlignment.center,\n            children: [\n              Icon(Icons.search_off, size: 64.sp, color: Colors.grey[400]),\n              SizedBox(height: 16.h),\n              Text(\n                'No properties found',\n                style: AppTextStyles.h4.copyWith(color: Colors.grey[600]),\n              ),\n              SizedBox(height: 8.h),\n              Text(\n                'Try adjusting your search criteria',\n                style: AppTextStyles.bodyMedium.copyWith(color: Colors.grey[500]),\n              ),\n            ],\n          ),\n        );\n      }\n\n      return GridView.builder(\n        padding: EdgeInsets.all(16.w),\n        gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(\n          crossAxisCount: 2,\n          crossAxisSpacing: 12.w,\n          mainAxisSpacing: 12.h,\n          childAspectRatio: 0.75,\n        ),\n        itemCount: state.properties.length,\n        itemBuilder: (context, index) {\n          final property = state.properties[index];\n          return _buildPropertyCard(property);\n        },\n      );\n    }\n\n    return Center(\n      child: Column(\n        mainAxisAlignment: MainAxisAlignment.center,\n        children: [\n          Icon(Icons.search, size: 64.sp, color: Colors.grey[400]),\n          SizedBox(height: 16.h),\n          Text(\n            'Start your search',\n            style: AppTextStyles.h4.copyWith(color: Colors.grey[600]),\n          ),\n          SizedBox(height: 8.h),\n          Text(\n            'Use filters to find the perfect property',\n            style: AppTextStyles.bodyMedium.copyWith(color: Colors.grey[500]),\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildPropertyCard(PropertyEntity property) {\n    return Container(\n      decoration: BoxDecoration(\n        color: Colors.white,\n        borderRadius: BorderRadius.circular(12.r),\n        boxShadow: [\n          BoxShadow(\n                        color: Colors.grey.withValues(alpha: 0.1),\n            spreadRadius: 1,\n            blurRadius: 8,\n            offset: const Offset(0, 2),\n          ),\n        ],\n      ),\n      child: Column(\n        crossAxisAlignment: CrossAxisAlignment.start,\n        children: [\n          // Property Image\n          Expanded(\n            flex: 3,\n            child: Stack(\n              children: [\n                Container(\n                  width: double.infinity,\n                  decoration: BoxDecoration(\n                    color: Colors.grey[300],\n                    borderRadius: BorderRadius.only(\n                      topLeft: Radius.circular(12.r),\n                      topRight: Radius.circular(12.r),\n                    ),\n                  ),\n                  child: property.images.isNotEmpty\n                      ? ClipRRect(\n                          borderRadius: BorderRadius.only(\n                            topLeft: Radius.circular(12.r),\n                            topRight: Radius.circular(12.r),\n                          ),\n                          child: Image.network(\n                            property.images.first,\n                            fit: BoxFit.cover,\n                            errorBuilder: (context, error, stackTrace) {\n                              return Container(\n                                color: Colors.grey[300],\n                                child: Icon(\n                                  Icons.image_not_supported,\n                                  size: 40.sp,\n                                  color: Colors.grey[500],\n                                ),\n                              );\n                            },\n                          ),\n                        )\n                      : Icon(\n                          Icons.image_not_supported,\n                          size: 40.sp,\n                          color: Colors.grey[500],\n                        ),\n                ),\n                // Rating badge\n                Positioned(\n                  top: 8.h,\n                  left: 8.w,\n                  child: Container(\n                    padding: EdgeInsets.symmetric(horizontal: 6.w, vertical: 2.h),\n                    decoration: BoxDecoration(\n                      color: Colors.orange,\n                      borderRadius: BorderRadius.circular(4.r),\n                    ),\n                    child: Row(\n                      mainAxisSize: MainAxisSize.min,\n                      children: [\n                        Icon(Icons.star, color: Colors.white, size: 12.sp),\n                        SizedBox(width: 2.w),\n                        Text(\n                          property.rating.toStringAsFixed(1),\n                          style: AppTextStyles.bodySmall.copyWith(\n                            color: Colors.white,\n                            fontSize: 10.sp,\n                            fontWeight: FontWeight.bold,\n                          ),\n                        ),\n                      ],\n                    ),\n                  ),\n                ),\n                // Favorite button\n                Positioned(\n                  top: 8.h,\n                  right: 8.w,\n                  child: Container(\n                    padding: EdgeInsets.all(4.w),\n                    decoration: const BoxDecoration(\n                      color: Colors.white,\n                      shape: BoxShape.circle,\n                    ),\n                    child: Icon(\n                      Icons.favorite_border,\n                      color: Colors.grey[600],\n                      size: 16.sp,\n                    ),\n                  ),\n                ),\n              ],\n            ),\n          ),\n          // Property Info\n          Expanded(\n            flex: 2,\n            child: Padding(\n              padding: EdgeInsets.all(12.w),\n              child: Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                children: [\n                  Text(\n                    property.title,\n                    style: AppTextStyles.bodyMedium.copyWith(\n                      color: AppColors.textPrimary,\n                      fontSize: 13.sp,\n                      fontWeight: FontWeight.w600,\n                    ),\n                    maxLines: 2,\n                    overflow: TextOverflow.ellipsis,\n                  ),\n                  SizedBox(height: 4.h),\n                  Text(\n                    property.address,\n                    style: AppTextStyles.bodySmall.copyWith(\n                      color: Colors.grey[600],\n                      fontSize: 11.sp,\n                    ),\n                    maxLines: 1,\n                    overflow: TextOverflow.ellipsis,\n                  ),\n                  const Spacer(),\n                  Row(\n                    children: [\n                      Icon(\n                        Icons.monetization_on_outlined,\n                        color: Colors.red[400],\n                        size: 16.sp,\n                      ),\n                      SizedBox(width: 4.w),\n                      Text(\n                        '${property.pricePerNight.toStringAsFixed(2)} \\$',\n                        style: AppTextStyles.bodyMedium.copyWith(\n                          color: Colors.red[400],\n                          fontSize: 12.sp,\n                          fontWeight: FontWeight.w600,\n                        ),\n                      ),\n                      const Spacer(),\n                      Text(\n                        '/Night',\n                        style: AppTextStyles.bodySmall.copyWith(\n                          color: Colors.grey[500],\n                          fontSize: 10.sp,\n                        ),\n                      ),\n                    ],\n                  ),\n                ],\n              ),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  void _showSortBottomSheet() {\n    showModalBottomSheet(\n      context: context,\n      backgroundColor: Colors.white,\n      shape: RoundedRectangleBorder(\n        borderRadius: BorderRadius.only(\n          topLeft: Radius.circular(16.r),\n          topRight: Radius.circular(16.r),\n        ),\n      ),\n      builder: (context) {\n        return Container(\n          padding: EdgeInsets.all(16.w),\n          child: Column(\n            mainAxisSize: MainAxisSize.min,\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              Row(\n                children: [\n                  Text(\n                    'Sort By',\n                    style: AppTextStyles.h4.copyWith(\n                      color: AppColors.textPrimary,\n                      fontSize: 16.sp,\n                    ),\n                  ),\n                  const Spacer(),\n                  IconButton(\n                    onPressed: () => Navigator.of(context).pop(),\n                    icon: Icon(Icons.close, size: 24.sp),\n                  ),\n                ],\n              ),\n              SizedBox(height: 16.h),\n              _buildSortOption('Super Hosts'),\n              _buildSortOption('Lowest Price To Highest'),\n              _buildSortOption('Highest Price To Lowest'),\n              SizedBox(height: 16.h),\n            ],\n          ),\n        );\n      },\n    );\n  }\n\n  Widget _buildSortOption(String title) {\n    return ListTile(\n      title: Text(\n        title,\n        style: AppTextStyles.bodyMedium.copyWith(\n          color: AppColors.textPrimary,\n          fontSize: 14.sp,\n        ),\n      ),\n      onTap: () {\n        Navigator.of(context).pop();\n        // Implement sorting logic\n      },\n      contentPadding: EdgeInsets.zero,\n    );\n  }\n}\n","baseTimestamp":1758198552831},"D:/flutter projects/ahlanfeekum/lib/features/search/data/datasources/search_remote_data_source.dart":{"filePath":"D:/flutter projects/ahlanfeekum/lib/features/search/data/datasources/search_remote_data_source.dart","baseContent":"import 'package:dio/dio.dart';\nimport 'package:retrofit/retrofit.dart';\nimport 'package:retrofit/http.dart' as http;\nimport '../../../../core/constants/app_constants.dart';\nimport '../models/lookup_item.dart';\nimport '../models/property.dart';\nimport '../models/search_filter.dart';\n\npart 'search_remote_data_source.g.dart';\n\n@RestApi(baseUrl: AppConstants.baseUrl)\nabstract class SearchRemoteDataSource {\n  factory SearchRemoteDataSource(Dio dio) = _SearchRemoteDataSource;\n\n  @GET(AppConstants.propertyTypesEndpoint)\n  @Headers({'X-Requested-With': 'XMLHttpRequest'})\n  Future<LookupResponse> getPropertyTypes(\n    @Header('Authorization') String authorization,\n  );\n\n  @GET(AppConstants.propertyFeaturesEndpoint)\n  @Headers({'X-Requested-With': 'XMLHttpRequest'})\n  Future<LookupResponse> getPropertyFeatures(\n    @Header('Authorization') String authorization,\n  );\n\n  @GET(AppConstants.governatesEndpoint)\n  @Headers({'X-Requested-With': 'XMLHttpRequest'})\n  Future<LookupResponse> getGovernates(\n    @Header('Authorization') String authorization,\n  );\n\n  @GET(AppConstants.searchPropertyEndpoint)\n  @Headers({'X-Requested-With': 'XMLHttpRequest'})\n  Future<PropertySearchResponse> searchProperties(\n    @Header('Authorization') String authorization,\n    @Queries() Map<String, dynamic> queries,\n  );\n}\n\nabstract class SearchRemoteDataSourceHelper {\n  static Map<String, dynamic> filterToQueryMap(SearchFilter filter) {\n    final Map<String, dynamic> queryMap = {};\n\n    if (filter.filterText != null && filter.filterText!.isNotEmpty) {\n      queryMap['FilterText'] = filter.filterText;\n    }\n    if (filter.propertyTypeId != null && filter.propertyTypeId!.isNotEmpty) {\n      queryMap['PropertyTypeId'] = filter.propertyTypeId;\n    }\n    if (filter.checkInDate != null) {\n      queryMap['CheckInDate'] = filter.checkInDate;\n    }\n    if (filter.checkOutDate != null) {\n      queryMap['CheckOutDate'] = filter.checkOutDate;\n    }\n    if (filter.pricePerNightMin != null) {\n      queryMap['PricePerNightMin'] = filter.pricePerNightMin;\n    }\n    if (filter.pricePerNightMax != null) {\n      queryMap['PricePerNightMax'] = filter.pricePerNightMax;\n    }\n    if (filter.address != null && filter.address!.isNotEmpty) {\n      queryMap['Address'] = filter.address;\n    }\n    if (filter.bathroomsMin != null) {\n      queryMap['BathroomsMin'] = filter.bathroomsMin;\n    }\n    if (filter.bathroomsMax != null) {\n      queryMap['BathroomsMax'] = filter.bathroomsMax;\n    }\n    if (filter.hotelName != null && filter.hotelName!.isNotEmpty) {\n      queryMap['HotelName'] = filter.hotelName;\n    }\n    if (filter.livingroomsMin != null) {\n      queryMap['LivingroomsMin'] = filter.livingroomsMin;\n    }\n    if (filter.livingroomsMax != null) {\n      queryMap['LivingroomsMax'] = filter.livingroomsMax;\n    }\n    if (filter.governateId != null && filter.governateId!.isNotEmpty) {\n      queryMap['GovernateId'] = filter.governateId;\n    }\n\n    queryMap['IsActive'] = filter.isActive ?? true;\n    queryMap['SkipCount'] = filter.skipCount;\n    queryMap['MaxResultCount'] = filter.maxResultCount;\n\n    return queryMap;\n  }\n}\n","baseTimestamp":1758198638625,"deltas":[{"timestamp":1758198671404,"changes":[{"type":"MODIFY","lineNumber":15,"content":"  @http.Headers({'X-Requested-With': 'XMLHttpRequest'})","oldContent":"  @Headers({'X-Requested-With': 'XMLHttpRequest'})"},{"type":"MODIFY","lineNumber":21,"content":"  @http.Headers({'X-Requested-With': 'XMLHttpRequest'})","oldContent":"  @Headers({'X-Requested-With': 'XMLHttpRequest'})"},{"type":"MODIFY","lineNumber":27,"content":"  @http.Headers({'X-Requested-With': 'XMLHttpRequest'})","oldContent":"  @Headers({'X-Requested-With': 'XMLHttpRequest'})"},{"type":"MODIFY","lineNumber":33,"content":"  @http.Headers({'X-Requested-With': 'XMLHttpRequest'})","oldContent":"  @Headers({'X-Requested-With': 'XMLHttpRequest'})"}]},{"timestamp":1758198806403,"changes":[{"type":"DELETE","lineNumber":1,"oldContent":"import 'package:retrofit/retrofit.dart';"},{"type":"DELETE","lineNumber":2,"oldContent":"import 'package:retrofit/http.dart' as http;"},{"type":"DELETE","lineNumber":8,"oldContent":"part 'search_remote_data_source.g.dart';"},{"type":"DELETE","lineNumber":9,"oldContent":""},{"type":"DELETE","lineNumber":10,"oldContent":"@RestApi(baseUrl: AppConstants.baseUrl)"},{"type":"DELETE","lineNumber":12,"oldContent":"  factory SearchRemoteDataSource(Dio dio) = _SearchRemoteDataSource;"},{"type":"INSERT","lineNumber":7,"content":"  Future<LookupResponse> getPropertyTypes();"},{"type":"INSERT","lineNumber":8,"content":"  Future<LookupResponse> getPropertyFeatures();"},{"type":"INSERT","lineNumber":9,"content":"  Future<LookupResponse> getGovernates();"},{"type":"INSERT","lineNumber":10,"content":"  Future<PropertySearchResponse> searchProperties(Map<String, dynamic> queries);"},{"type":"INSERT","lineNumber":11,"content":"}"},{"type":"DELETE","lineNumber":14,"oldContent":"  @GET(AppConstants.propertyTypesEndpoint)"},{"type":"DELETE","lineNumber":15,"oldContent":"  @http.Headers({'X-Requested-With': 'XMLHttpRequest'})"},{"type":"DELETE","lineNumber":16,"oldContent":"  Future<LookupResponse> getPropertyTypes("},{"type":"DELETE","lineNumber":17,"oldContent":"    @Header('Authorization') String authorization,"},{"type":"DELETE","lineNumber":18,"oldContent":"  );"},{"type":"INSERT","lineNumber":13,"content":"class SearchRemoteDataSourceImpl implements SearchRemoteDataSource {"},{"type":"INSERT","lineNumber":14,"content":"  final Dio _dio;"},{"type":"DELETE","lineNumber":20,"oldContent":"  @GET(AppConstants.propertyFeaturesEndpoint)"},{"type":"DELETE","lineNumber":21,"oldContent":"  @http.Headers({'X-Requested-With': 'XMLHttpRequest'})"},{"type":"DELETE","lineNumber":22,"oldContent":"  Future<LookupResponse> getPropertyFeatures("},{"type":"DELETE","lineNumber":23,"oldContent":"    @Header('Authorization') String authorization,"},{"type":"DELETE","lineNumber":24,"oldContent":"  );"},{"type":"INSERT","lineNumber":16,"content":"  SearchRemoteDataSourceImpl(this._dio);"},{"type":"DELETE","lineNumber":26,"oldContent":"  @GET(AppConstants.governatesEndpoint)"},{"type":"DELETE","lineNumber":27,"oldContent":"  @http.Headers({'X-Requested-With': 'XMLHttpRequest'})"},{"type":"DELETE","lineNumber":28,"oldContent":"  Future<LookupResponse> getGovernates("},{"type":"DELETE","lineNumber":29,"oldContent":"    @Header('Authorization') String authorization,"},{"type":"DELETE","lineNumber":30,"oldContent":"  );"},{"type":"INSERT","lineNumber":18,"content":"  @override"},{"type":"INSERT","lineNumber":19,"content":"  Future<LookupResponse> getPropertyTypes() async {"},{"type":"INSERT","lineNumber":20,"content":"    try {"},{"type":"INSERT","lineNumber":21,"content":"      final response = await _dio.get(AppConstants.propertyTypesEndpoint);"},{"type":"INSERT","lineNumber":22,"content":"      return LookupResponse.fromJson(response.data);"},{"type":"INSERT","lineNumber":23,"content":"    } catch (e) {"},{"type":"INSERT","lineNumber":24,"content":"      print(' Error fetching property types: $e');"},{"type":"INSERT","lineNumber":25,"content":"      rethrow;"},{"type":"INSERT","lineNumber":26,"content":"    }"},{"type":"INSERT","lineNumber":27,"content":"  }"},{"type":"DELETE","lineNumber":32,"oldContent":"  @GET(AppConstants.searchPropertyEndpoint)"},{"type":"DELETE","lineNumber":33,"oldContent":"  @http.Headers({'X-Requested-With': 'XMLHttpRequest'})"},{"type":"DELETE","lineNumber":34,"oldContent":"  Future<PropertySearchResponse> searchProperties("},{"type":"DELETE","lineNumber":35,"oldContent":"    @Header('Authorization') String authorization,"},{"type":"DELETE","lineNumber":36,"oldContent":"    @Queries() Map<String, dynamic> queries,"},{"type":"DELETE","lineNumber":37,"oldContent":"  );"},{"type":"INSERT","lineNumber":29,"content":"  @override"},{"type":"INSERT","lineNumber":30,"content":"  Future<LookupResponse> getPropertyFeatures() async {"},{"type":"INSERT","lineNumber":31,"content":"    try {"},{"type":"INSERT","lineNumber":32,"content":"      final response = await _dio.get(AppConstants.propertyFeaturesEndpoint);"},{"type":"INSERT","lineNumber":33,"content":"      return LookupResponse.fromJson(response.data);"},{"type":"INSERT","lineNumber":34,"content":"    } catch (e) {"},{"type":"INSERT","lineNumber":35,"content":"      print(' Error fetching property features: $e');"},{"type":"INSERT","lineNumber":36,"content":"      rethrow;"},{"type":"INSERT","lineNumber":37,"content":"    }"},{"type":"INSERT","lineNumber":38,"content":"  }"},{"type":"INSERT","lineNumber":39,"content":""},{"type":"INSERT","lineNumber":40,"content":"  @override"},{"type":"INSERT","lineNumber":41,"content":"  Future<LookupResponse> getGovernates() async {"},{"type":"INSERT","lineNumber":42,"content":"    try {"},{"type":"INSERT","lineNumber":43,"content":"      final response = await _dio.get(AppConstants.governatesEndpoint);"},{"type":"INSERT","lineNumber":44,"content":"      return LookupResponse.fromJson(response.data);"},{"type":"INSERT","lineNumber":45,"content":"    } catch (e) {"},{"type":"INSERT","lineNumber":46,"content":"      print(' Error fetching governates: $e');"},{"type":"INSERT","lineNumber":47,"content":"      rethrow;"},{"type":"INSERT","lineNumber":48,"content":"    }"},{"type":"INSERT","lineNumber":49,"content":"  }"},{"type":"INSERT","lineNumber":50,"content":""},{"type":"INSERT","lineNumber":51,"content":"  @override"},{"type":"INSERT","lineNumber":52,"content":"  Future<PropertySearchResponse> searchProperties(Map<String, dynamic> queries) async {"},{"type":"INSERT","lineNumber":53,"content":"    try {"},{"type":"INSERT","lineNumber":54,"content":"      final response = await _dio.get("},{"type":"INSERT","lineNumber":55,"content":"        AppConstants.searchPropertyEndpoint,"},{"type":"INSERT","lineNumber":56,"content":"        queryParameters: queries,"},{"type":"INSERT","lineNumber":57,"content":"      );"},{"type":"INSERT","lineNumber":58,"content":"      return PropertySearchResponse.fromJson(response.data);"},{"type":"INSERT","lineNumber":59,"content":"    } catch (e) {"},{"type":"INSERT","lineNumber":60,"content":"      print(' Error searching properties: $e');"},{"type":"INSERT","lineNumber":61,"content":"      rethrow;"},{"type":"INSERT","lineNumber":62,"content":"    }"},{"type":"INSERT","lineNumber":63,"content":"  }"}]},{"timestamp":1758199320557,"changes":[{"type":"DELETE","lineNumber":5,"oldContent":"  Future<LookupResponse> getPropertyTypes();"},{"type":"INSERT","lineNumber":6,"content":"abstract class SearchRemoteDataSource {"},{"type":"INSERT","lineNumber":7,"content":"  Future<LookupResponse> getPropertyTypes();"},{"type":"DELETE","lineNumber":11,"oldContent":"abstract class SearchRemoteDataSource {"},{"type":"MODIFY","lineNumber":13,"content":"class SearchRemoteDataSourceImpl implements SearchRemoteDataSource {","oldContent":"class SearchRemoteDataSourceImpl implements SearchRemoteDataSource {"},{"type":"INSERT","lineNumber":15,"content":""},{"type":"INSERT","lineNumber":17,"content":""},{"type":"DELETE","lineNumber":18,"oldContent":""},{"type":"DELETE","lineNumber":25,"oldContent":""},{"type":"INSERT","lineNumber":28,"content":""},{"type":"DELETE","lineNumber":31,"oldContent":""},{"type":"DELETE","lineNumber":39,"oldContent":"}"},{"type":"DELETE","lineNumber":41,"oldContent":""},{"type":"DELETE","lineNumber":43,"oldContent":"abstract class SearchRemoteDataSourceHelper {"},{"type":"DELETE","lineNumber":45,"oldContent":"  static Map<String, dynamic> filterToQueryMap(SearchFilter filter) {"},{"type":"DELETE","lineNumber":47,"oldContent":"    final Map<String, dynamic> queryMap = {};"},{"type":"DELETE","lineNumber":49,"oldContent":""},{"type":"DELETE","lineNumber":51,"oldContent":"    if (filter.filterText != null && filter.filterText!.isNotEmpty) {"},{"type":"DELETE","lineNumber":53,"oldContent":"      queryMap['FilterText'] = filter.filterText;"},{"type":"DELETE","lineNumber":55,"oldContent":"    }"},{"type":"DELETE","lineNumber":57,"oldContent":"    if (filter.propertyTypeId != null && filter.propertyTypeId!.isNotEmpty) {"},{"type":"DELETE","lineNumber":59,"oldContent":"      queryMap['PropertyTypeId'] = filter.propertyTypeId;"},{"type":"DELETE","lineNumber":61,"oldContent":"    }"},{"type":"DELETE","lineNumber":63,"oldContent":"    if (filter.checkInDate != null) {"},{"type":"DELETE","lineNumber":65,"oldContent":"      queryMap['CheckInDate'] = filter.checkInDate;"},{"type":"DELETE","lineNumber":67,"oldContent":"    }"},{"type":"DELETE","lineNumber":69,"oldContent":"    if (filter.checkOutDate != null) {"},{"type":"DELETE","lineNumber":71,"oldContent":"      queryMap['CheckOutDate'] = filter.checkOutDate;"},{"type":"DELETE","lineNumber":73,"oldContent":"    }"},{"type":"DELETE","lineNumber":75,"oldContent":"    if (filter.pricePerNightMin != null) {"},{"type":"DELETE","lineNumber":77,"oldContent":"      queryMap['PricePerNightMin'] = filter.pricePerNightMin;"},{"type":"DELETE","lineNumber":79,"oldContent":"    }"},{"type":"DELETE","lineNumber":81,"oldContent":"    if (filter.pricePerNightMax != null) {"},{"type":"DELETE","lineNumber":83,"oldContent":"      queryMap['PricePerNightMax'] = filter.pricePerNightMax;"},{"type":"INSERT","lineNumber":63,"content":"  }"},{"type":"INSERT","lineNumber":64,"content":"}"},{"type":"INSERT","lineNumber":65,"content":""},{"type":"INSERT","lineNumber":66,"content":"abstract class SearchRemoteDataSourceHelper {"},{"type":"INSERT","lineNumber":67,"content":"  static Map<String, dynamic> filterToQueryMap(SearchFilter filter) {"},{"type":"INSERT","lineNumber":68,"content":"    final Map<String, dynamic> queryMap = {};"},{"type":"INSERT","lineNumber":69,"content":""},{"type":"INSERT","lineNumber":70,"content":"    if (filter.filterText != null && filter.filterText!.isNotEmpty) {"},{"type":"INSERT","lineNumber":71,"content":"      queryMap['FilterText'] = filter.filterText;"},{"type":"INSERT","lineNumber":73,"content":"    if (filter.propertyTypeId != null && filter.propertyTypeId!.isNotEmpty) {"},{"type":"INSERT","lineNumber":74,"content":"      queryMap['PropertyTypeId'] = filter.propertyTypeId;"},{"type":"INSERT","lineNumber":75,"content":"    }"},{"type":"INSERT","lineNumber":76,"content":"    if (filter.checkInDate != null) {"},{"type":"INSERT","lineNumber":77,"content":"      queryMap['CheckInDate'] = filter.checkInDate;"},{"type":"INSERT","lineNumber":78,"content":"    }"},{"type":"INSERT","lineNumber":79,"content":"    if (filter.checkOutDate != null) {"},{"type":"INSERT","lineNumber":80,"content":"      queryMap['CheckOutDate'] = filter.checkOutDate;"},{"type":"INSERT","lineNumber":81,"content":"    }"},{"type":"INSERT","lineNumber":82,"content":"    if (filter.pricePerNightMin != null) {"},{"type":"INSERT","lineNumber":83,"content":"      queryMap['PricePerNightMin'] = filter.pricePerNightMin;"},{"type":"INSERT","lineNumber":84,"content":"    }"},{"type":"INSERT","lineNumber":85,"content":"    if (filter.pricePerNightMax != null) {"},{"type":"INSERT","lineNumber":86,"content":"      queryMap['PricePerNightMax'] = filter.pricePerNightMax;"},{"type":"INSERT","lineNumber":87,"content":"    }"},{"type":"DELETE","lineNumber":88,"oldContent":"  }"}]},{"timestamp":1758295872587,"changes":[{"type":"MODIFY","lineNumber":6,"content":"abstract class SearchRemoteDataSource {","oldContent":"abstract class SearchRemoteDataSource {"},{"type":"INSERT","lineNumber":12,"content":""},{"type":"DELETE","lineNumber":13,"oldContent":"class SearchRemoteDataSourceImpl implements SearchRemoteDataSource {"},{"type":"MODIFY","lineNumber":18,"content":"  @override","oldContent":"  @override"},{"type":"INSERT","lineNumber":51,"content":"  @override"},{"type":"INSERT","lineNumber":52,"content":"  Future<PropertySearchResponse> searchProperties(Map<String, dynamic> queries) async {"},{"type":"INSERT","lineNumber":53,"content":"    try {"},{"type":"INSERT","lineNumber":54,"content":"      final response = await _dio.get("},{"type":"INSERT","lineNumber":55,"content":"        AppConstants.searchPropertyEndpoint,"},{"type":"INSERT","lineNumber":56,"content":"        queryParameters: queries,"},{"type":"INSERT","lineNumber":57,"content":"      );"},{"type":"INSERT","lineNumber":58,"content":"      return PropertySearchResponse.fromJson(response.data);"},{"type":"INSERT","lineNumber":59,"content":"    } catch (e) {"},{"type":"INSERT","lineNumber":60,"content":"      print(' Error searching properties: $e');"},{"type":"INSERT","lineNumber":61,"content":"      rethrow;"},{"type":"INSERT","lineNumber":62,"content":"    }"},{"type":"DELETE","lineNumber":53,"oldContent":"  @override"},{"type":"DELETE","lineNumber":56,"oldContent":"  Future<PropertySearchResponse> searchProperties(Map<String, dynamic> queries) async {"},{"type":"DELETE","lineNumber":59,"oldContent":"    try {"},{"type":"DELETE","lineNumber":62,"oldContent":"      final response = await _dio.get("},{"type":"DELETE","lineNumber":64,"oldContent":"        AppConstants.searchPropertyEndpoint,"},{"type":"INSERT","lineNumber":72,"content":"    }"},{"type":"DELETE","lineNumber":67,"oldContent":"        queryParameters: queries,"},{"type":"DELETE","lineNumber":70,"oldContent":"      );"},{"type":"DELETE","lineNumber":73,"oldContent":"      return PropertySearchResponse.fromJson(response.data);"},{"type":"DELETE","lineNumber":76,"oldContent":"    } catch (e) {"},{"type":"DELETE","lineNumber":79,"oldContent":"      print(' Error searching properties: $e');"},{"type":"DELETE","lineNumber":82,"oldContent":"      rethrow;"},{"type":"DELETE","lineNumber":84,"oldContent":"    }"},{"type":"DELETE","lineNumber":87,"oldContent":"    }"}]},{"timestamp":1758297173948,"changes":[{"type":"INSERT","lineNumber":5,"content":""},{"type":"DELETE","lineNumber":6,"oldContent":"abstract class SearchRemoteDataSource {"},{"type":"INSERT","lineNumber":17,"content":""},{"type":"DELETE","lineNumber":18,"oldContent":"  @override"},{"type":"DELETE","lineNumber":52,"oldContent":"  }"},{"type":"DELETE","lineNumber":54,"oldContent":"}"},{"type":"DELETE","lineNumber":57,"oldContent":""},{"type":"DELETE","lineNumber":59,"oldContent":"abstract class SearchRemoteDataSourceHelper {"},{"type":"DELETE","lineNumber":62,"oldContent":"  static Map<String, dynamic> filterToQueryMap(SearchFilter filter) {"},{"type":"DELETE","lineNumber":64,"oldContent":"    final Map<String, dynamic> queryMap = {};"},{"type":"DELETE","lineNumber":67,"oldContent":""},{"type":"INSERT","lineNumber":62,"content":"    }"},{"type":"INSERT","lineNumber":63,"content":"  }"},{"type":"INSERT","lineNumber":64,"content":"}"},{"type":"INSERT","lineNumber":65,"content":""},{"type":"INSERT","lineNumber":66,"content":"abstract class SearchRemoteDataSourceHelper {"},{"type":"INSERT","lineNumber":67,"content":"  static Map<String, dynamic> filterToQueryMap(SearchFilter filter) {"},{"type":"INSERT","lineNumber":68,"content":"    final Map<String, dynamic> queryMap = {};"},{"type":"INSERT","lineNumber":69,"content":"    "},{"type":"INSERT","lineNumber":71,"content":"      queryMap['FilterText'] = filter.filterText;"},{"type":"INSERT","lineNumber":73,"content":"    "},{"type":"INSERT","lineNumber":74,"content":"    if (filter.propertyTypeId != null) {"},{"type":"INSERT","lineNumber":75,"content":"      queryMap['PropertyTypeId'] = filter.propertyTypeId;"},{"type":"INSERT","lineNumber":76,"content":"    }"},{"type":"INSERT","lineNumber":77,"content":"    "},{"type":"INSERT","lineNumber":78,"content":"    if (filter.checkInDate != null) {"},{"type":"INSERT","lineNumber":79,"content":"      queryMap['CheckInDate'] = filter.checkInDate;"},{"type":"INSERT","lineNumber":80,"content":"    }"},{"type":"INSERT","lineNumber":81,"content":"    "},{"type":"INSERT","lineNumber":82,"content":"    if (filter.checkOutDate != null) {"},{"type":"INSERT","lineNumber":83,"content":"      queryMap['CheckOutDate'] = filter.checkOutDate;"},{"type":"INSERT","lineNumber":84,"content":"    }"},{"type":"INSERT","lineNumber":85,"content":"    "},{"type":"INSERT","lineNumber":86,"content":"    if (filter.pricePerNightMin != null) {"},{"type":"INSERT","lineNumber":87,"content":"      queryMap['PricePerNightMin'] = filter.pricePerNightMin;"},{"type":"INSERT","lineNumber":88,"content":"    }"},{"type":"INSERT","lineNumber":89,"content":"    "},{"type":"INSERT","lineNumber":90,"content":"    if (filter.pricePerNightMax != null) {"},{"type":"INSERT","lineNumber":91,"content":"      queryMap['PricePerNightMax'] = filter.pricePerNightMax;"},{"type":"INSERT","lineNumber":92,"content":"    }"},{"type":"INSERT","lineNumber":93,"content":"    "},{"type":"INSERT","lineNumber":94,"content":"    if (filter.address != null && filter.address!.isNotEmpty) {"},{"type":"INSERT","lineNumber":95,"content":"      queryMap['Address'] = filter.address;"},{"type":"INSERT","lineNumber":96,"content":"    }"},{"type":"INSERT","lineNumber":97,"content":"    "},{"type":"INSERT","lineNumber":98,"content":"    if (filter.bathroomsMin != null) {"},{"type":"INSERT","lineNumber":99,"content":"      queryMap['BathroomsMin'] = filter.bathroomsMin;"},{"type":"INSERT","lineNumber":100,"content":"    }"},{"type":"INSERT","lineNumber":101,"content":"    "},{"type":"INSERT","lineNumber":102,"content":"    if (filter.bathroomsMax != null) {"},{"type":"INSERT","lineNumber":103,"content":"      queryMap['BathroomsMax'] = filter.bathroomsMax;"},{"type":"INSERT","lineNumber":104,"content":"    }"},{"type":"INSERT","lineNumber":105,"content":"    "},{"type":"INSERT","lineNumber":106,"content":"    if (filter.hotelName != null && filter.hotelName!.isNotEmpty) {"},{"type":"INSERT","lineNumber":107,"content":"      queryMap['HotelName'] = filter.hotelName;"},{"type":"INSERT","lineNumber":108,"content":"    }"},{"type":"INSERT","lineNumber":109,"content":"    "},{"type":"INSERT","lineNumber":110,"content":"    if (filter.livingroomsMin != null) {"},{"type":"INSERT","lineNumber":111,"content":"      queryMap['LivingroomsMin'] = filter.livingroomsMin;"},{"type":"INSERT","lineNumber":112,"content":"    }"},{"type":"INSERT","lineNumber":113,"content":"    "},{"type":"INSERT","lineNumber":114,"content":"    if (filter.livingroomsMax != null) {"},{"type":"INSERT","lineNumber":115,"content":"      queryMap['LivingroomsMax'] = filter.livingroomsMax;"},{"type":"INSERT","lineNumber":116,"content":"    }"},{"type":"INSERT","lineNumber":117,"content":"    "},{"type":"INSERT","lineNumber":118,"content":"    if (filter.isActive != null) {"},{"type":"INSERT","lineNumber":119,"content":"      queryMap['IsActive'] = filter.isActive;"},{"type":"INSERT","lineNumber":120,"content":"    }"},{"type":"INSERT","lineNumber":121,"content":"    "},{"type":"INSERT","lineNumber":122,"content":"    queryMap['SkipCount'] = filter.skipCount;"},{"type":"INSERT","lineNumber":123,"content":"    queryMap['MaxResultCount'] = filter.maxResultCount;"},{"type":"INSERT","lineNumber":124,"content":"    "},{"type":"INSERT","lineNumber":125,"content":"    return queryMap;"},{"type":"INSERT","lineNumber":126,"content":"  }static Map<String, dynamic> filterToQueryMap(SearchFilter filter) {"},{"type":"INSERT","lineNumber":127,"content":"    final Map<String, dynamic> queryMap = {};"},{"type":"INSERT","lineNumber":128,"content":""},{"type":"INSERT","lineNumber":129,"content":"    if (filter.filterText != null && filter.filterText!.isNotEmpty) {"},{"type":"INSERT","lineNumber":131,"content":"    }"},{"type":"DELETE","lineNumber":78,"oldContent":"    }"}]},{"timestamp":1758297188997,"changes":[{"type":"INSERT","lineNumber":58,"content":"      return PropertySearchResponse.fromJson(response.data);"},{"type":"INSERT","lineNumber":59,"content":"    } catch (e) {"},{"type":"INSERT","lineNumber":60,"content":"      print(' Error searching properties: $e');"},{"type":"INSERT","lineNumber":61,"content":"      rethrow;"},{"type":"DELETE","lineNumber":60,"oldContent":"      return PropertySearchResponse.fromJson(response.data);"},{"type":"DELETE","lineNumber":63,"oldContent":"    } catch (e) {"},{"type":"DELETE","lineNumber":65,"oldContent":"      print(' Error searching properties: $e');"},{"type":"DELETE","lineNumber":68,"oldContent":"      rethrow;"},{"type":"DELETE","lineNumber":71,"oldContent":"    }"},{"type":"DELETE","lineNumber":73,"oldContent":"      queryMap['FilterText'] = filter.filterText;"},{"type":"DELETE","lineNumber":74,"oldContent":"    if (filter.propertyTypeId != null && filter.propertyTypeId!.isNotEmpty) {"},{"type":"INSERT","lineNumber":72,"content":"    }"},{"type":"DELETE","lineNumber":76,"oldContent":"      queryMap['PropertyTypeId'] = filter.propertyTypeId;"},{"type":"DELETE","lineNumber":78,"oldContent":"    }"},{"type":"DELETE","lineNumber":80,"oldContent":"    if (filter.checkInDate != null) {"},{"type":"DELETE","lineNumber":82,"oldContent":"      queryMap['CheckInDate'] = filter.checkInDate;"},{"type":"DELETE","lineNumber":84,"oldContent":"    }"},{"type":"DELETE","lineNumber":87,"oldContent":"    if (filter.checkOutDate != null) {"},{"type":"DELETE","lineNumber":89,"oldContent":"      queryMap['CheckOutDate'] = filter.checkOutDate;"},{"type":"DELETE","lineNumber":91,"oldContent":"    }"},{"type":"DELETE","lineNumber":93,"oldContent":"    if (filter.pricePerNightMin != null) {"},{"type":"DELETE","lineNumber":95,"oldContent":"      queryMap['PricePerNightMin'] = filter.pricePerNightMin;"},{"type":"DELETE","lineNumber":97,"oldContent":"    }"},{"type":"DELETE","lineNumber":99,"oldContent":"    if (filter.pricePerNightMax != null) {"},{"type":"DELETE","lineNumber":101,"oldContent":"      queryMap['PricePerNightMax'] = filter.pricePerNightMax;"},{"type":"DELETE","lineNumber":104,"oldContent":"    }"},{"type":"DELETE","lineNumber":105,"oldContent":"    if (filter.address != null && filter.address!.isNotEmpty) {"},{"type":"DELETE","lineNumber":107,"oldContent":"      queryMap['Address'] = filter.address;"},{"type":"DELETE","lineNumber":109,"oldContent":"    }"},{"type":"DELETE","lineNumber":111,"oldContent":"    if (filter.bathroomsMin != null) {"},{"type":"DELETE","lineNumber":113,"oldContent":"      queryMap['BathroomsMin'] = filter.bathroomsMin;"},{"type":"DELETE","lineNumber":115,"oldContent":"    }"},{"type":"DELETE","lineNumber":117,"oldContent":"    if (filter.bathroomsMax != null) {"},{"type":"DELETE","lineNumber":119,"oldContent":"      queryMap['BathroomsMax'] = filter.bathroomsMax;"},{"type":"DELETE","lineNumber":121,"oldContent":"    }"},{"type":"DELETE","lineNumber":123,"oldContent":"    if (filter.hotelName != null && filter.hotelName!.isNotEmpty) {"},{"type":"DELETE","lineNumber":125,"oldContent":"      queryMap['HotelName'] = filter.hotelName;"},{"type":"DELETE","lineNumber":128,"oldContent":"    }"},{"type":"DELETE","lineNumber":129,"oldContent":"    if (filter.livingroomsMin != null) {"},{"type":"DELETE","lineNumber":131,"oldContent":"      queryMap['LivingroomsMin'] = filter.livingroomsMin;"},{"type":"DELETE","lineNumber":133,"oldContent":"    }"},{"type":"DELETE","lineNumber":135,"oldContent":"    if (filter.livingroomsMax != null) {"},{"type":"DELETE","lineNumber":137,"oldContent":"      queryMap['LivingroomsMax'] = filter.livingroomsMax;"},{"type":"DELETE","lineNumber":139,"oldContent":"    }"},{"type":"DELETE","lineNumber":141,"oldContent":"    if (filter.governateId != null && filter.governateId!.isNotEmpty) {"},{"type":"DELETE","lineNumber":143,"oldContent":"      queryMap['GovernateId'] = filter.governateId;"},{"type":"DELETE","lineNumber":145,"oldContent":"    }"},{"type":"DELETE","lineNumber":147,"oldContent":""},{"type":"DELETE","lineNumber":149,"oldContent":"    queryMap['IsActive'] = filter.isActive ?? true;"},{"type":"DELETE","lineNumber":151,"oldContent":"    queryMap['SkipCount'] = filter.skipCount;"},{"type":"DELETE","lineNumber":153,"oldContent":"    queryMap['MaxResultCount'] = filter.maxResultCount;"},{"type":"DELETE","lineNumber":155,"oldContent":""},{"type":"DELETE","lineNumber":157,"oldContent":"    return queryMap;"},{"type":"DELETE","lineNumber":159,"oldContent":"  }"},{"type":"DELETE","lineNumber":161,"oldContent":"}"},{"type":"DELETE","lineNumber":163,"oldContent":""},{"type":"DELETE","lineNumber":165,"oldContent":"    }"},{"type":"DELETE","lineNumber":167,"oldContent":"    if (filter.filterText != null && filter.filterText!.isNotEmpty) {"},{"type":"DELETE","lineNumber":169,"oldContent":""},{"type":"INSERT","lineNumber":122,"content":"    queryMap['SkipCount'] = filter.skipCount;"},{"type":"INSERT","lineNumber":123,"content":"    queryMap['MaxResultCount'] = filter.maxResultCount;"},{"type":"INSERT","lineNumber":124,"content":"    "},{"type":"INSERT","lineNumber":125,"content":"    return queryMap;"},{"type":"INSERT","lineNumber":126,"content":"  }"},{"type":"INSERT","lineNumber":127,"content":"}"},{"type":"INSERT","lineNumber":129,"content":""},{"type":"INSERT","lineNumber":130,"content":"    if (filter.filterText != null && filter.filterText!.isNotEmpty) {"},{"type":"INSERT","lineNumber":131,"content":"      queryMap['FilterText'] = filter.filterText;"},{"type":"INSERT","lineNumber":132,"content":"    }"},{"type":"INSERT","lineNumber":133,"content":"    if (filter.propertyTypeId != null && filter.propertyTypeId!.isNotEmpty) {"},{"type":"INSERT","lineNumber":134,"content":"      queryMap['PropertyTypeId'] = filter.propertyTypeId;"},{"type":"INSERT","lineNumber":135,"content":"    }"},{"type":"INSERT","lineNumber":136,"content":"    if (filter.checkInDate != null) {"},{"type":"INSERT","lineNumber":137,"content":"      queryMap['CheckInDate'] = filter.checkInDate;"},{"type":"INSERT","lineNumber":138,"content":"    }"},{"type":"INSERT","lineNumber":139,"content":"    if (filter.checkOutDate != null) {"},{"type":"INSERT","lineNumber":140,"content":"      queryMap['CheckOutDate'] = filter.checkOutDate;"},{"type":"INSERT","lineNumber":141,"content":"    }"},{"type":"INSERT","lineNumber":142,"content":"    if (filter.pricePerNightMin != null) {"},{"type":"INSERT","lineNumber":143,"content":"      queryMap['PricePerNightMin'] = filter.pricePerNightMin;"},{"type":"INSERT","lineNumber":144,"content":"    }"},{"type":"INSERT","lineNumber":145,"content":"    if (filter.pricePerNightMax != null) {"},{"type":"INSERT","lineNumber":146,"content":"      queryMap['PricePerNightMax'] = filter.pricePerNightMax;"},{"type":"INSERT","lineNumber":147,"content":"    }"},{"type":"INSERT","lineNumber":148,"content":"    if (filter.address != null && filter.address!.isNotEmpty) {"},{"type":"INSERT","lineNumber":149,"content":"      queryMap['Address'] = filter.address;"},{"type":"INSERT","lineNumber":150,"content":"    }"},{"type":"INSERT","lineNumber":151,"content":"    if (filter.bathroomsMin != null) {"},{"type":"INSERT","lineNumber":152,"content":"      queryMap['BathroomsMin'] = filter.bathroomsMin;"},{"type":"INSERT","lineNumber":153,"content":"    }"},{"type":"INSERT","lineNumber":154,"content":"    if (filter.bathroomsMax != null) {"},{"type":"INSERT","lineNumber":155,"content":"      queryMap['BathroomsMax'] = filter.bathroomsMax;"},{"type":"INSERT","lineNumber":156,"content":"    }"},{"type":"INSERT","lineNumber":157,"content":"    if (filter.hotelName != null && filter.hotelName!.isNotEmpty) {"},{"type":"INSERT","lineNumber":158,"content":"      queryMap['HotelName'] = filter.hotelName;"},{"type":"INSERT","lineNumber":159,"content":"    }"},{"type":"INSERT","lineNumber":160,"content":"    if (filter.livingroomsMin != null) {"},{"type":"INSERT","lineNumber":161,"content":"      queryMap['LivingroomsMin'] = filter.livingroomsMin;"},{"type":"INSERT","lineNumber":162,"content":"    }"},{"type":"INSERT","lineNumber":163,"content":"    if (filter.livingroomsMax != null) {"},{"type":"INSERT","lineNumber":164,"content":"      queryMap['LivingroomsMax'] = filter.livingroomsMax;"},{"type":"INSERT","lineNumber":165,"content":"    }"},{"type":"INSERT","lineNumber":166,"content":"    if (filter.governateId != null && filter.governateId!.isNotEmpty) {"},{"type":"INSERT","lineNumber":167,"content":"      queryMap['GovernateId'] = filter.governateId;"},{"type":"INSERT","lineNumber":168,"content":"    }"},{"type":"INSERT","lineNumber":169,"content":""},{"type":"INSERT","lineNumber":170,"content":"    queryMap['IsActive'] = filter.isActive ?? true;"},{"type":"MODIFY","lineNumber":173,"content":"","oldContent":"  }static Map<String, dynamic> filterToQueryMap(SearchFilter filter) {"},{"type":"DELETE","lineNumber":176,"oldContent":"    "},{"type":"INSERT","lineNumber":175,"content":"  }"},{"type":"INSERT","lineNumber":176,"content":"}"},{"type":"INSERT","lineNumber":177,"content":""}]},{"timestamp":1758297261845,"changes":[{"type":"DELETE","lineNumber":59,"oldContent":"    }"},{"type":"MODIFY","lineNumber":62,"content":"    }","oldContent":"  }"},{"type":"INSERT","lineNumber":63,"content":"  }"},{"type":"MODIFY","lineNumber":72,"content":"    }","oldContent":"    }"},{"type":"DELETE","lineNumber":97,"oldContent":"    queryMap['SkipCount'] = filter.skipCount;"},{"type":"DELETE","lineNumber":99,"oldContent":"    queryMap['MaxResultCount'] = filter.maxResultCount;"},{"type":"DELETE","lineNumber":100,"oldContent":"    "},{"type":"DELETE","lineNumber":102,"oldContent":"    return queryMap;"},{"type":"DELETE","lineNumber":103,"oldContent":"  }"},{"type":"DELETE","lineNumber":105,"oldContent":"}"},{"type":"DELETE","lineNumber":107,"oldContent":""},{"type":"DELETE","lineNumber":108,"oldContent":"    if (filter.filterText != null && filter.filterText!.isNotEmpty) {"},{"type":"DELETE","lineNumber":110,"oldContent":"      queryMap['FilterText'] = filter.filterText;"},{"type":"DELETE","lineNumber":111,"oldContent":"    }"},{"type":"DELETE","lineNumber":113,"oldContent":"    if (filter.propertyTypeId != null && filter.propertyTypeId!.isNotEmpty) {"},{"type":"DELETE","lineNumber":114,"oldContent":"      queryMap['PropertyTypeId'] = filter.propertyTypeId;"},{"type":"DELETE","lineNumber":117,"oldContent":"    if (filter.checkInDate != null) {"},{"type":"DELETE","lineNumber":118,"oldContent":"    }"},{"type":"DELETE","lineNumber":119,"oldContent":"      queryMap['CheckInDate'] = filter.checkInDate;"},{"type":"DELETE","lineNumber":120,"oldContent":"    }"},{"type":"DELETE","lineNumber":122,"oldContent":"    if (filter.checkOutDate != null) {"},{"type":"DELETE","lineNumber":123,"oldContent":"      queryMap['CheckOutDate'] = filter.checkOutDate;"},{"type":"DELETE","lineNumber":125,"oldContent":"    }"},{"type":"DELETE","lineNumber":126,"oldContent":"    if (filter.pricePerNightMin != null) {"},{"type":"DELETE","lineNumber":128,"oldContent":"      queryMap['PricePerNightMin'] = filter.pricePerNightMin;"},{"type":"DELETE","lineNumber":130,"oldContent":"    }"},{"type":"DELETE","lineNumber":131,"oldContent":"    if (filter.pricePerNightMax != null) {"},{"type":"DELETE","lineNumber":132,"oldContent":"      queryMap['PricePerNightMax'] = filter.pricePerNightMax;"},{"type":"DELETE","lineNumber":134,"oldContent":"    }"},{"type":"DELETE","lineNumber":135,"oldContent":"    if (filter.address != null && filter.address!.isNotEmpty) {"},{"type":"DELETE","lineNumber":137,"oldContent":"      queryMap['Address'] = filter.address;"},{"type":"DELETE","lineNumber":138,"oldContent":"    }"},{"type":"DELETE","lineNumber":140,"oldContent":"    if (filter.bathroomsMin != null) {"},{"type":"DELETE","lineNumber":141,"oldContent":"      queryMap['BathroomsMin'] = filter.bathroomsMin;"},{"type":"DELETE","lineNumber":143,"oldContent":"    }"},{"type":"DELETE","lineNumber":144,"oldContent":"    if (filter.bathroomsMax != null) {"},{"type":"DELETE","lineNumber":146,"oldContent":"      queryMap['BathroomsMax'] = filter.bathroomsMax;"},{"type":"DELETE","lineNumber":147,"oldContent":"    }"},{"type":"DELETE","lineNumber":149,"oldContent":"    if (filter.hotelName != null && filter.hotelName!.isNotEmpty) {"},{"type":"DELETE","lineNumber":150,"oldContent":"      queryMap['HotelName'] = filter.hotelName;"},{"type":"DELETE","lineNumber":153,"oldContent":"    if (filter.livingroomsMin != null) {"},{"type":"DELETE","lineNumber":154,"oldContent":"    }"},{"type":"DELETE","lineNumber":155,"oldContent":"      queryMap['LivingroomsMin'] = filter.livingroomsMin;"},{"type":"DELETE","lineNumber":156,"oldContent":"    }"},{"type":"DELETE","lineNumber":158,"oldContent":"    if (filter.livingroomsMax != null) {"},{"type":"DELETE","lineNumber":159,"oldContent":"      queryMap['LivingroomsMax'] = filter.livingroomsMax;"},{"type":"DELETE","lineNumber":161,"oldContent":"    }"},{"type":"DELETE","lineNumber":162,"oldContent":"    if (filter.governateId != null && filter.governateId!.isNotEmpty) {"},{"type":"DELETE","lineNumber":164,"oldContent":"      queryMap['GovernateId'] = filter.governateId;"},{"type":"DELETE","lineNumber":166,"oldContent":"    }"},{"type":"DELETE","lineNumber":167,"oldContent":""},{"type":"DELETE","lineNumber":168,"oldContent":"    queryMap['IsActive'] = filter.isActive ?? true;"},{"type":"DELETE","lineNumber":170,"oldContent":"    final Map<String, dynamic> queryMap = {};"},{"type":"DELETE","lineNumber":172,"oldContent":""},{"type":"DELETE","lineNumber":174,"oldContent":"  }"},{"type":"INSERT","lineNumber":124,"content":"    "},{"type":"INSERT","lineNumber":126,"content":"  }"}]}]},"D:/flutter projects/ahlanfeekum/lib/core/di/injection.dart":{"filePath":"D:/flutter projects/ahlanfeekum/lib/core/di/injection.dart","baseContent":"import 'package:get_it/get_it.dart';\nimport 'package:dio/dio.dart';\nimport 'package:shared_preferences/shared_preferences.dart';\nimport 'package:flutter_secure_storage/flutter_secure_storage.dart';\n\nimport '../network/dio_factory.dart';\nimport '../network/network_info.dart';\nimport '../../features/auth/data/datasources/auth_remote_data_source.dart';\nimport '../../features/auth/data/datasources/auth_local_data_source.dart';\nimport '../../features/auth/data/repositories/auth_repository_impl.dart';\nimport '../../features/auth/domain/repositories/auth_repository.dart';\nimport '../../features/auth/domain/usecases/login_usecase.dart';\nimport '../../features/auth/domain/usecases/send_otp_usecase.dart';\nimport '../../features/auth/domain/usecases/verify_otp_usecase.dart';\nimport '../../features/auth/domain/usecases/google_sign_in_usecase.dart';\nimport '../../features/auth/domain/usecases/register_user_usecase.dart';\nimport '../../features/auth/domain/usecases/send_otp_phone_usecase.dart';\nimport '../../features/auth/domain/usecases/confirm_password_reset_usecase.dart';\nimport '../../features/auth/presentation/bloc/auth_bloc.dart';\nimport '../../features/auth/presentation/cubit/registration_cubit.dart';\nimport '../../features/search/data/datasources/search_remote_data_source.dart';\nimport '../../features/search/data/repositories/search_repository_impl.dart';\nimport '../../features/search/domain/repositories/search_repository.dart';\nimport '../../features/search/presentation/bloc/search_bloc.dart';\n\nfinal getIt = GetIt.instance;\n\nFuture<void> initializeDependencies() async {\n  // External dependencies\n  final sharedPreferences = await SharedPreferences.getInstance();\n  getIt.registerLazySingleton<SharedPreferences>(() => sharedPreferences);\n\n  const secureStorage = FlutterSecureStorage();\n  getIt.registerLazySingleton<FlutterSecureStorage>(() => secureStorage);\n\n  final dio = DioFactory.getDio();\n  getIt.registerLazySingleton<Dio>(() => dio);\n\n  // Core\n  getIt.registerLazySingleton<NetworkInfo>(() => NetworkInfoImpl());\n\n  // Data sources\n  getIt.registerLazySingleton<AuthRemoteDataSource>(\n    () => AuthRemoteDataSourceImpl(dio: getIt()),\n  );\n\n  getIt.registerLazySingleton<AuthLocalDataSource>(\n    () => AuthLocalDataSourceImpl(getIt(), getIt()),\n  );\n\n  getIt.registerLazySingleton<SearchRemoteDataSource>(\n    () => SearchRemoteDataSource(getIt()),\n  );\n\n  // Repository\n  getIt.registerLazySingleton<AuthRepository>(\n    () => AuthRepositoryImpl(\n      remoteDataSource: getIt(),\n      localDataSource: getIt(),\n      networkInfo: getIt(),\n    ),\n  );\n\n  getIt.registerLazySingleton<SearchRepository>(\n    () => SearchRepositoryImpl(\n      remoteDataSource: getIt(),\n      sharedPreferences: getIt(),\n    ),\n  );\n\n  // Use cases\n  getIt.registerLazySingleton(() => LoginUseCase(getIt()));\n  getIt.registerLazySingleton(() => SendOtpUseCase(getIt()));\n  getIt.registerLazySingleton(() => VerifyOtpUseCase(getIt()));\n  getIt.registerLazySingleton(() => GoogleSignInUseCase(getIt()));\n  getIt.registerLazySingleton(() => ConfirmPasswordResetUseCase(getIt()));\n  getIt.registerLazySingleton(() => RegisterUserUseCase(getIt()));\n  getIt.registerLazySingleton(() => SendOtpPhoneUseCase(getIt()));\n\n  // BLoC\n  getIt.registerFactory(\n    () => AuthBloc(\n      loginUseCase: getIt(),\n      sendOtpUseCase: getIt(),\n      verifyOtpUseCase: getIt(),\n      googleSignInUseCase: getIt(),\n      confirmPasswordResetUseCase: getIt(),\n      authLocalDataSource: getIt(),\n    ),\n  );\n\n  getIt.registerFactory(() => SearchBloc(\n    searchRepository: getIt(),\n    sharedPreferences: getIt(),\n  ));\n\n  // Registration Cubit\n  getIt.registerFactory(() => RegistrationCubit(getIt()));\n}\n","baseTimestamp":1758198638671,"deltas":[{"timestamp":1758198821428,"changes":[{"type":"MODIFY","lineNumber":51,"content":"    () => SearchRemoteDataSourceImpl(getIt()),","oldContent":"    () => SearchRemoteDataSource(getIt()),"}]},{"timestamp":1758198987367,"changes":[{"type":"DELETE","lineNumber":66,"oldContent":"      sharedPreferences: getIt(),"}]},{"timestamp":1758296770351,"changes":[{"type":"INSERT","lineNumber":24,"content":"import '../../features/home/data/datasources/home_remote_data_source.dart';"},{"type":"INSERT","lineNumber":25,"content":"import '../../features/home/data/repositories/home_repository_impl.dart';"},{"type":"INSERT","lineNumber":26,"content":"import '../../features/home/domain/repositories/home_repository.dart';"},{"type":"INSERT","lineNumber":27,"content":"import '../../features/home/presentation/bloc/home_bloc.dart';"},{"type":"INSERT","lineNumber":58,"content":"  getIt.registerLazySingleton<HomeRemoteDataSource>("},{"type":"INSERT","lineNumber":59,"content":"    () => HomeRemoteDataSourceImpl(getIt()),"},{"type":"INSERT","lineNumber":60,"content":"  );"},{"type":"INSERT","lineNumber":61,"content":""},{"type":"INSERT","lineNumber":77,"content":"  getIt.registerLazySingleton<HomeRepository>("},{"type":"INSERT","lineNumber":78,"content":"    () => HomeRepositoryImpl("},{"type":"INSERT","lineNumber":79,"content":"      remoteDataSource: getIt(),"},{"type":"INSERT","lineNumber":80,"content":"    ),"},{"type":"INSERT","lineNumber":81,"content":"  );"},{"type":"INSERT","lineNumber":82,"content":""}]},{"timestamp":1758296782620,"changes":[{"type":"DELETE","lineNumber":25,"oldContent":""},{"type":"DELETE","lineNumber":27,"oldContent":"final getIt = GetIt.instance;"},{"type":"MODIFY","lineNumber":28,"content":"","oldContent":""},{"type":"INSERT","lineNumber":29,"content":"final getIt = GetIt.instance;"},{"type":"INSERT","lineNumber":30,"content":""},{"type":"INSERT","lineNumber":58,"content":"  getIt.registerLazySingleton<HomeRemoteDataSource>("},{"type":"INSERT","lineNumber":59,"content":"    () => HomeRemoteDataSourceImpl(getIt()),"},{"type":"INSERT","lineNumber":60,"content":"  );"},{"type":"INSERT","lineNumber":61,"content":""},{"type":"DELETE","lineNumber":62,"oldContent":"  getIt.registerLazySingleton<HomeRemoteDataSource>("},{"type":"DELETE","lineNumber":64,"oldContent":"    () => HomeRemoteDataSourceImpl(getIt()),"},{"type":"DELETE","lineNumber":66,"oldContent":"  );"},{"type":"DELETE","lineNumber":68,"oldContent":""},{"type":"INSERT","lineNumber":77,"content":"  getIt.registerLazySingleton<HomeRepository>("},{"type":"INSERT","lineNumber":78,"content":"    () => HomeRepositoryImpl("},{"type":"INSERT","lineNumber":79,"content":"      remoteDataSource: getIt(),"},{"type":"INSERT","lineNumber":80,"content":"    ),"},{"type":"INSERT","lineNumber":81,"content":"  );"},{"type":"INSERT","lineNumber":82,"content":""},{"type":"DELETE","lineNumber":85,"oldContent":"  getIt.registerLazySingleton<HomeRepository>("},{"type":"DELETE","lineNumber":87,"oldContent":"    () => HomeRepositoryImpl("},{"type":"DELETE","lineNumber":89,"oldContent":"      remoteDataSource: getIt(),"},{"type":"DELETE","lineNumber":91,"oldContent":"    ),"},{"type":"DELETE","lineNumber":93,"oldContent":"  );"},{"type":"DELETE","lineNumber":95,"oldContent":""},{"type":"INSERT","lineNumber":109,"content":"  getIt.registerFactory(() => HomeBloc("},{"type":"INSERT","lineNumber":110,"content":"    homeRepository: getIt(),"},{"type":"INSERT","lineNumber":111,"content":"  ));"},{"type":"INSERT","lineNumber":112,"content":""}]},{"timestamp":1758296922302,"changes":[{"type":"INSERT","lineNumber":26,"content":"import '../../features/home/domain/repositories/home_repository.dart';"},{"type":"INSERT","lineNumber":27,"content":"import '../../features/home/presentation/bloc/home_bloc.dart';"},{"type":"DELETE","lineNumber":29,"oldContent":""},{"type":"DELETE","lineNumber":30,"oldContent":"import '../../features/home/presentation/bloc/home_bloc.dart';"},{"type":"DELETE","lineNumber":59,"oldContent":"  // Repository"},{"type":"DELETE","lineNumber":61,"oldContent":"  getIt.registerLazySingleton<AuthRepository>("},{"type":"MODIFY","lineNumber":62,"content":"  // Repository","oldContent":"    () => AuthRepositoryImpl("},{"type":"INSERT","lineNumber":63,"content":"  getIt.registerLazySingleton<AuthRepository>("},{"type":"INSERT","lineNumber":64,"content":"    () => AuthRepositoryImpl("},{"type":"DELETE","lineNumber":78,"oldContent":"  // Use cases"},{"type":"DELETE","lineNumber":80,"oldContent":"  getIt.registerLazySingleton(() => LoginUseCase(getIt()));"},{"type":"DELETE","lineNumber":82,"oldContent":"  getIt.registerLazySingleton(() => SendOtpUseCase(getIt()));"},{"type":"DELETE","lineNumber":84,"oldContent":"  getIt.registerLazySingleton(() => VerifyOtpUseCase(getIt()));"},{"type":"DELETE","lineNumber":86,"oldContent":"  getIt.registerLazySingleton(() => GoogleSignInUseCase(getIt()));"},{"type":"INSERT","lineNumber":83,"content":"  // Use cases"},{"type":"INSERT","lineNumber":84,"content":"  getIt.registerLazySingleton(() => LoginUseCase(getIt()));"},{"type":"INSERT","lineNumber":85,"content":"  getIt.registerLazySingleton(() => SendOtpUseCase(getIt()));"},{"type":"INSERT","lineNumber":86,"content":"  getIt.registerLazySingleton(() => VerifyOtpUseCase(getIt()));"},{"type":"INSERT","lineNumber":87,"content":"  getIt.registerLazySingleton(() => GoogleSignInUseCase(getIt()));"},{"type":"DELETE","lineNumber":110,"oldContent":"  // Registration Cubit"},{"type":"MODIFY","lineNumber":112,"content":"","oldContent":"  getIt.registerFactory(() => RegistrationCubit(getIt()));"},{"type":"INSERT","lineNumber":113,"content":"  // Registration Cubit"},{"type":"INSERT","lineNumber":114,"content":"  getIt.registerFactory(() => RegistrationCubit(getIt()));"},{"type":"DELETE","lineNumber":116,"oldContent":""}]}]},"D:/flutter projects/ahlanfeekum/lib/features/search/data/repositories/search_repository_impl.dart":{"filePath":"D:/flutter projects/ahlanfeekum/lib/features/search/data/repositories/search_repository_impl.dart","baseContent":"import '../../../../core/network/api_result.dart';\nimport '../../domain/entities/search_entities.dart';\nimport '../../domain/repositories/search_repository.dart';\nimport '../datasources/search_remote_data_source.dart';\nimport '../models/search_filter.dart';\n\nclass SearchRepositoryImpl implements SearchRepository {\n  final SearchRemoteDataSource _remoteDataSource;\n\n  SearchRepositoryImpl({\n    required SearchRemoteDataSource remoteDataSource,\n  }) : _remoteDataSource = remoteDataSource;\n\n  @override\n  Future<ApiResult<List<LookupItemEntity>>> getPropertyTypes() async {\n    try {\n      print(' Fetching property types...');\n      final response = await _remoteDataSource.getPropertyTypes();\n      print(' Property types response: ${response.items.length} items');\n      final entities = response.items\n          .map((item) => LookupItemEntity(\n                id: item.id,\n                displayName: item.displayName,\n              ))\n          .toList();\n      return ApiResult.success(entities);\n    } catch (error) {\n      print(' Property types error: $error');\n      return ApiResult.failure(error.toString());\n    }\n  }\n\n  @override\n  Future<ApiResult<List<LookupItemEntity>>> getPropertyFeatures() async {\n    try {\n      final response = await _remoteDataSource.getPropertyFeatures();\n      final entities = response.items\n          .map((item) => LookupItemEntity(\n                id: item.id,\n                displayName: item.displayName,\n              ))\n          .toList();\n      return ApiResult.success(entities);\n    } catch (error) {\n      return ApiResult.failure(error.toString());\n    }\n  }\n\n  @override\n  Future<ApiResult<List<LookupItemEntity>>> getGovernates() async {\n    try {\n      final response = await _remoteDataSource.getGovernates();\n      final entities = response.items\n          .map((item) => LookupItemEntity(\n                id: item.id,\n                displayName: item.displayName,\n              ))\n          .toList();\n      return ApiResult.success(entities);\n    } catch (error) {\n      return ApiResult.failure(error.toString());\n    }\n  }\n\n  @override\n  Future<ApiResult<SearchResultEntity>> searchProperties(SearchFilter filter) async {\n    try {\n      final queryMap = SearchRemoteDataSourceHelper.filterToQueryMap(filter);\n      print(' Searching properties with filter: $queryMap');\n      \n      final response = await _remoteDataSource.searchProperties(queryMap);\n      print(' Search response: ${response.items.length} properties found');\n      \n      final entities = response.items\n          .map((property) => PropertyEntity(\n                id: property.id,\n                title: property.title,\n                description: property.description,\n                pricePerNight: property.pricePerNight,\n                address: property.address,\n                cityName: property.cityName,\n                governateName: property.governateName,\n                bedrooms: property.bedrooms,\n                bathrooms: property.bathrooms,\n                livingrooms: property.livingrooms,\n                rating: property.rating,\n                images: property.images,\n                features: property.features,\n                propertyTypeId: property.propertyTypeId,\n                propertyTypeName: property.propertyTypeName,\n                hotelName: property.hotelName,\n                isActive: property.isActive,\n              ))\n          .toList();\n\n      final searchResult = SearchResultEntity(\n        properties: entities,\n        totalCount: response.totalCount,\n      );\n\n      return ApiResult.success(searchResult);\n    } catch (error) {\n      print(' Search properties error: $error');\n      return ApiResult.failure(error.toString());\n    }\n  }\n}\n","baseTimestamp":1758295865456},"D:/flutter projects/ahlanfeekum/lib/features/search/presentation/bloc/search_bloc.dart":{"filePath":"D:/flutter projects/ahlanfeekum/lib/features/search/presentation/bloc/search_bloc.dart","baseContent":"import 'package:flutter_bloc/flutter_bloc.dart';\nimport 'package:shared_preferences/shared_preferences.dart';\nimport 'dart:convert';\nimport '../../data/models/search_filter.dart';\nimport '../../domain/repositories/search_repository.dart';\nimport 'search_event.dart';\nimport 'search_state.dart';\n\nclass SearchBloc extends Bloc<SearchEvent, SearchState> {\n  final SearchRepository _searchRepository;\n  final SharedPreferences _sharedPreferences;\n  static const String _recentSearchesKey = 'recent_searches';\n\n  SearchBloc({\n    required SearchRepository searchRepository,\n    required SharedPreferences sharedPreferences,\n  })  : _searchRepository = searchRepository,\n        _sharedPreferences = sharedPreferences,\n        super(const SearchInitial()) {\n    on<LoadLookupsEvent>(_onLoadLookups);\n    on<SearchPropertiesEvent>(_onSearchProperties);\n    on<UpdateFilterEvent>(_onUpdateFilter);\n    on<ResetFilterEvent>(_onResetFilter);\n    on<LoadMorePropertiesEvent>(_onLoadMoreProperties);\n    on<SaveRecentSearchEvent>(_onSaveRecentSearch);\n  }\n\n  Future<void> _onLoadLookups(\n    LoadLookupsEvent event,\n    Emitter<SearchState> emit,\n  ) async {\n    emit(const LookupsLoading());\n\n    try {\n      final results = await Future.wait([\n        _searchRepository.getPropertyTypes(),\n        _searchRepository.getPropertyFeatures(),\n        _searchRepository.getGovernates(),\n      ]);\n\n      final propertyTypesResult = results[0];\n      final propertyFeaturesResult = results[1];\n      final governatesResult = results[2];\n\n      propertyTypesResult.when(\n        success: (propertyTypes) {\n          propertyFeaturesResult.when(\n            success: (propertyFeatures) {\n              governatesResult.when(\n                success: (governates) async {\n                  final recentSearches = await _loadRecentSearches();\n                  emit(LookupsLoaded(\n                    propertyTypes: propertyTypes,\n                    propertyFeatures: propertyFeatures,\n                    governates: governates,\n                    currentFilter: const SearchFilter(),\n                    recentSearches: recentSearches,\n                  ));\n                },\n                failure: (message) => emit(SearchError(message: message)),\n              );\n            },\n            failure: (message) => emit(SearchError(message: message)),\n          );\n        },\n        failure: (message) => emit(SearchError(message: message)),\n      );\n    } catch (error) {\n      emit(SearchError(message: 'An unexpected error occurred: $error'));\n    }\n  }\n\n  Future<void> _onSearchProperties(\n    SearchPropertiesEvent event,\n    Emitter<SearchState> emit,\n  ) async {\n    if (state is! LookupsLoaded && state is! SearchLoaded) {\n      return;\n    }\n\n    emit(const SearchLoading());\n\n    final result = await _searchRepository.searchProperties(event.filter);\n\n    result.when(\n      success: (searchResult) {\n        final currentState = state;\n        List<RecentSearch> recentSearches = [];\n        \n        if (currentState is LookupsLoaded) {\n          recentSearches = currentState.recentSearches;\n        } else if (currentState is SearchLoaded) {\n          recentSearches = currentState.recentSearches;\n        }\n\n        final lookupsState = currentState is LookupsLoaded \n            ? currentState \n            : currentState is SearchLoaded \n                ? LookupsLoaded(\n                    propertyTypes: currentState.propertyTypes,\n                    propertyFeatures: currentState.propertyFeatures,\n                    governates: currentState.governates,\n                    currentFilter: event.filter,\n                    recentSearches: recentSearches,\n                  )\n                : null;\n\n        if (lookupsState != null) {\n          emit(SearchLoaded(\n            properties: searchResult.properties,\n            totalCount: searchResult.totalCount,\n            currentFilter: event.filter,\n            propertyTypes: lookupsState.propertyTypes,\n            propertyFeatures: lookupsState.propertyFeatures,\n            governates: lookupsState.governates,\n            recentSearches: recentSearches,\n            hasReachedMax: searchResult.properties.length < event.filter.maxResultCount,\n          ));\n        }\n      },\n      failure: (message) => emit(SearchError(message: message)),\n    );\n  }\n\n  Future<void> _onUpdateFilter(\n    UpdateFilterEvent event,\n    Emitter<SearchState> emit,\n  ) async {\n    if (state is LookupsLoaded) {\n      final currentState = state as LookupsLoaded;\n      emit(LookupsLoaded(\n        propertyTypes: currentState.propertyTypes,\n        propertyFeatures: currentState.propertyFeatures,\n        governates: currentState.governates,\n        currentFilter: event.filter,\n        recentSearches: currentState.recentSearches,\n      ));\n    } else if (state is SearchLoaded) {\n      final currentState = state as SearchLoaded;\n      emit(currentState.copyWith(currentFilter: event.filter));\n    }\n  }\n\n  Future<void> _onResetFilter(\n    ResetFilterEvent event,\n    Emitter<SearchState> emit,\n  ) async {\n    if (state is LookupsLoaded) {\n      final currentState = state as LookupsLoaded;\n      emit(LookupsLoaded(\n        propertyTypes: currentState.propertyTypes,\n        propertyFeatures: currentState.propertyFeatures,\n        governates: currentState.governates,\n        currentFilter: const SearchFilter(),\n        recentSearches: currentState.recentSearches,\n      ));\n    } else if (state is SearchLoaded) {\n      final currentState = state as SearchLoaded;\n      emit(currentState.copyWith(currentFilter: const SearchFilter()));\n    }\n  }\n\n  Future<void> _onLoadMoreProperties(\n    LoadMorePropertiesEvent event,\n    Emitter<SearchState> emit,\n  ) async {\n    if (state is! SearchLoaded) return;\n\n    final currentState = state as SearchLoaded;\n    if (currentState.hasReachedMax) return;\n\n    final newFilter = currentState.currentFilter.copyWith(\n      skipCount: currentState.properties.length,\n    );\n\n    final result = await _searchRepository.searchProperties(newFilter);\n\n    result.when(\n      success: (searchResult) {\n        final newProperties = [...currentState.properties, ...searchResult.properties];\n        \n        emit(currentState.copyWith(\n          properties: newProperties,\n          totalCount: searchResult.totalCount,\n          hasReachedMax: searchResult.properties.length < newFilter.maxResultCount,\n        ));\n      },\n      failure: (message) {\n        // Handle error for load more if needed\n      },\n    );\n  }\n\n  Future<void> _onSaveRecentSearch(\n    SaveRecentSearchEvent event,\n    Emitter<SearchState> emit,\n  ) async {\n    final recentSearches = await _loadRecentSearches();\n    \n    final newSearch = RecentSearch(\n      location: event.location,\n      checkIn: event.checkIn,\n      checkOut: event.checkOut,\n      guests: event.guests,\n      timestamp: DateTime.now(),\n    );\n\n    // Remove duplicate if exists and add to beginning\n    final updatedSearches = [\n      newSearch,\n      ...recentSearches.where((search) => \n          search.location != event.location ||\n          search.checkIn != event.checkIn ||\n          search.checkOut != event.checkOut ||\n          search.guests != event.guests)\n    ].take(5).toList(); // Keep only 5 recent searches\n\n    await _saveRecentSearches(updatedSearches);\n\n    // Update current state with new recent searches\n    if (state is LookupsLoaded) {\n      final currentState = state as LookupsLoaded;\n      emit(LookupsLoaded(\n        propertyTypes: currentState.propertyTypes,\n        propertyFeatures: currentState.propertyFeatures,\n        governates: currentState.governates,\n        currentFilter: currentState.currentFilter,\n        recentSearches: updatedSearches,\n      ));\n    } else if (state is SearchLoaded) {\n      final currentState = state as SearchLoaded;\n      emit(currentState.copyWith(recentSearches: updatedSearches));\n    }\n  }\n\n  Future<List<RecentSearch>> _loadRecentSearches() async {\n    final jsonString = _sharedPreferences.getString(_recentSearchesKey);\n    if (jsonString == null) return [];\n\n    try {\n      final List<dynamic> jsonList = json.decode(jsonString);\n      return jsonList.map((json) => RecentSearch(\n        location: json['location'],\n        checkIn: DateTime.parse(json['checkIn']),\n        checkOut: DateTime.parse(json['checkOut']),\n        guests: json['guests'],\n        timestamp: DateTime.parse(json['timestamp']),\n      )).toList();\n    } catch (e) {\n      return [];\n    }\n  }\n\n  Future<void> _saveRecentSearches(List<RecentSearch> searches) async {\n    final jsonList = searches.map((search) => {\n      'location': search.location,\n      'checkIn': search.checkIn.toIso8601String(),\n      'checkOut': search.checkOut.toIso8601String(),\n      'guests': search.guests,\n      'timestamp': search.timestamp.toIso8601String(),\n    }).toList();\n\n    await _sharedPreferences.setString(_recentSearchesKey, json.encode(jsonList));\n  }\n}\n","baseTimestamp":1758297275850,"deltas":[{"timestamp":1758297424217,"changes":[{"type":"MODIFY","lineNumber":139,"content":"      emit(SearchLoaded(","oldContent":"      emit(currentState.copyWith(currentFilter: event.filter));"},{"type":"INSERT","lineNumber":140,"content":"        properties: currentState.properties,"},{"type":"INSERT","lineNumber":141,"content":"        totalCount: currentState.totalCount,"},{"type":"INSERT","lineNumber":142,"content":"        currentFilter: event.filter,"},{"type":"INSERT","lineNumber":143,"content":"        propertyTypes: currentState.propertyTypes,"},{"type":"INSERT","lineNumber":144,"content":"        propertyFeatures: currentState.propertyFeatures,"},{"type":"INSERT","lineNumber":145,"content":"        governates: currentState.governates,"},{"type":"INSERT","lineNumber":146,"content":"        recentSearches: currentState.recentSearches,"},{"type":"INSERT","lineNumber":147,"content":"        hasReachedMax: currentState.hasReachedMax,"},{"type":"INSERT","lineNumber":148,"content":"      ));"},{"type":"DELETE","lineNumber":158,"oldContent":"      emit(currentState.copyWith(currentFilter: const SearchFilter()));"},{"type":"INSERT","lineNumber":167,"content":"      emit(SearchLoaded("},{"type":"INSERT","lineNumber":168,"content":"        properties: currentState.properties,"},{"type":"INSERT","lineNumber":169,"content":"        totalCount: currentState.totalCount,"},{"type":"INSERT","lineNumber":170,"content":"        currentFilter: const SearchFilter(),"},{"type":"INSERT","lineNumber":171,"content":"        propertyTypes: currentState.propertyTypes,"},{"type":"INSERT","lineNumber":172,"content":"        propertyFeatures: currentState.propertyFeatures,"},{"type":"INSERT","lineNumber":173,"content":"        governates: currentState.governates,"},{"type":"INSERT","lineNumber":174,"content":"        recentSearches: currentState.recentSearches,"},{"type":"INSERT","lineNumber":175,"content":"        hasReachedMax: currentState.hasReachedMax,"},{"type":"INSERT","lineNumber":176,"content":"      ));"},{"type":"DELETE","lineNumber":181,"oldContent":"        emit(currentState.copyWith("},{"type":"INSERT","lineNumber":199,"content":"        emit(SearchLoaded("},{"type":"INSERT","lineNumber":202,"content":"          currentFilter: currentState.currentFilter,"},{"type":"INSERT","lineNumber":203,"content":"          propertyTypes: currentState.propertyTypes,"},{"type":"INSERT","lineNumber":204,"content":"          propertyFeatures: currentState.propertyFeatures,"},{"type":"INSERT","lineNumber":205,"content":"          governates: currentState.governates,"},{"type":"INSERT","lineNumber":206,"content":"          recentSearches: currentState.recentSearches,"},{"type":"DELETE","lineNumber":194,"oldContent":"    SaveRecentSearchEvent event,"},{"type":"INSERT","lineNumber":217,"content":"    SaveRecentSearchEventevent,"},{"type":"DELETE","lineNumber":200,"oldContent":"      location: event.location,"},{"type":"DELETE","lineNumber":201,"oldContent":"      checkIn: event.checkIn,"},{"type":"DELETE","lineNumber":202,"oldContent":"      checkOut: event.checkOut,"},{"type":"DELETE","lineNumber":203,"oldContent":"      guests: event.guests,"},{"type":"INSERT","lineNumber":223,"content":"      location: event.searchData['location'] as String?,"},{"type":"INSERT","lineNumber":224,"content":"      checkIn: event.searchData['checkIn'] != null "},{"type":"INSERT","lineNumber":225,"content":"          ? DateTime.tryParse(event.searchData['checkIn'] as String)"},{"type":"INSERT","lineNumber":226,"content":"          : null,"},{"type":"INSERT","lineNumber":227,"content":"      checkOut: event.searchData['checkOut'] != null "},{"type":"INSERT","lineNumber":228,"content":"          ? DateTime.tryParse(event.searchData['checkOut'] as String)"},{"type":"INSERT","lineNumber":229,"content":"          : null,"},{"type":"INSERT","lineNumber":230,"content":"      guests: event.searchData['guests'] as int?,"},{"type":"DELETE","lineNumber":211,"oldContent":"          search.location != event.location ||"},{"type":"DELETE","lineNumber":212,"oldContent":"          search.checkIn != event.checkIn ||"},{"type":"DELETE","lineNumber":213,"oldContent":"          search.checkOut != event.checkOut ||"},{"type":"DELETE","lineNumber":214,"oldContent":"          search.guests != event.guests)"},{"type":"INSERT","lineNumber":238,"content":"          search.location != newSearch.location ||"},{"type":"INSERT","lineNumber":239,"content":"          search.checkIn != newSearch.checkIn ||"},{"type":"INSERT","lineNumber":240,"content":"          search.checkOut != newSearch.checkOut ||"},{"type":"INSERT","lineNumber":241,"content":"          search.guests != newSearch.guests)"},{"type":"DELETE","lineNumber":231,"oldContent":"      emit(currentState.copyWith(recentSearches: updatedSearches));"},{"type":"INSERT","lineNumber":258,"content":"      emit(SearchLoaded("},{"type":"INSERT","lineNumber":259,"content":"        properties: currentState.properties,"},{"type":"INSERT","lineNumber":260,"content":"        totalCount: currentState.totalCount,"},{"type":"INSERT","lineNumber":261,"content":"        currentFilter: currentState.currentFilter,"},{"type":"INSERT","lineNumber":262,"content":"        propertyTypes: currentState.propertyTypes,"},{"type":"INSERT","lineNumber":263,"content":"        propertyFeatures: currentState.propertyFeatures,"},{"type":"INSERT","lineNumber":264,"content":"        governates: currentState.governates,"},{"type":"INSERT","lineNumber":265,"content":"        recentSearches: updatedSearches,"},{"type":"INSERT","lineNumber":266,"content":"        hasReachedMax: currentState.hasReachedMax,"},{"type":"INSERT","lineNumber":267,"content":"      ));"},{"type":"DELETE","lineNumber":242,"oldContent":"        location: json['location'],"},{"type":"DELETE","lineNumber":243,"oldContent":"        checkIn: DateTime.parse(json['checkIn']),"},{"type":"DELETE","lineNumber":244,"oldContent":"        checkOut: DateTime.parse(json['checkOut']),"},{"type":"DELETE","lineNumber":245,"oldContent":"        guests: json['guests'],"},{"type":"DELETE","lineNumber":246,"oldContent":"        timestamp: DateTime.parse(json['timestamp']),"},{"type":"INSERT","lineNumber":278,"content":"        location: json['location'] as String?,"},{"type":"INSERT","lineNumber":279,"content":"        checkIn: json['checkIn'] != null "},{"type":"INSERT","lineNumber":280,"content":"            ? DateTime.tryParse(json['checkIn'] as String)"},{"type":"INSERT","lineNumber":281,"content":"            : null,"},{"type":"INSERT","lineNumber":282,"content":"        checkOut: json['checkOut'] != null "},{"type":"INSERT","lineNumber":283,"content":"            ? DateTime.tryParse(json['checkOut'] as String)"},{"type":"INSERT","lineNumber":284,"content":"            : null,"},{"type":"INSERT","lineNumber":285,"content":"        guests: json['guests'] as int?,"},{"type":"INSERT","lineNumber":286,"content":"        timestamp: DateTime.parse(json['timestamp'] as String),"},{"type":"DELETE","lineNumber":256,"oldContent":"      'checkIn': search.checkIn.toIso8601String(),"},{"type":"DELETE","lineNumber":257,"oldContent":"      'checkOut': search.checkOut.toIso8601String(),"},{"type":"INSERT","lineNumber":296,"content":"      'checkIn': search.checkIn?.toIso8601String(),"},{"type":"INSERT","lineNumber":297,"content":"      'checkOut': search.checkOut?.toIso8601String(),"}]},{"timestamp":1758297427248,"changes":[{"type":"DELETE","lineNumber":141,"oldContent":"    }"},{"type":"DELETE","lineNumber":143,"oldContent":"  }"},{"type":"DELETE","lineNumber":145,"oldContent":""},{"type":"DELETE","lineNumber":147,"oldContent":"  Future<void> _onResetFilter("},{"type":"DELETE","lineNumber":149,"oldContent":"    ResetFilterEvent event,"},{"type":"DELETE","lineNumber":151,"oldContent":"    Emitter<SearchState> emit,"},{"type":"DELETE","lineNumber":153,"oldContent":"  ) async {"},{"type":"DELETE","lineNumber":155,"oldContent":"    if (state is LookupsLoaded) {"},{"type":"INSERT","lineNumber":149,"content":"    }"},{"type":"INSERT","lineNumber":150,"content":"  }"},{"type":"INSERT","lineNumber":151,"content":""},{"type":"INSERT","lineNumber":152,"content":"  Future<void> _onResetFilter("},{"type":"INSERT","lineNumber":153,"content":"    ResetFilterEvent event,"},{"type":"INSERT","lineNumber":154,"content":"    Emitter<SearchState> emit,"},{"type":"INSERT","lineNumber":155,"content":"  ) async {"},{"type":"INSERT","lineNumber":156,"content":"    if (state is LookupsLoaded) {"},{"type":"INSERT","lineNumber":167,"content":"      emit(SearchLoaded("},{"type":"INSERT","lineNumber":168,"content":"        properties: currentState.properties,"},{"type":"INSERT","lineNumber":169,"content":"        totalCount: currentState.totalCount,"},{"type":"INSERT","lineNumber":170,"content":"        currentFilter: const SearchFilter(),"},{"type":"INSERT","lineNumber":171,"content":"        propertyTypes: currentState.propertyTypes,"},{"type":"INSERT","lineNumber":172,"content":"        propertyFeatures: currentState.propertyFeatures,"},{"type":"INSERT","lineNumber":173,"content":"        governates: currentState.governates,"},{"type":"INSERT","lineNumber":174,"content":"        recentSearches: currentState.recentSearches,"},{"type":"INSERT","lineNumber":175,"content":"        hasReachedMax: currentState.hasReachedMax,"},{"type":"INSERT","lineNumber":176,"content":"      ));"},{"type":"DELETE","lineNumber":175,"oldContent":"      emit(SearchLoaded("},{"type":"DELETE","lineNumber":177,"oldContent":"        properties: currentState.properties,"},{"type":"DELETE","lineNumber":179,"oldContent":"        totalCount: currentState.totalCount,"},{"type":"DELETE","lineNumber":181,"oldContent":"        currentFilter: const SearchFilter(),"},{"type":"DELETE","lineNumber":183,"oldContent":"        propertyTypes: currentState.propertyTypes,"},{"type":"DELETE","lineNumber":185,"oldContent":"        propertyFeatures: currentState.propertyFeatures,"},{"type":"DELETE","lineNumber":187,"oldContent":"        governates: currentState.governates,"},{"type":"DELETE","lineNumber":189,"oldContent":"        recentSearches: currentState.recentSearches,"},{"type":"DELETE","lineNumber":191,"oldContent":"        hasReachedMax: currentState.hasReachedMax,"},{"type":"DELETE","lineNumber":193,"oldContent":"      ));"},{"type":"INSERT","lineNumber":199,"content":"        emit(SearchLoaded("},{"type":"INSERT","lineNumber":202,"content":"          currentFilter: currentState.currentFilter,"},{"type":"INSERT","lineNumber":203,"content":"          propertyTypes: currentState.propertyTypes,"},{"type":"INSERT","lineNumber":204,"content":"          propertyFeatures: currentState.propertyFeatures,"},{"type":"INSERT","lineNumber":205,"content":"          governates: currentState.governates,"},{"type":"INSERT","lineNumber":206,"content":"          recentSearches: currentState.recentSearches,"},{"type":"INSERT","lineNumber":217,"content":"    SaveRecentSearchEvent event,"},{"type":"DELETE","lineNumber":215,"oldContent":"        emit(SearchLoaded("},{"type":"DELETE","lineNumber":217,"oldContent":"          currentFilter: currentState.currentFilter,"},{"type":"DELETE","lineNumber":218,"oldContent":"          propertyTypes: currentState.propertyTypes,"},{"type":"DELETE","lineNumber":219,"oldContent":"          propertyFeatures: currentState.propertyFeatures,"},{"type":"INSERT","lineNumber":223,"content":"      location: event.searchData['location'] as String?,"},{"type":"INSERT","lineNumber":224,"content":"      checkIn: event.searchData['checkIn'] != null "},{"type":"INSERT","lineNumber":225,"content":"          ? DateTime.tryParse(event.searchData['checkIn'] as String)"},{"type":"INSERT","lineNumber":226,"content":"          : null,"},{"type":"INSERT","lineNumber":227,"content":"      checkOut: event.searchData['checkOut'] != null "},{"type":"INSERT","lineNumber":228,"content":"          ? DateTime.tryParse(event.searchData['checkOut'] as String)"},{"type":"INSERT","lineNumber":229,"content":"          : null,"},{"type":"INSERT","lineNumber":230,"content":"      guests: event.searchData['guests'] as int?,"},{"type":"DELETE","lineNumber":221,"oldContent":"          governates: currentState.governates,"},{"type":"DELETE","lineNumber":223,"oldContent":"          recentSearches: currentState.recentSearches,"},{"type":"INSERT","lineNumber":238,"content":"          search.location != newSearch.location ||"},{"type":"INSERT","lineNumber":239,"content":"          search.checkIn != newSearch.checkIn ||"},{"type":"INSERT","lineNumber":240,"content":"          search.checkOut != newSearch.checkOut ||"},{"type":"INSERT","lineNumber":241,"content":"          search.guests != newSearch.guests)"},{"type":"DELETE","lineNumber":231,"oldContent":"    SaveRecentSearchEventevent,"},{"type":"DELETE","lineNumber":238,"oldContent":"      location: event.searchData['location'] as String?,"},{"type":"DELETE","lineNumber":240,"oldContent":"      checkIn: event.searchData['checkIn'] != null "},{"type":"DELETE","lineNumber":242,"oldContent":"          ? DateTime.tryParse(event.searchData['checkIn'] as String)"},{"type":"DELETE","lineNumber":244,"oldContent":"          : null,"},{"type":"DELETE","lineNumber":246,"oldContent":"      checkOut: event.searchData['checkOut'] != null "},{"type":"DELETE","lineNumber":248,"oldContent":"          ? DateTime.tryParse(event.searchData['checkOut'] as String)"},{"type":"DELETE","lineNumber":250,"oldContent":"          : null,"},{"type":"DELETE","lineNumber":252,"oldContent":"      guests: event.searchData['guests'] as int?,"},{"type":"INSERT","lineNumber":258,"content":"      emit(SearchLoaded("},{"type":"INSERT","lineNumber":259,"content":"        properties: currentState.properties,"},{"type":"INSERT","lineNumber":260,"content":"        totalCount: currentState.totalCount,"},{"type":"INSERT","lineNumber":261,"content":"        currentFilter: currentState.currentFilter,"},{"type":"INSERT","lineNumber":262,"content":"        propertyTypes: currentState.propertyTypes,"},{"type":"INSERT","lineNumber":263,"content":"        propertyFeatures: currentState.propertyFeatures,"},{"type":"INSERT","lineNumber":264,"content":"        governates: currentState.governates,"},{"type":"INSERT","lineNumber":265,"content":"        recentSearches: updatedSearches,"},{"type":"INSERT","lineNumber":266,"content":"        hasReachedMax: currentState.hasReachedMax,"},{"type":"INSERT","lineNumber":267,"content":"      ));"},{"type":"DELETE","lineNumber":260,"oldContent":"          search.location != newSearch.location ||"},{"type":"DELETE","lineNumber":262,"oldContent":"          search.checkIn != newSearch.checkIn ||"},{"type":"DELETE","lineNumber":264,"oldContent":"          search.checkOut != newSearch.checkOut ||"},{"type":"DELETE","lineNumber":266,"oldContent":"          search.guests != newSearch.guests)"},{"type":"INSERT","lineNumber":278,"content":"        location: json['location'] as String?,"},{"type":"INSERT","lineNumber":279,"content":"        checkIn: json['checkIn'] != null "},{"type":"INSERT","lineNumber":280,"content":"            ? DateTime.tryParse(json['checkIn'] as String)"},{"type":"INSERT","lineNumber":281,"content":"            : null,"},{"type":"INSERT","lineNumber":282,"content":"        checkOut: json['checkOut'] != null "},{"type":"INSERT","lineNumber":283,"content":"            ? DateTime.tryParse(json['checkOut'] as String)"},{"type":"INSERT","lineNumber":284,"content":"            : null,"},{"type":"INSERT","lineNumber":285,"content":"        guests: json['guests'] as int?,"},{"type":"INSERT","lineNumber":286,"content":"        timestamp: DateTime.parse(json['timestamp'] as String),"},{"type":"DELETE","lineNumber":277,"oldContent":"      emit(SearchLoaded("},{"type":"INSERT","lineNumber":296,"content":"      'checkIn': search.checkIn?.toIso8601String(),"},{"type":"INSERT","lineNumber":297,"content":"      'checkOut': search.checkOut?.toIso8601String(),"},{"type":"DELETE","lineNumber":279,"oldContent":"        properties: currentState.properties,"},{"type":"DELETE","lineNumber":281,"oldContent":"        totalCount: currentState.totalCount,"},{"type":"DELETE","lineNumber":283,"oldContent":"        currentFilter: currentState.currentFilter,"},{"type":"DELETE","lineNumber":285,"oldContent":"        propertyTypes: currentState.propertyTypes,"},{"type":"DELETE","lineNumber":287,"oldContent":"        propertyFeatures: currentState.propertyFeatures,"},{"type":"DELETE","lineNumber":289,"oldContent":"        governates: currentState.governates,"},{"type":"DELETE","lineNumber":291,"oldContent":"        recentSearches: updatedSearches,"},{"type":"DELETE","lineNumber":293,"oldContent":"        hasReachedMax: currentState.hasReachedMax,"},{"type":"DELETE","lineNumber":294,"oldContent":"      'checkOut': search.checkOut?.toIso8601String(),"},{"type":"DELETE","lineNumber":295,"oldContent":"      ));"},{"type":"DELETE","lineNumber":296,"oldContent":"      'checkIn': search.checkIn?.toIso8601String(),"},{"type":"DELETE","lineNumber":297,"oldContent":"        timestamp: DateTime.parse(json['timestamp'] as String),"},{"type":"DELETE","lineNumber":298,"oldContent":"        guests: json['guests'] as int?,"},{"type":"DELETE","lineNumber":299,"oldContent":"            : null,"},{"type":"DELETE","lineNumber":300,"oldContent":"            ? DateTime.tryParse(json['checkOut'] as String)"},{"type":"DELETE","lineNumber":301,"oldContent":"        checkOut: json['checkOut'] != null "},{"type":"DELETE","lineNumber":302,"oldContent":"            : null,"},{"type":"DELETE","lineNumber":303,"oldContent":"            ? DateTime.tryParse(json['checkIn'] as String)"},{"type":"DELETE","lineNumber":304,"oldContent":"        checkIn: json['checkIn'] != null "},{"type":"DELETE","lineNumber":305,"oldContent":"        location: json['location'] as String?,"}]},{"timestamp":1758297450003,"changes":[{"type":"INSERT","lineNumber":145,"content":"        governates: currentState.governates,"},{"type":"INSERT","lineNumber":146,"content":"        recentSearches: currentState.recentSearches,"},{"type":"INSERT","lineNumber":147,"content":"        hasReachedMax: currentState.hasReachedMax,"},{"type":"INSERT","lineNumber":148,"content":"      ));"},{"type":"DELETE","lineNumber":147,"oldContent":"        governates: currentState.governates,"},{"type":"DELETE","lineNumber":150,"oldContent":"        recentSearches: currentState.recentSearches,"},{"type":"DELETE","lineNumber":153,"oldContent":"        hasReachedMax: currentState.hasReachedMax,"},{"type":"DELETE","lineNumber":156,"oldContent":"      ));"},{"type":"DELETE","lineNumber":168,"oldContent":"    }"},{"type":"DELETE","lineNumber":170,"oldContent":"  }"},{"type":"DELETE","lineNumber":172,"oldContent":""},{"type":"DELETE","lineNumber":174,"oldContent":"  Future<void> _onLoadMoreProperties("},{"type":"DELETE","lineNumber":176,"oldContent":"    LoadMorePropertiesEvent event,"},{"type":"DELETE","lineNumber":178,"oldContent":"    Emitter<SearchState> emit,"},{"type":"DELETE","lineNumber":180,"oldContent":"  ) async {"},{"type":"DELETE","lineNumber":182,"oldContent":"    if (state is! SearchLoaded) return;"},{"type":"INSERT","lineNumber":177,"content":"    }"},{"type":"INSERT","lineNumber":178,"content":"  }"},{"type":"INSERT","lineNumber":180,"content":"  Future<void> _onLoadMoreProperties("},{"type":"INSERT","lineNumber":181,"content":"    LoadMorePropertiesEvent event,"},{"type":"INSERT","lineNumber":182,"content":"    Emitter<SearchState> emit,"},{"type":"INSERT","lineNumber":183,"content":"  ) async {"},{"type":"INSERT","lineNumber":184,"content":"    if (state is! SearchLoaded) return;"},{"type":"INSERT","lineNumber":185,"content":""},{"type":"DELETE","lineNumber":202,"oldContent":"          hasReachedMax: searchResult.properties.length < newFilter.maxResultCount,"},{"type":"DELETE","lineNumber":204,"oldContent":"        ));"},{"type":"DELETE","lineNumber":206,"oldContent":"      },"},{"type":"DELETE","lineNumber":208,"oldContent":"      failure: (message) {"},{"type":"DELETE","lineNumber":210,"oldContent":"        // Handle error for load more if needed"},{"type":"INSERT","lineNumber":207,"content":"          hasReachedMax: searchResult.properties.length < newFilter.maxResultCount,"},{"type":"INSERT","lineNumber":208,"content":"        ));"},{"type":"INSERT","lineNumber":210,"content":"      failure: (message) {"},{"type":"INSERT","lineNumber":211,"content":"        // Handle error for load more if needed"},{"type":"INSERT","lineNumber":212,"content":"      },"},{"type":"INSERT","lineNumber":217,"content":"    SaveRecentSearchEvent event,"},{"type":"DELETE","lineNumber":222,"oldContent":"    SaveRecentSearchEvent event,"},{"type":"INSERT","lineNumber":223,"content":"      location: event.location,"},{"type":"INSERT","lineNumber":224,"content":"      checkIn: event.checkIn,"},{"type":"INSERT","lineNumber":225,"content":"      checkOut: event.checkOut,"},{"type":"INSERT","lineNumber":226,"content":"      guests: event.guests,"},{"type":"DELETE","lineNumber":225,"oldContent":"      location: event.searchData['location'] as String?,"},{"type":"DELETE","lineNumber":226,"oldContent":"      checkIn: event.searchData['checkIn'] != null "},{"type":"DELETE","lineNumber":228,"oldContent":"          ? DateTime.tryParse(event.searchData['checkIn'] as String)"},{"type":"DELETE","lineNumber":230,"oldContent":"          : null,"},{"type":"DELETE","lineNumber":232,"oldContent":"      checkOut: event.searchData['checkOut'] != null "},{"type":"DELETE","lineNumber":234,"oldContent":"          ? DateTime.tryParse(event.searchData['checkOut'] as String)"},{"type":"DELETE","lineNumber":236,"oldContent":"          : null,"},{"type":"INSERT","lineNumber":234,"content":"          search.location != newSearch.location ||"},{"type":"INSERT","lineNumber":235,"content":"          search.checkIn != newSearch.checkIn ||"},{"type":"INSERT","lineNumber":236,"content":"          search.checkOut != newSearch.checkOut ||"},{"type":"INSERT","lineNumber":237,"content":"          search.guests != newSearch.guests)"},{"type":"DELETE","lineNumber":238,"oldContent":"      guests: event.searchData['guests'] as int?,"},{"type":"DELETE","lineNumber":246,"oldContent":"          search.location != newSearch.location ||"},{"type":"DELETE","lineNumber":247,"oldContent":"          search.checkIn != newSearch.checkIn ||"},{"type":"DELETE","lineNumber":249,"oldContent":"          search.checkOut != newSearch.checkOut ||"},{"type":"DELETE","lineNumber":250,"oldContent":"          search.guests != newSearch.guests)"},{"type":"DELETE","lineNumber":258,"oldContent":"    }"},{"type":"DELETE","lineNumber":259,"oldContent":"  }"},{"type":"DELETE","lineNumber":260,"oldContent":""},{"type":"DELETE","lineNumber":261,"oldContent":"  Future<List<RecentSearch>> _loadRecentSearches() async {"},{"type":"DELETE","lineNumber":263,"oldContent":"    final jsonString = _sharedPreferences.getString(_recentSearchesKey);"},{"type":"DELETE","lineNumber":265,"oldContent":"    if (jsonString == null) return [];"},{"type":"DELETE","lineNumber":268,"oldContent":""},{"type":"DELETE","lineNumber":271,"oldContent":"    try {"},{"type":"DELETE","lineNumber":274,"oldContent":"      final List<dynamic> jsonList = json.decode(jsonString);"},{"type":"INSERT","lineNumber":264,"content":"    }"},{"type":"INSERT","lineNumber":265,"content":"  }"},{"type":"INSERT","lineNumber":266,"content":""},{"type":"INSERT","lineNumber":267,"content":"  Future<List<RecentSearch>> _loadRecentSearches() async {"},{"type":"INSERT","lineNumber":268,"content":"    final jsonString = _sharedPreferences.getString(_recentSearchesKey);"},{"type":"INSERT","lineNumber":269,"content":"    if (jsonString == null) return [];"},{"type":"INSERT","lineNumber":270,"content":""},{"type":"INSERT","lineNumber":271,"content":"    try {"},{"type":"INSERT","lineNumber":272,"content":"      final List<dynamic> jsonList = json.decode(jsonString);"},{"type":"INSERT","lineNumber":274,"content":"        location: json['location'] as String?,"},{"type":"INSERT","lineNumber":275,"content":"        checkIn: json['checkIn'] != null "},{"type":"INSERT","lineNumber":276,"content":"            ? DateTime.tryParse(json['checkIn'] as String)"},{"type":"INSERT","lineNumber":277,"content":"            : null,"},{"type":"INSERT","lineNumber":278,"content":"        checkOut: json['checkOut'] != null "},{"type":"INSERT","lineNumber":279,"content":"            ? DateTime.tryParse(json['checkOut'] as String)"},{"type":"INSERT","lineNumber":280,"content":"            : null,"},{"type":"INSERT","lineNumber":281,"content":"        guests: json['guests'] as int?,"},{"type":"INSERT","lineNumber":282,"content":"        timestamp: DateTime.parse(json['timestamp'] as String),"},{"type":"DELETE","lineNumber":287,"oldContent":"        location: json['location'] as String?,"},{"type":"INSERT","lineNumber":292,"content":"      'checkIn': search.checkIn?.toIso8601String(),"},{"type":"INSERT","lineNumber":293,"content":"      'checkOut': search.checkOut?.toIso8601String(),"},{"type":"DELETE","lineNumber":289,"oldContent":"        checkIn: json['checkIn'] != null "},{"type":"DELETE","lineNumber":290,"oldContent":"            ? DateTime.tryParse(json['checkIn'] as String)"},{"type":"DELETE","lineNumber":292,"oldContent":"            : null,"},{"type":"DELETE","lineNumber":293,"oldContent":"        checkOut: json['checkOut'] != null "},{"type":"DELETE","lineNumber":295,"oldContent":"            ? DateTime.tryParse(json['checkOut'] as String)"},{"type":"DELETE","lineNumber":296,"oldContent":"            : null,"},{"type":"DELETE","lineNumber":298,"oldContent":"        guests: json['guests'] as int?,"},{"type":"DELETE","lineNumber":299,"oldContent":"        timestamp: DateTime.parse(json['timestamp'] as String),"},{"type":"DELETE","lineNumber":304,"oldContent":"      'checkIn': search.checkIn?.toIso8601String(),"},{"type":"DELETE","lineNumber":305,"oldContent":"      'checkOut': search.checkOut?.toIso8601String(),"}]},{"timestamp":1758529662586,"changes":[{"type":"INSERT","lineNumber":4,"content":"import '../../domain/entities/search_entities.dart';"},{"type":"DELETE","lineNumber":16,"oldContent":"  })  : _searchRepository = searchRepository,"},{"type":"DELETE","lineNumber":17,"oldContent":"        _sharedPreferences = sharedPreferences,"},{"type":"DELETE","lineNumber":18,"oldContent":"        super(const SearchInitial()) {"},{"type":"INSERT","lineNumber":17,"content":"  }) : _searchRepository = searchRepository,"},{"type":"INSERT","lineNumber":18,"content":"       _sharedPreferences = sharedPreferences,"},{"type":"INSERT","lineNumber":19,"content":"       super(const SearchInitial()) {"},{"type":"DELETE","lineNumber":40,"oldContent":"      final propertyTypesResult = results[0];"},{"type":"DELETE","lineNumber":41,"oldContent":"      final propertyFeaturesResult = results[1];"},{"type":"MODIFY","lineNumber":41,"content":"      final propertyTypesResult =","oldContent":"      final governatesResult = results[2];"},{"type":"INSERT","lineNumber":42,"content":"          results[0] as ApiResult<List<LookupItemEntity>>;"},{"type":"INSERT","lineNumber":43,"content":"      final propertyFeaturesResult ="},{"type":"INSERT","lineNumber":44,"content":"          results[1] as ApiResult<List<LookupItemEntity>>;"},{"type":"INSERT","lineNumber":45,"content":"      final governatesResult = results[2] as ApiResult<List<LookupItemEntity>>;"},{"type":"DELETE","lineNumber":44,"oldContent":"      propertyTypesResult.when("},{"type":"DELETE","lineNumber":45,"oldContent":"        success: (propertyTypes) {"},{"type":"DELETE","lineNumber":46,"oldContent":"          propertyFeaturesResult.when("},{"type":"DELETE","lineNumber":47,"oldContent":"            success: (propertyFeatures) {"},{"type":"DELETE","lineNumber":48,"oldContent":"              governatesResult.when("},{"type":"DELETE","lineNumber":49,"oldContent":"                success: (governates) async {"},{"type":"DELETE","lineNumber":50,"oldContent":"                  final recentSearches = await _loadRecentSearches();"},{"type":"DELETE","lineNumber":51,"oldContent":"                  emit(LookupsLoaded("},{"type":"DELETE","lineNumber":52,"oldContent":"                    propertyTypes: propertyTypes,"},{"type":"DELETE","lineNumber":53,"oldContent":"                    propertyFeatures: propertyFeatures,"},{"type":"DELETE","lineNumber":54,"oldContent":"                    governates: governates,"},{"type":"DELETE","lineNumber":55,"oldContent":"                    currentFilter: const SearchFilter(),"},{"type":"DELETE","lineNumber":56,"oldContent":"                    recentSearches: recentSearches,"},{"type":"DELETE","lineNumber":57,"oldContent":"                  ));"},{"type":"DELETE","lineNumber":58,"oldContent":"                },"},{"type":"DELETE","lineNumber":59,"oldContent":"                failure: (message) => emit(SearchError(message: message)),"},{"type":"DELETE","lineNumber":60,"oldContent":"              );"},{"type":"DELETE","lineNumber":61,"oldContent":"            },"},{"type":"DELETE","lineNumber":62,"oldContent":"            failure: (message) => emit(SearchError(message: message)),"},{"type":"DELETE","lineNumber":63,"oldContent":"          );"},{"type":"DELETE","lineNumber":64,"oldContent":"        },"},{"type":"DELETE","lineNumber":65,"oldContent":"        failure: (message) => emit(SearchError(message: message)),"},{"type":"INSERT","lineNumber":47,"content":"      // Load recent searches"},{"type":"INSERT","lineNumber":48,"content":"      final recentSearches = await _loadRecentSearches();"},{"type":"INSERT","lineNumber":49,"content":""},{"type":"INSERT","lineNumber":50,"content":"      final propertyTypes = propertyTypesResult.maybeWhen("},{"type":"INSERT","lineNumber":51,"content":"        success: (data) => data,"},{"type":"INSERT","lineNumber":52,"content":"        orElse: () => null,"},{"type":"INSERT","lineNumber":54,"content":"      final propertyFeatures = propertyFeaturesResult.maybeWhen("},{"type":"INSERT","lineNumber":55,"content":"        success: (data) => data,"},{"type":"INSERT","lineNumber":56,"content":"        orElse: () => null,"},{"type":"INSERT","lineNumber":57,"content":"      );"},{"type":"INSERT","lineNumber":58,"content":"      final governates = governatesResult.maybeWhen("},{"type":"INSERT","lineNumber":59,"content":"        success: (data) => data,"},{"type":"INSERT","lineNumber":60,"content":"        orElse: () => null,"},{"type":"INSERT","lineNumber":61,"content":"      );"},{"type":"INSERT","lineNumber":62,"content":""},{"type":"INSERT","lineNumber":63,"content":"      if (propertyTypes != null &&"},{"type":"INSERT","lineNumber":64,"content":"          propertyFeatures != null &&"},{"type":"INSERT","lineNumber":65,"content":"          governates != null) {"},{"type":"INSERT","lineNumber":66,"content":"        emit("},{"type":"INSERT","lineNumber":67,"content":"          LookupsLoaded("},{"type":"INSERT","lineNumber":68,"content":"            propertyTypes: propertyTypes,"},{"type":"INSERT","lineNumber":69,"content":"            propertyFeatures: propertyFeatures,"},{"type":"INSERT","lineNumber":70,"content":"            governates: governates,"},{"type":"INSERT","lineNumber":71,"content":"            currentFilter: const SearchFilter(),"},{"type":"INSERT","lineNumber":72,"content":"            recentSearches: recentSearches,"},{"type":"INSERT","lineNumber":73,"content":"          ),"},{"type":"INSERT","lineNumber":74,"content":"        );"},{"type":"INSERT","lineNumber":75,"content":"      } else {"},{"type":"INSERT","lineNumber":76,"content":"        // Find the failure message"},{"type":"INSERT","lineNumber":77,"content":"        final failureMessage = propertyTypesResult.maybeWhen("},{"type":"INSERT","lineNumber":78,"content":"          failure: (message) => message,"},{"type":"INSERT","lineNumber":79,"content":"          orElse: () => propertyFeaturesResult.maybeWhen("},{"type":"INSERT","lineNumber":80,"content":"            failure: (message) => message,"},{"type":"INSERT","lineNumber":81,"content":"            orElse: () => governatesResult.maybeWhen("},{"type":"INSERT","lineNumber":82,"content":"              failure: (message) => message,"},{"type":"INSERT","lineNumber":83,"content":"              orElse: () => 'Unknown error',"},{"type":"INSERT","lineNumber":84,"content":"            ),"},{"type":"INSERT","lineNumber":85,"content":"          ),"},{"type":"INSERT","lineNumber":86,"content":"        );"},{"type":"INSERT","lineNumber":87,"content":"        emit(SearchError(message: failureMessage));"},{"type":"INSERT","lineNumber":88,"content":"      }"},{"type":"DELETE","lineNumber":88,"oldContent":"        "},{"type":"INSERT","lineNumber":110,"content":""},{"type":"DELETE","lineNumber":95,"oldContent":"        final lookupsState = currentState is LookupsLoaded "},{"type":"DELETE","lineNumber":96,"oldContent":"            ? currentState "},{"type":"DELETE","lineNumber":97,"oldContent":"            : currentState is SearchLoaded "},{"type":"DELETE","lineNumber":98,"oldContent":"                ? LookupsLoaded("},{"type":"DELETE","lineNumber":99,"oldContent":"                    propertyTypes: currentState.propertyTypes,"},{"type":"DELETE","lineNumber":100,"oldContent":"                    propertyFeatures: currentState.propertyFeatures,"},{"type":"DELETE","lineNumber":101,"oldContent":"                    governates: currentState.governates,"},{"type":"DELETE","lineNumber":102,"oldContent":"                    currentFilter: event.filter,"},{"type":"DELETE","lineNumber":103,"oldContent":"                    recentSearches: recentSearches,"},{"type":"DELETE","lineNumber":104,"oldContent":"                  )"},{"type":"DELETE","lineNumber":105,"oldContent":"                : null;"},{"type":"INSERT","lineNumber":117,"content":"        final lookupsState = currentState is LookupsLoaded"},{"type":"INSERT","lineNumber":118,"content":"            ? currentState"},{"type":"INSERT","lineNumber":119,"content":"            : currentState is SearchLoaded"},{"type":"INSERT","lineNumber":120,"content":"            ? LookupsLoaded("},{"type":"INSERT","lineNumber":121,"content":"                propertyTypes: currentState.propertyTypes,"},{"type":"INSERT","lineNumber":122,"content":"                propertyFeatures: currentState.propertyFeatures,"},{"type":"INSERT","lineNumber":123,"content":"                governates: currentState.governates,"},{"type":"INSERT","lineNumber":124,"content":"                currentFilter: event.filter,"},{"type":"INSERT","lineNumber":125,"content":"                recentSearches: recentSearches,"},{"type":"INSERT","lineNumber":126,"content":"              )"},{"type":"INSERT","lineNumber":127,"content":"            : null;"},{"type":"DELETE","lineNumber":108,"oldContent":"          emit(SearchLoaded("},{"type":"DELETE","lineNumber":109,"oldContent":"            properties: searchResult.properties,"},{"type":"DELETE","lineNumber":110,"oldContent":"            totalCount: searchResult.totalCount,"},{"type":"DELETE","lineNumber":111,"oldContent":"            currentFilter: event.filter,"},{"type":"DELETE","lineNumber":112,"oldContent":"            propertyTypes: lookupsState.propertyTypes,"},{"type":"DELETE","lineNumber":113,"oldContent":"            propertyFeatures: lookupsState.propertyFeatures,"},{"type":"DELETE","lineNumber":114,"oldContent":"            governates: lookupsState.governates,"},{"type":"DELETE","lineNumber":115,"oldContent":"            recentSearches: recentSearches,"},{"type":"DELETE","lineNumber":116,"oldContent":"            hasReachedMax: searchResult.properties.length < event.filter.maxResultCount,"},{"type":"DELETE","lineNumber":117,"oldContent":"          ));"},{"type":"INSERT","lineNumber":130,"content":"          emit("},{"type":"INSERT","lineNumber":131,"content":"            SearchLoaded("},{"type":"INSERT","lineNumber":132,"content":"              properties: searchResult.properties,"},{"type":"INSERT","lineNumber":133,"content":"              totalCount: searchResult.totalCount,"},{"type":"INSERT","lineNumber":134,"content":"              currentFilter: event.filter,"},{"type":"INSERT","lineNumber":135,"content":"              propertyTypes: lookupsState.propertyTypes,"},{"type":"INSERT","lineNumber":136,"content":"              propertyFeatures: lookupsState.propertyFeatures,"},{"type":"INSERT","lineNumber":137,"content":"              governates: lookupsState.governates,"},{"type":"INSERT","lineNumber":138,"content":"              recentSearches: recentSearches,"},{"type":"INSERT","lineNumber":139,"content":"              hasReachedMax:"},{"type":"INSERT","lineNumber":140,"content":"                  searchResult.properties.length < event.filter.maxResultCount,"},{"type":"INSERT","lineNumber":141,"content":"            ),"},{"type":"INSERT","lineNumber":142,"content":"          );"},{"type":"DELETE","lineNumber":130,"oldContent":"      emit(LookupsLoaded("},{"type":"DELETE","lineNumber":131,"oldContent":"        propertyTypes: currentState.propertyTypes,"},{"type":"DELETE","lineNumber":132,"oldContent":"        propertyFeatures: currentState.propertyFeatures,"},{"type":"DELETE","lineNumber":133,"oldContent":"        governates: currentState.governates,"},{"type":"DELETE","lineNumber":134,"oldContent":"        currentFilter: event.filter,"},{"type":"DELETE","lineNumber":135,"oldContent":"        recentSearches: currentState.recentSearches,"},{"type":"DELETE","lineNumber":136,"oldContent":"      ));"},{"type":"INSERT","lineNumber":155,"content":"      emit("},{"type":"INSERT","lineNumber":156,"content":"        LookupsLoaded("},{"type":"INSERT","lineNumber":157,"content":"          propertyTypes: currentState.propertyTypes,"},{"type":"INSERT","lineNumber":158,"content":"          propertyFeatures: currentState.propertyFeatures,"},{"type":"INSERT","lineNumber":159,"content":"          governates: currentState.governates,"},{"type":"INSERT","lineNumber":160,"content":"          currentFilter: event.filter,"},{"type":"INSERT","lineNumber":161,"content":"          recentSearches: currentState.recentSearches,"},{"type":"INSERT","lineNumber":162,"content":"        ),"},{"type":"INSERT","lineNumber":163,"content":"      );"},{"type":"DELETE","lineNumber":139,"oldContent":"      emit(SearchLoaded("},{"type":"DELETE","lineNumber":140,"oldContent":"        properties: currentState.properties,"},{"type":"DELETE","lineNumber":141,"oldContent":"        totalCount: currentState.totalCount,"},{"type":"DELETE","lineNumber":142,"oldContent":"        currentFilter: event.filter,"},{"type":"DELETE","lineNumber":143,"oldContent":"        propertyTypes: currentState.propertyTypes,"},{"type":"DELETE","lineNumber":144,"oldContent":"        propertyFeatures: currentState.propertyFeatures,"},{"type":"DELETE","lineNumber":145,"oldContent":"        governates: currentState.governates,"},{"type":"INSERT","lineNumber":166,"content":"      emit("},{"type":"INSERT","lineNumber":167,"content":"        SearchLoaded("},{"type":"INSERT","lineNumber":168,"content":"          properties: currentState.properties,"},{"type":"INSERT","lineNumber":169,"content":"          totalCount: currentState.totalCount,"},{"type":"INSERT","lineNumber":170,"content":"          currentFilter: event.filter,"},{"type":"INSERT","lineNumber":171,"content":"          propertyTypes: currentState.propertyTypes,"},{"type":"INSERT","lineNumber":172,"content":"          propertyFeatures: currentState.propertyFeatures,"},{"type":"INSERT","lineNumber":173,"content":"          governates: currentState.governates,"},{"type":"INSERT","lineNumber":174,"content":"          recentSearches: currentState.recentSearches,"},{"type":"INSERT","lineNumber":175,"content":"          hasReachedMax: currentState.hasReachedMax,"},{"type":"INSERT","lineNumber":176,"content":"        ),"},{"type":"INSERT","lineNumber":177,"content":"      );"},{"type":"DELETE","lineNumber":147,"oldContent":"        recentSearches: currentState.recentSearches,"},{"type":"DELETE","lineNumber":149,"oldContent":"        hasReachedMax: currentState.hasReachedMax,"},{"type":"DELETE","lineNumber":150,"oldContent":"      ));"},{"type":"DELETE","lineNumber":158,"oldContent":"      emit(LookupsLoaded("},{"type":"DELETE","lineNumber":159,"oldContent":"        propertyTypes: currentState.propertyTypes,"},{"type":"DELETE","lineNumber":160,"oldContent":"        propertyFeatures: currentState.propertyFeatures,"},{"type":"DELETE","lineNumber":161,"oldContent":"        governates: currentState.governates,"},{"type":"DELETE","lineNumber":162,"oldContent":"        currentFilter: const SearchFilter(),"},{"type":"DELETE","lineNumber":163,"oldContent":"        recentSearches: currentState.recentSearches,"},{"type":"DELETE","lineNumber":164,"oldContent":"      ));"},{"type":"INSERT","lineNumber":187,"content":"      emit("},{"type":"INSERT","lineNumber":188,"content":"        LookupsLoaded("},{"type":"INSERT","lineNumber":189,"content":"          propertyTypes: currentState.propertyTypes,"},{"type":"INSERT","lineNumber":190,"content":"          propertyFeatures: currentState.propertyFeatures,"},{"type":"INSERT","lineNumber":191,"content":"          governates: currentState.governates,"},{"type":"INSERT","lineNumber":192,"content":"          currentFilter: const SearchFilter(),"},{"type":"INSERT","lineNumber":193,"content":"          recentSearches: currentState.recentSearches,"},{"type":"INSERT","lineNumber":194,"content":"        ),"},{"type":"INSERT","lineNumber":195,"content":"      );"},{"type":"DELETE","lineNumber":167,"oldContent":"      emit(SearchLoaded("},{"type":"DELETE","lineNumber":168,"oldContent":"        properties: currentState.properties,"},{"type":"DELETE","lineNumber":169,"oldContent":"        totalCount: currentState.totalCount,"},{"type":"DELETE","lineNumber":170,"oldContent":"        currentFilter: const SearchFilter(),"},{"type":"DELETE","lineNumber":171,"oldContent":"        propertyTypes: currentState.propertyTypes,"},{"type":"INSERT","lineNumber":198,"content":"      emit("},{"type":"INSERT","lineNumber":199,"content":"        SearchLoaded("},{"type":"INSERT","lineNumber":200,"content":"          properties: currentState.properties,"},{"type":"INSERT","lineNumber":201,"content":"          totalCount: currentState.totalCount,"},{"type":"INSERT","lineNumber":202,"content":"          currentFilter: const SearchFilter(),"},{"type":"INSERT","lineNumber":203,"content":"          propertyTypes: currentState.propertyTypes,"},{"type":"INSERT","lineNumber":204,"content":"          propertyFeatures: currentState.propertyFeatures,"},{"type":"INSERT","lineNumber":205,"content":"          governates: currentState.governates,"},{"type":"INSERT","lineNumber":206,"content":"          recentSearches: currentState.recentSearches,"},{"type":"INSERT","lineNumber":207,"content":"          hasReachedMax: currentState.hasReachedMax,"},{"type":"INSERT","lineNumber":208,"content":"        ),"},{"type":"INSERT","lineNumber":209,"content":"      );"},{"type":"DELETE","lineNumber":173,"oldContent":"        propertyFeatures: currentState.propertyFeatures,"},{"type":"DELETE","lineNumber":175,"oldContent":"        governates: currentState.governates,"},{"type":"INSERT","lineNumber":212,"content":""},{"type":"DELETE","lineNumber":178,"oldContent":"        recentSearches: currentState.recentSearches,"},{"type":"DELETE","lineNumber":181,"oldContent":"        hasReachedMax: currentState.hasReachedMax,"},{"type":"DELETE","lineNumber":183,"oldContent":"      ));"},{"type":"DELETE","lineNumber":185,"oldContent":""},{"type":"DELETE","lineNumber":197,"oldContent":"        final newProperties = [...currentState.properties, ...searchResult.properties];"},{"type":"DELETE","lineNumber":198,"oldContent":"        "},{"type":"DELETE","lineNumber":199,"oldContent":"        emit(SearchLoaded("},{"type":"DELETE","lineNumber":200,"oldContent":"          properties: newProperties,"},{"type":"DELETE","lineNumber":201,"oldContent":"          totalCount: searchResult.totalCount,"},{"type":"DELETE","lineNumber":202,"oldContent":"          currentFilter: currentState.currentFilter,"},{"type":"DELETE","lineNumber":203,"oldContent":"          propertyTypes: currentState.propertyTypes,"},{"type":"DELETE","lineNumber":204,"oldContent":"          hasReachedMax: searchResult.properties.length < newFilter.maxResultCount,"},{"type":"DELETE","lineNumber":205,"oldContent":"          propertyFeatures: currentState.propertyFeatures,"},{"type":"DELETE","lineNumber":206,"oldContent":"        ));"},{"type":"DELETE","lineNumber":207,"oldContent":"          governates: currentState.governates,"},{"type":"INSERT","lineNumber":230,"content":"        final newProperties = ["},{"type":"INSERT","lineNumber":231,"content":"          ...currentState.properties,"},{"type":"INSERT","lineNumber":232,"content":"          ...searchResult.properties,"},{"type":"INSERT","lineNumber":233,"content":"        ];"},{"type":"INSERT","lineNumber":234,"content":""},{"type":"INSERT","lineNumber":235,"content":"        emit("},{"type":"INSERT","lineNumber":236,"content":"          SearchLoaded("},{"type":"INSERT","lineNumber":237,"content":"            properties: newProperties,"},{"type":"INSERT","lineNumber":238,"content":"            totalCount: searchResult.totalCount,"},{"type":"INSERT","lineNumber":239,"content":"            currentFilter: currentState.currentFilter,"},{"type":"INSERT","lineNumber":240,"content":"            propertyTypes: currentState.propertyTypes,"},{"type":"INSERT","lineNumber":241,"content":"            propertyFeatures: currentState.propertyFeatures,"},{"type":"INSERT","lineNumber":242,"content":"            governates: currentState.governates,"},{"type":"INSERT","lineNumber":243,"content":"            recentSearches: currentState.recentSearches,"},{"type":"INSERT","lineNumber":244,"content":"            hasReachedMax:"},{"type":"INSERT","lineNumber":245,"content":"                searchResult.properties.length < newFilter.maxResultCount,"},{"type":"INSERT","lineNumber":246,"content":"          ),"},{"type":"INSERT","lineNumber":247,"content":"        );"},{"type":"INSERT","lineNumber":248,"content":"      },"},{"type":"DELETE","lineNumber":210,"oldContent":"          recentSearches: currentState.recentSearches,"},{"type":"DELETE","lineNumber":212,"oldContent":"      },"},{"type":"DELETE","lineNumber":221,"oldContent":"    "},{"type":"INSERT","lineNumber":260,"content":""},{"type":"DELETE","lineNumber":224,"oldContent":"      timestamp: DateTime.now(),"},{"type":"DELETE","lineNumber":226,"oldContent":"    );"},{"type":"INSERT","lineNumber":266,"content":"      timestamp: DateTime.now(),"},{"type":"INSERT","lineNumber":267,"content":"    );"},{"type":"DELETE","lineNumber":233,"oldContent":"          search.location != newSearch.location ||"},{"type":"DELETE","lineNumber":234,"oldContent":"          search.checkIn != newSearch.checkIn ||"},{"type":"DELETE","lineNumber":235,"oldContent":"      ...recentSearches.where((search) => "},{"type":"DELETE","lineNumber":236,"oldContent":"          search.checkOut != newSearch.checkOut ||"},{"type":"DELETE","lineNumber":237,"oldContent":"          search.guests != newSearch.guests)"},{"type":"INSERT","lineNumber":272,"content":"      ...recentSearches.where("},{"type":"INSERT","lineNumber":273,"content":"        (search) =>"},{"type":"INSERT","lineNumber":274,"content":"            search.location != newSearch.location ||"},{"type":"INSERT","lineNumber":275,"content":"            search.checkIn != newSearch.checkIn ||"},{"type":"INSERT","lineNumber":276,"content":"            search.checkOut != newSearch.checkOut ||"},{"type":"INSERT","lineNumber":277,"content":"            search.guests != newSearch.guests,"},{"type":"INSERT","lineNumber":278,"content":"      ),"},{"type":"DELETE","lineNumber":245,"oldContent":"      emit(LookupsLoaded("},{"type":"DELETE","lineNumber":246,"oldContent":"        propertyTypes: currentState.propertyTypes,"},{"type":"DELETE","lineNumber":247,"oldContent":"        propertyFeatures: currentState.propertyFeatures,"},{"type":"DELETE","lineNumber":248,"oldContent":"        governates: currentState.governates,"},{"type":"DELETE","lineNumber":249,"oldContent":"        currentFilter: currentState.currentFilter,"},{"type":"DELETE","lineNumber":250,"oldContent":"        recentSearches: updatedSearches,"},{"type":"DELETE","lineNumber":251,"oldContent":"      ));"},{"type":"INSERT","lineNumber":286,"content":"      emit("},{"type":"INSERT","lineNumber":287,"content":"        LookupsLoaded("},{"type":"INSERT","lineNumber":288,"content":"          propertyTypes: currentState.propertyTypes,"},{"type":"INSERT","lineNumber":289,"content":"          propertyFeatures: currentState.propertyFeatures,"},{"type":"INSERT","lineNumber":290,"content":"          governates: currentState.governates,"},{"type":"INSERT","lineNumber":291,"content":"          currentFilter: currentState.currentFilter,"},{"type":"INSERT","lineNumber":292,"content":"          recentSearches: updatedSearches,"},{"type":"INSERT","lineNumber":293,"content":"        ),"},{"type":"INSERT","lineNumber":294,"content":"      );"},{"type":"DELETE","lineNumber":254,"oldContent":"      emit(SearchLoaded("},{"type":"INSERT","lineNumber":297,"content":"      emit("},{"type":"INSERT","lineNumber":298,"content":"        SearchLoaded("},{"type":"INSERT","lineNumber":299,"content":"          properties: currentState.properties,"},{"type":"INSERT","lineNumber":300,"content":"          totalCount: currentState.totalCount,"},{"type":"INSERT","lineNumber":301,"content":"          currentFilter: currentState.currentFilter,"},{"type":"INSERT","lineNumber":302,"content":"          propertyTypes: currentState.propertyTypes,"},{"type":"INSERT","lineNumber":303,"content":"          propertyFeatures: currentState.propertyFeatures,"},{"type":"INSERT","lineNumber":304,"content":"          governates: currentState.governates,"},{"type":"INSERT","lineNumber":305,"content":"          recentSearches: updatedSearches,"},{"type":"INSERT","lineNumber":306,"content":"          hasReachedMax: currentState.hasReachedMax,"},{"type":"INSERT","lineNumber":307,"content":"        ),"},{"type":"INSERT","lineNumber":308,"content":"      );"},{"type":"DELETE","lineNumber":256,"oldContent":"        properties: currentState.properties,"},{"type":"DELETE","lineNumber":259,"oldContent":"        totalCount: currentState.totalCount,"},{"type":"DELETE","lineNumber":261,"oldContent":"        currentFilter: currentState.currentFilter,"},{"type":"DELETE","lineNumber":264,"oldContent":"        propertyTypes: currentState.propertyTypes,"},{"type":"DELETE","lineNumber":266,"oldContent":"        propertyFeatures: currentState.propertyFeatures,"},{"type":"DELETE","lineNumber":269,"oldContent":"        governates: currentState.governates,"},{"type":"DELETE","lineNumber":270,"oldContent":"        recentSearches: updatedSearches,"},{"type":"DELETE","lineNumber":271,"oldContent":"        location: json['location'] as String?,"},{"type":"DELETE","lineNumber":272,"oldContent":"        checkIn: json['checkIn'] != null "},{"type":"DELETE","lineNumber":273,"oldContent":"        hasReachedMax: currentState.hasReachedMax,"},{"type":"DELETE","lineNumber":274,"oldContent":"            ? DateTime.tryParse(json['checkIn'] as String)"},{"type":"DELETE","lineNumber":275,"oldContent":"      ));"},{"type":"DELETE","lineNumber":276,"oldContent":"            : null,"},{"type":"DELETE","lineNumber":277,"oldContent":"      return jsonList.map((json) => RecentSearch("},{"type":"DELETE","lineNumber":278,"oldContent":"        checkOut: json['checkOut'] != null "},{"type":"DELETE","lineNumber":279,"oldContent":"      )).toList();"},{"type":"DELETE","lineNumber":280,"oldContent":"            ? DateTime.tryParse(json['checkOut'] as String)"},{"type":"INSERT","lineNumber":318,"content":"      return jsonList"},{"type":"INSERT","lineNumber":319,"content":"          .map("},{"type":"INSERT","lineNumber":320,"content":"            (json) => RecentSearch("},{"type":"INSERT","lineNumber":321,"content":"              location: json['location'] as String?,"},{"type":"INSERT","lineNumber":322,"content":"              checkIn: json['checkIn'] != null"},{"type":"INSERT","lineNumber":323,"content":"                  ? DateTime.tryParse(json['checkIn'] as String)"},{"type":"INSERT","lineNumber":324,"content":"                  : null,"},{"type":"INSERT","lineNumber":325,"content":"              checkOut: json['checkOut'] != null"},{"type":"INSERT","lineNumber":326,"content":"                  ? DateTime.tryParse(json['checkOut'] as String)"},{"type":"INSERT","lineNumber":327,"content":"                  : null,"},{"type":"INSERT","lineNumber":328,"content":"              guests: json['guests'] as int?,"},{"type":"INSERT","lineNumber":329,"content":"              timestamp: DateTime.parse(json['timestamp'] as String),"},{"type":"INSERT","lineNumber":330,"content":"            ),"},{"type":"INSERT","lineNumber":331,"content":"          )"},{"type":"INSERT","lineNumber":332,"content":"          .toList();"},{"type":"DELETE","lineNumber":282,"oldContent":"            : null,"},{"type":"DELETE","lineNumber":284,"oldContent":"        guests: json['guests'] as int?,"},{"type":"DELETE","lineNumber":286,"oldContent":"        timestamp: DateTime.parse(json['timestamp'] as String),"},{"type":"DELETE","lineNumber":290,"oldContent":"    final jsonList = searches.map((search) => {"},{"type":"DELETE","lineNumber":291,"oldContent":"      'location': search.location,"},{"type":"DELETE","lineNumber":292,"oldContent":"      'guests': search.guests,"},{"type":"DELETE","lineNumber":293,"oldContent":"      'timestamp': search.timestamp.toIso8601String(),"},{"type":"DELETE","lineNumber":294,"oldContent":"      'checkIn': search.checkIn?.toIso8601String(),"},{"type":"DELETE","lineNumber":295,"oldContent":"      'checkOut': search.checkOut?.toIso8601String(),"},{"type":"DELETE","lineNumber":296,"oldContent":"    }).toList();"},{"type":"INSERT","lineNumber":339,"content":"    final jsonList = searches"},{"type":"INSERT","lineNumber":340,"content":"        .map("},{"type":"INSERT","lineNumber":341,"content":"          (search) => {"},{"type":"INSERT","lineNumber":342,"content":"            'location': search.location,"},{"type":"INSERT","lineNumber":343,"content":"            'checkIn': search.checkIn?.toIso8601String(),"},{"type":"INSERT","lineNumber":344,"content":"            'checkOut': search.checkOut?.toIso8601String(),"},{"type":"INSERT","lineNumber":345,"content":"            'guests': search.guests,"},{"type":"INSERT","lineNumber":346,"content":"            'timestamp': search.timestamp.toIso8601String(),"},{"type":"INSERT","lineNumber":347,"content":"          },"},{"type":"INSERT","lineNumber":348,"content":"        )"},{"type":"INSERT","lineNumber":349,"content":"        .toList();"},{"type":"DELETE","lineNumber":298,"oldContent":"    await _sharedPreferences.setString(_recentSearchesKey, json.encode(jsonList));"},{"type":"INSERT","lineNumber":351,"content":"    await _sharedPreferences.setString("},{"type":"INSERT","lineNumber":352,"content":"      _recentSearchesKey,"},{"type":"INSERT","lineNumber":353,"content":"      json.encode(jsonList),"},{"type":"INSERT","lineNumber":354,"content":"    );"}]},{"timestamp":1758529676349,"changes":[{"type":"INSERT","lineNumber":3,"content":"import '../../../../core/network/api_result.dart';"},{"type":"DELETE","lineNumber":42,"oldContent":"      final governatesResult = results[2];"},{"type":"INSERT","lineNumber":43,"content":"          results[0] as ApiResult<List<LookupItemEntity>>;"},{"type":"DELETE","lineNumber":44,"oldContent":""},{"type":"INSERT","lineNumber":47,"content":""},{"type":"INSERT","lineNumber":54,"content":"      );"},{"type":"DELETE","lineNumber":66,"oldContent":"      );"},{"type":"DELETE","lineNumber":68,"oldContent":"    } catch (error) {"},{"type":"DELETE","lineNumber":70,"oldContent":"      emit(SearchError(message: 'An unexpected error occurred: $error'));"},{"type":"DELETE","lineNumber":72,"oldContent":"    }"},{"type":"DELETE","lineNumber":74,"oldContent":"  }"},{"type":"DELETE","lineNumber":76,"oldContent":""},{"type":"DELETE","lineNumber":78,"oldContent":"  Future<void> _onSearchProperties("},{"type":"DELETE","lineNumber":80,"oldContent":"    SearchPropertiesEvent event,"},{"type":"DELETE","lineNumber":82,"oldContent":"    Emitter<SearchState> emit,"},{"type":"DELETE","lineNumber":84,"oldContent":"  ) async {"},{"type":"DELETE","lineNumber":86,"oldContent":"    if (state is! LookupsLoaded && state is! SearchLoaded) {"},{"type":"DELETE","lineNumber":88,"oldContent":"      return;"},{"type":"DELETE","lineNumber":90,"oldContent":"    }"},{"type":"DELETE","lineNumber":92,"oldContent":""},{"type":"DELETE","lineNumber":94,"oldContent":"    emit(const SearchLoading());"},{"type":"DELETE","lineNumber":96,"oldContent":""},{"type":"DELETE","lineNumber":98,"oldContent":"    final result = await _searchRepository.searchProperties(event.filter);"},{"type":"DELETE","lineNumber":100,"oldContent":""},{"type":"DELETE","lineNumber":102,"oldContent":"    result.when("},{"type":"DELETE","lineNumber":104,"oldContent":"      success: (searchResult) {"},{"type":"DELETE","lineNumber":106,"oldContent":"        final currentState = state;"},{"type":"DELETE","lineNumber":108,"oldContent":"        List<RecentSearch> recentSearches = [];"},{"type":"INSERT","lineNumber":90,"content":"    } catch (error) {"},{"type":"INSERT","lineNumber":91,"content":"      emit(SearchError(message: 'An unexpected error occurred: $error'));"},{"type":"INSERT","lineNumber":92,"content":"    }"},{"type":"INSERT","lineNumber":93,"content":"  }"},{"type":"INSERT","lineNumber":94,"content":""},{"type":"INSERT","lineNumber":95,"content":"  Future<void> _onSearchProperties("},{"type":"INSERT","lineNumber":96,"content":"    SearchPropertiesEvent event,"},{"type":"INSERT","lineNumber":97,"content":"    Emitter<SearchState> emit,"},{"type":"INSERT","lineNumber":98,"content":"  ) async {"},{"type":"INSERT","lineNumber":99,"content":"    if (state is! LookupsLoaded && state is! SearchLoaded) {"},{"type":"INSERT","lineNumber":100,"content":"      return;"},{"type":"INSERT","lineNumber":101,"content":"    }"},{"type":"INSERT","lineNumber":102,"content":""},{"type":"INSERT","lineNumber":103,"content":"    emit(const SearchLoading());"},{"type":"INSERT","lineNumber":104,"content":""},{"type":"INSERT","lineNumber":105,"content":"    final result = await _searchRepository.searchProperties(event.filter);"},{"type":"INSERT","lineNumber":106,"content":""},{"type":"INSERT","lineNumber":107,"content":"    result.when("},{"type":"INSERT","lineNumber":108,"content":"      success: (searchResult) {"},{"type":"INSERT","lineNumber":109,"content":"        final currentState = state;"},{"type":"INSERT","lineNumber":110,"content":"        List<RecentSearch> recentSearches = [];"},{"type":"INSERT","lineNumber":111,"content":""},{"type":"DELETE","lineNumber":116,"oldContent":""},{"type":"DELETE","lineNumber":117,"oldContent":"        if (lookupsState != null) {"},{"type":"DELETE","lineNumber":118,"oldContent":""},{"type":"DELETE","lineNumber":121,"oldContent":"        }"},{"type":"DELETE","lineNumber":123,"oldContent":"      },"},{"type":"DELETE","lineNumber":125,"oldContent":"      failure: (message) => emit(SearchError(message: message)),"},{"type":"DELETE","lineNumber":127,"oldContent":"    );"},{"type":"DELETE","lineNumber":129,"oldContent":"  }"},{"type":"DELETE","lineNumber":131,"oldContent":""},{"type":"DELETE","lineNumber":133,"oldContent":"  Future<void> _onUpdateFilter("},{"type":"DELETE","lineNumber":135,"oldContent":"    UpdateFilterEvent event,"},{"type":"DELETE","lineNumber":137,"oldContent":"    Emitter<SearchState> emit,"},{"type":"DELETE","lineNumber":139,"oldContent":"  ) async {"},{"type":"DELETE","lineNumber":140,"oldContent":"    if (state is LookupsLoaded) {"},{"type":"DELETE","lineNumber":141,"oldContent":"      final currentState = state as LookupsLoaded;"},{"type":"INSERT","lineNumber":129,"content":""},{"type":"INSERT","lineNumber":130,"content":"        if (lookupsState != null) {"},{"type":"DELETE","lineNumber":150,"oldContent":"    } else if (state is SearchLoaded) {"},{"type":"DELETE","lineNumber":152,"oldContent":"      final currentState = state as SearchLoaded;"},{"type":"DELETE","lineNumber":157,"oldContent":"    }"},{"type":"INSERT","lineNumber":144,"content":"        }"},{"type":"INSERT","lineNumber":145,"content":"      },"},{"type":"INSERT","lineNumber":146,"content":"      failure: (message) => emit(SearchError(message: message)),"},{"type":"INSERT","lineNumber":147,"content":"    );"},{"type":"DELETE","lineNumber":160,"oldContent":"  Future<void> _onResetFilter("},{"type":"DELETE","lineNumber":161,"oldContent":"    ResetFilterEvent event,"},{"type":"INSERT","lineNumber":150,"content":"  Future<void> _onUpdateFilter("},{"type":"INSERT","lineNumber":151,"content":"    UpdateFilterEvent event,"},{"type":"DELETE","lineNumber":163,"oldContent":"      emit("},{"type":"DELETE","lineNumber":165,"oldContent":"        LookupsLoaded("},{"type":"DELETE","lineNumber":167,"oldContent":"          propertyTypes: currentState.propertyTypes,"},{"type":"INSERT","lineNumber":156,"content":"      emit("},{"type":"INSERT","lineNumber":157,"content":"        LookupsLoaded("},{"type":"INSERT","lineNumber":158,"content":"          propertyTypes: currentState.propertyTypes,"},{"type":"DELETE","lineNumber":176,"oldContent":"      emit("},{"type":"INSERT","lineNumber":167,"content":"      emit("},{"type":"DELETE","lineNumber":184,"oldContent":"    }"},{"type":"DELETE","lineNumber":187,"oldContent":"  }"},{"type":"DELETE","lineNumber":190,"oldContent":"  Future<void> _onLoadMoreProperties("},{"type":"DELETE","lineNumber":192,"oldContent":"    LoadMorePropertiesEvent event,"},{"type":"INSERT","lineNumber":179,"content":"    }"},{"type":"INSERT","lineNumber":180,"content":"  }"},{"type":"INSERT","lineNumber":181,"content":""},{"type":"INSERT","lineNumber":182,"content":"  Future<void> _onResetFilter("},{"type":"INSERT","lineNumber":183,"content":"    ResetFilterEvent event,"},{"type":"DELETE","lineNumber":195,"oldContent":"    if (state is! SearchLoaded) return;"},{"type":"DELETE","lineNumber":196,"oldContent":""},{"type":"DELETE","lineNumber":197,"oldContent":"    final currentState = state as SearchLoaded;"},{"type":"INSERT","lineNumber":186,"content":"    if (state is LookupsLoaded) {"},{"type":"INSERT","lineNumber":187,"content":"      final currentState = state as LookupsLoaded;"},{"type":"DELETE","lineNumber":199,"oldContent":"    if (currentState.hasReachedMax) return;"},{"type":"DELETE","lineNumber":201,"oldContent":""},{"type":"DELETE","lineNumber":203,"oldContent":"    final newFilter = currentState.currentFilter.copyWith("},{"type":"DELETE","lineNumber":205,"oldContent":"      skipCount: currentState.properties.length,"},{"type":"DELETE","lineNumber":207,"oldContent":"    );"},{"type":"DELETE","lineNumber":209,"oldContent":""},{"type":"DELETE","lineNumber":211,"oldContent":"    final result = await _searchRepository.searchProperties(newFilter);"},{"type":"DELETE","lineNumber":213,"oldContent":""},{"type":"DELETE","lineNumber":215,"oldContent":"    result.when("},{"type":"DELETE","lineNumber":216,"oldContent":"      success: (searchResult) {"},{"type":"INSERT","lineNumber":197,"content":"    } else if (state is SearchLoaded) {"},{"type":"INSERT","lineNumber":198,"content":"      final currentState = state as SearchLoaded;"},{"type":"DELETE","lineNumber":228,"oldContent":"      failure: (message) {"},{"type":"DELETE","lineNumber":230,"oldContent":"        // Handle error for load more if needed"},{"type":"DELETE","lineNumber":231,"oldContent":"      },"},{"type":"DELETE","lineNumber":232,"oldContent":""},{"type":"DELETE","lineNumber":233,"oldContent":"    );"},{"type":"INSERT","lineNumber":211,"content":"    }"},{"type":"DELETE","lineNumber":236,"oldContent":"  Future<void> _onSaveRecentSearch("},{"type":"DELETE","lineNumber":237,"oldContent":"    SaveRecentSearchEvent event,"},{"type":"INSERT","lineNumber":214,"content":"  Future<void> _onLoadMoreProperties("},{"type":"INSERT","lineNumber":215,"content":"    LoadMorePropertiesEvent event,"},{"type":"DELETE","lineNumber":240,"oldContent":"    final recentSearches = await _loadRecentSearches();"},{"type":"DELETE","lineNumber":241,"oldContent":"    final newSearch = RecentSearch("},{"type":"DELETE","lineNumber":242,"oldContent":"      location: event.location,"},{"type":"DELETE","lineNumber":243,"oldContent":"      checkIn: event.checkIn,"},{"type":"DELETE","lineNumber":244,"oldContent":"      checkOut: event.checkOut,"},{"type":"DELETE","lineNumber":245,"oldContent":"      guests: event.guests,"},{"type":"INSERT","lineNumber":218,"content":"    if (state is! SearchLoaded) return;"},{"type":"INSERT","lineNumber":220,"content":"    final currentState = state as SearchLoaded;"},{"type":"INSERT","lineNumber":221,"content":"    if (currentState.hasReachedMax) return;"},{"type":"INSERT","lineNumber":222,"content":""},{"type":"INSERT","lineNumber":223,"content":"    final newFilter = currentState.currentFilter.copyWith("},{"type":"INSERT","lineNumber":224,"content":"      skipCount: currentState.properties.length,"},{"type":"INSERT","lineNumber":225,"content":"    );"},{"type":"INSERT","lineNumber":226,"content":""},{"type":"INSERT","lineNumber":227,"content":"    final result = await _searchRepository.searchProperties(newFilter);"},{"type":"INSERT","lineNumber":228,"content":""},{"type":"INSERT","lineNumber":229,"content":"    result.when("},{"type":"INSERT","lineNumber":230,"content":"      success: (searchResult) {"},{"type":"DELETE","lineNumber":248,"oldContent":"    // Remove duplicate if exists and add to beginning"},{"type":"DELETE","lineNumber":250,"oldContent":"    final updatedSearches = ["},{"type":"DELETE","lineNumber":252,"oldContent":"      newSearch,"},{"type":"DELETE","lineNumber":259,"oldContent":"    ].take(5).toList(); // Keep only 5 recent searches"},{"type":"DELETE","lineNumber":261,"oldContent":""},{"type":"DELETE","lineNumber":263,"oldContent":"    await _saveRecentSearches(updatedSearches);"},{"type":"DELETE","lineNumber":265,"oldContent":""},{"type":"DELETE","lineNumber":267,"oldContent":"    // Update current state with new recent searches"},{"type":"DELETE","lineNumber":269,"oldContent":"    if (state is LookupsLoaded) {"},{"type":"DELETE","lineNumber":271,"oldContent":"      final currentState = state as LookupsLoaded;"},{"type":"DELETE","lineNumber":276,"oldContent":"    } else if (state is SearchLoaded) {"},{"type":"DELETE","lineNumber":277,"oldContent":"      final currentState = state as SearchLoaded;"},{"type":"DELETE","lineNumber":278,"oldContent":"    }"},{"type":"INSERT","lineNumber":250,"content":"      failure: (message) {"},{"type":"INSERT","lineNumber":251,"content":"        // Handle error for load more if needed"},{"type":"INSERT","lineNumber":252,"content":"      },"},{"type":"INSERT","lineNumber":253,"content":"    );"},{"type":"INSERT","lineNumber":256,"content":"  Future<void> _onSaveRecentSearch("},{"type":"INSERT","lineNumber":257,"content":"    SaveRecentSearchEvent event,"},{"type":"INSERT","lineNumber":258,"content":"    Emitter<SearchState> emit,"},{"type":"INSERT","lineNumber":259,"content":"  ) async {"},{"type":"INSERT","lineNumber":260,"content":"    final recentSearches = await _loadRecentSearches();"},{"type":"DELETE","lineNumber":282,"oldContent":"  Future<List<RecentSearch>> _loadRecentSearches() async {"},{"type":"DELETE","lineNumber":283,"oldContent":"    final jsonString = _sharedPreferences.getString(_recentSearchesKey);"},{"type":"DELETE","lineNumber":284,"oldContent":"    if (jsonString == null) return [];"},{"type":"DELETE","lineNumber":285,"oldContent":""},{"type":"INSERT","lineNumber":262,"content":"    final newSearch = RecentSearch("},{"type":"INSERT","lineNumber":263,"content":"      location: event.location,"},{"type":"INSERT","lineNumber":264,"content":"      checkIn: event.checkIn,"},{"type":"INSERT","lineNumber":265,"content":"      checkOut: event.checkOut,"},{"type":"INSERT","lineNumber":266,"content":"      guests: event.guests,"},{"type":"DELETE","lineNumber":288,"oldContent":"    try {"},{"type":"DELETE","lineNumber":289,"oldContent":"      final List<dynamic> jsonList = json.decode(jsonString);"},{"type":"INSERT","lineNumber":269,"content":""},{"type":"INSERT","lineNumber":270,"content":"    // Remove duplicate if exists and add to beginning"},{"type":"INSERT","lineNumber":271,"content":"    final updatedSearches = ["},{"type":"INSERT","lineNumber":272,"content":"      newSearch,"},{"type":"DELETE","lineNumber":297,"oldContent":"    } catch (e) {"},{"type":"DELETE","lineNumber":298,"oldContent":"      return [];"},{"type":"DELETE","lineNumber":299,"oldContent":"    }"},{"type":"INSERT","lineNumber":280,"content":"    ].take(5).toList(); // Keep only 5 recent searches"},{"type":"INSERT","lineNumber":281,"content":""},{"type":"INSERT","lineNumber":282,"content":"    await _saveRecentSearches(updatedSearches);"},{"type":"INSERT","lineNumber":283,"content":""},{"type":"INSERT","lineNumber":284,"content":"    // Update current state with new recent searches"},{"type":"INSERT","lineNumber":285,"content":"    if (state is LookupsLoaded) {"},{"type":"INSERT","lineNumber":286,"content":"      final currentState = state as LookupsLoaded;"},{"type":"DELETE","lineNumber":302,"oldContent":"  }"},{"type":"DELETE","lineNumber":304,"oldContent":""},{"type":"DELETE","lineNumber":306,"oldContent":"  Future<void> _saveRecentSearches(List<RecentSearch> searches) async {"},{"type":"INSERT","lineNumber":296,"content":"    } else if (state is SearchLoaded) {"},{"type":"INSERT","lineNumber":297,"content":"      final currentState = state as SearchLoaded;"},{"type":"DELETE","lineNumber":313,"oldContent":""},{"type":"DELETE","lineNumber":316,"oldContent":"  }"},{"type":"DELETE","lineNumber":318,"oldContent":"}"},{"type":"DELETE","lineNumber":320,"oldContent":""},{"type":"DELETE","lineNumber":322,"oldContent":"    );"},{"type":"DELETE","lineNumber":324,"oldContent":"      json.encode(jsonList),"},{"type":"DELETE","lineNumber":326,"oldContent":"      _recentSearchesKey,"},{"type":"DELETE","lineNumber":328,"oldContent":"    await _sharedPreferences.setString("},{"type":"DELETE","lineNumber":330,"oldContent":"        .toList();"},{"type":"DELETE","lineNumber":332,"oldContent":"        )"},{"type":"DELETE","lineNumber":334,"oldContent":"          },"},{"type":"DELETE","lineNumber":335,"oldContent":"            'timestamp': search.timestamp.toIso8601String(),"},{"type":"DELETE","lineNumber":336,"oldContent":"            'guests': search.guests,"},{"type":"DELETE","lineNumber":337,"oldContent":"            'checkOut': search.checkOut?.toIso8601String(),"},{"type":"DELETE","lineNumber":338,"oldContent":"            'checkIn': search.checkIn?.toIso8601String(),"},{"type":"DELETE","lineNumber":339,"oldContent":"            'location': search.location,"},{"type":"DELETE","lineNumber":340,"oldContent":"          (search) => {"},{"type":"DELETE","lineNumber":341,"oldContent":"        .map("},{"type":"DELETE","lineNumber":342,"oldContent":"    final jsonList = searches"},{"type":"DELETE","lineNumber":343,"oldContent":"          .toList();"},{"type":"INSERT","lineNumber":310,"content":"    }"},{"type":"INSERT","lineNumber":311,"content":"  }"},{"type":"INSERT","lineNumber":312,"content":""},{"type":"INSERT","lineNumber":313,"content":"  Future<List<RecentSearch>> _loadRecentSearches() async {"},{"type":"INSERT","lineNumber":314,"content":"    final jsonString = _sharedPreferences.getString(_recentSearchesKey);"},{"type":"INSERT","lineNumber":315,"content":"    if (jsonString == null) return [];"},{"type":"INSERT","lineNumber":316,"content":""},{"type":"INSERT","lineNumber":317,"content":"    try {"},{"type":"INSERT","lineNumber":318,"content":"      final List<dynamic> jsonList = json.decode(jsonString);"},{"type":"DELETE","lineNumber":345,"oldContent":"          )"},{"type":"DELETE","lineNumber":347,"oldContent":"            ),"},{"type":"DELETE","lineNumber":349,"oldContent":"              timestamp: DateTime.parse(json['timestamp'] as String),"},{"type":"DELETE","lineNumber":351,"oldContent":"              guests: json['guests'] as int?,"},{"type":"DELETE","lineNumber":353,"oldContent":"                  : null,"},{"type":"DELETE","lineNumber":355,"oldContent":"                  ? DateTime.tryParse(json['checkOut'] as String)"},{"type":"INSERT","lineNumber":327,"content":"                  ? DateTime.tryParse(json['checkOut'] as String)"},{"type":"INSERT","lineNumber":328,"content":"                  : null,"},{"type":"INSERT","lineNumber":329,"content":"              guests: json['guests'] as int?,"},{"type":"INSERT","lineNumber":330,"content":"              timestamp: DateTime.parse(json['timestamp'] as String),"},{"type":"INSERT","lineNumber":331,"content":"            ),"},{"type":"INSERT","lineNumber":332,"content":"          )"},{"type":"INSERT","lineNumber":333,"content":"          .toList();"},{"type":"INSERT","lineNumber":334,"content":"    } catch (e) {"},{"type":"INSERT","lineNumber":335,"content":"      return [];"},{"type":"INSERT","lineNumber":336,"content":"    }"},{"type":"INSERT","lineNumber":337,"content":"  }"},{"type":"INSERT","lineNumber":338,"content":""},{"type":"INSERT","lineNumber":339,"content":"  Future<void> _saveRecentSearches(List<RecentSearch> searches) async {"},{"type":"INSERT","lineNumber":340,"content":"    final jsonList = searches"},{"type":"INSERT","lineNumber":341,"content":"        .map("},{"type":"INSERT","lineNumber":342,"content":"          (search) => {"},{"type":"INSERT","lineNumber":343,"content":"            'location': search.location,"},{"type":"INSERT","lineNumber":344,"content":"            'checkIn': search.checkIn?.toIso8601String(),"},{"type":"INSERT","lineNumber":345,"content":"            'checkOut': search.checkOut?.toIso8601String(),"},{"type":"INSERT","lineNumber":346,"content":"            'guests': search.guests,"},{"type":"INSERT","lineNumber":347,"content":"            'timestamp': search.timestamp.toIso8601String(),"},{"type":"INSERT","lineNumber":348,"content":"          },"},{"type":"INSERT","lineNumber":349,"content":"        )"},{"type":"INSERT","lineNumber":350,"content":"        .toList();"},{"type":"INSERT","lineNumber":351,"content":""},{"type":"INSERT","lineNumber":352,"content":"    await _sharedPreferences.setString("},{"type":"INSERT","lineNumber":353,"content":"      _recentSearchesKey,"},{"type":"INSERT","lineNumber":354,"content":"      json.encode(jsonList),"},{"type":"INSERT","lineNumber":355,"content":"    );"},{"type":"INSERT","lineNumber":356,"content":"  }"},{"type":"INSERT","lineNumber":357,"content":"}"},{"type":"INSERT","lineNumber":358,"content":""}]}]},"D:/flutter projects/ahlanfeekum/lib/core/network/dio_factory.dart":{"filePath":"D:/flutter projects/ahlanfeekum/lib/core/network/dio_factory.dart","baseContent":"import 'package:dio/dio.dart';\nimport 'package:flutter/foundation.dart';\nimport 'package:flutter_secure_storage/flutter_secure_storage.dart';\nimport '../constants/app_constants.dart';\nimport '../di/injection.dart';\n\nclass DioFactory {\n  static Dio? _dio;\n\n  static Dio getDio() {\n    Duration timeOut = const Duration(seconds: 30);\n\n    if (_dio == null) {\n      _dio = Dio();\n      _dio!.options.baseUrl = AppConstants.baseUrl;\n      _dio!\n        ..options.connectTimeout = timeOut\n        ..options.receiveTimeout = timeOut;\n\n      if (kDebugMode) {\n        _dio!.interceptors.add(\n          LogInterceptor(\n            requestBody: true,\n            responseBody: true,\n            requestHeader: true,\n            responseHeader: true,\n          ),\n        );\n      }\n\n      _dio!.interceptors.add(\n        InterceptorsWrapper(\n          onRequest: (options, handler) async {\n            options.headers['Content-Type'] = 'application/json';\n            options.headers['X-Requested-With'] = 'XMLHttpRequest';\n            options.headers['accept'] = 'text/plain';\n\n            // Add Authorization header from secure storage\n            try {\n              final secureStorage = getIt<FlutterSecureStorage>();\n              final token = await secureStorage.read(\n                key: AppConstants.accessTokenKey,\n              );\n\n              if (token != null && token.isNotEmpty) {\n                options.headers['Authorization'] = 'Bearer $token';\n                if (kDebugMode) {\n                  print(' Added auth token to request: ${options.path}');\n                }\n              } else {\n                if (kDebugMode) {\n                  print(' No auth token found for request: ${options.path}');\n                }\n              }\n            } catch (e) {\n              if (kDebugMode) {\n                print(' Error adding auth header: $e');\n              }\n            }\n\n            handler.next(options);\n          },\n          onError: (error, handler) {\n            if (kDebugMode) {\n              print(' Dio error: ${error.message}');\n              if (error.response != null) {\n                print(' Response status: ${error.response?.statusCode}');\n                print(' Response data: ${error.response?.data}');\n              }\n            }\n            handler.next(error);\n          },\n        ),\n      );\n    }\n    return _dio!;\n  }\n}\n","baseTimestamp":1758453223758,"deltas":[{"timestamp":1758453238548,"changes":[{"type":"MODIFY","lineNumber":2,"content":"import 'package:shared_preferences/shared_preferences.dart';","oldContent":"import 'package:flutter_secure_storage/flutter_secure_storage.dart';"},{"type":"MODIFY","lineNumber":32,"content":"          onRequest: (options, handler) {","oldContent":"          onRequest: (options, handler) async {"},{"type":"DELETE","lineNumber":36,"oldContent":""},{"type":"DELETE","lineNumber":37,"oldContent":"            // Add Authorization header from secure storage"},{"type":"INSERT","lineNumber":36,"content":"            "},{"type":"INSERT","lineNumber":37,"content":"            // Add Authorization header"},{"type":"DELETE","lineNumber":39,"oldContent":"              final secureStorage = getIt<FlutterSecureStorage>();"},{"type":"DELETE","lineNumber":40,"oldContent":"              final token = await secureStorage.read("},{"type":"DELETE","lineNumber":41,"oldContent":"                key: AppConstants.accessTokenKey,"},{"type":"DELETE","lineNumber":42,"oldContent":"              );"},{"type":"DELETE","lineNumber":43,"oldContent":""},{"type":"INSERT","lineNumber":39,"content":"              final sharedPreferences = getIt<SharedPreferences>();"},{"type":"INSERT","lineNumber":40,"content":"              final token = sharedPreferences.getString(AppConstants.accessTokenKey);"},{"type":"INSERT","lineNumber":41,"content":"              "},{"type":"DELETE","lineNumber":46,"oldContent":"                if (kDebugMode) {"},{"type":"DELETE","lineNumber":47,"oldContent":"                  print(' Added auth token to request: ${options.path}');"},{"type":"DELETE","lineNumber":48,"oldContent":"                }"},{"type":"INSERT","lineNumber":44,"content":"                print(' Added auth token to request: ${options.path}');"},{"type":"DELETE","lineNumber":50,"oldContent":"                if (kDebugMode) {"},{"type":"DELETE","lineNumber":51,"oldContent":"                  print(' No auth token found for request: ${options.path}');"},{"type":"DELETE","lineNumber":52,"oldContent":"                }"},{"type":"INSERT","lineNumber":46,"content":"                print(' No auth token found for request: ${options.path}');"},{"type":"DELETE","lineNumber":55,"oldContent":"              if (kDebugMode) {"},{"type":"DELETE","lineNumber":56,"oldContent":"                print(' Error adding auth header: $e');"},{"type":"DELETE","lineNumber":57,"oldContent":"              }"},{"type":"INSERT","lineNumber":49,"content":"              print(' Error adding auth header: $e');"},{"type":"DELETE","lineNumber":59,"oldContent":""},{"type":"INSERT","lineNumber":51,"content":"            "},{"type":"DELETE","lineNumber":63,"oldContent":"            if (kDebugMode) {"},{"type":"DELETE","lineNumber":64,"oldContent":"              print(' Dio error: ${error.message}');"},{"type":"DELETE","lineNumber":65,"oldContent":"              if (error.response != null) {"},{"type":"DELETE","lineNumber":66,"oldContent":"                print(' Response status: ${error.response?.statusCode}');"},{"type":"DELETE","lineNumber":67,"oldContent":"                print(' Response data: ${error.response?.data}');"},{"type":"DELETE","lineNumber":68,"oldContent":"              }"},{"type":"INSERT","lineNumber":55,"content":"            print(' Dio error: ${error.message}');"},{"type":"INSERT","lineNumber":56,"content":"            if (error.response != null) {"},{"type":"INSERT","lineNumber":57,"content":"              print(' Response status: ${error.response?.statusCode}');"},{"type":"INSERT","lineNumber":58,"content":"              print(' Response data: ${error.response?.data}');"}]},{"timestamp":1758455064485,"changes":[{"type":"INSERT","lineNumber":33,"content":"            // Default headers"},{"type":"DELETE","lineNumber":35,"oldContent":"            options.headers['accept'] = 'text/plain';"},{"type":"DELETE","lineNumber":36,"oldContent":"            "},{"type":"DELETE","lineNumber":37,"oldContent":"            // Add Authorization header"},{"type":"DELETE","lineNumber":38,"oldContent":"            try {"},{"type":"DELETE","lineNumber":39,"oldContent":"              final sharedPreferences = getIt<SharedPreferences>();"},{"type":"DELETE","lineNumber":40,"oldContent":"              final token = sharedPreferences.getString(AppConstants.accessTokenKey);"},{"type":"DELETE","lineNumber":41,"oldContent":"              "},{"type":"DELETE","lineNumber":42,"oldContent":"                print(' Added auth token to request: ${options.path}');"},{"type":"DELETE","lineNumber":43,"oldContent":"              if (token != null && token.isNotEmpty) {"},{"type":"DELETE","lineNumber":44,"oldContent":"                options.headers['Authorization'] = 'Bearer $token';"},{"type":"DELETE","lineNumber":45,"oldContent":"                print(' No auth token found for request: ${options.path}');"},{"type":"DELETE","lineNumber":46,"oldContent":"              print(' Error adding auth header: $e');"},{"type":"DELETE","lineNumber":47,"oldContent":"              } else {"},{"type":"DELETE","lineNumber":48,"oldContent":"            "},{"type":"INSERT","lineNumber":36,"content":"            options.headers['accept'] = 'application/json';"},{"type":"INSERT","lineNumber":37,"content":""},{"type":"INSERT","lineNumber":38,"content":"            // Determine if this request should skip auth (e.g., public lookups)"},{"type":"INSERT","lineNumber":39,"content":"            final path = options.path; // relative to baseUrl"},{"type":"INSERT","lineNumber":40,"content":"            final bool skipAuth ="},{"type":"INSERT","lineNumber":41,"content":"                options.extra['skipAuth'] == true || path.startsWith('lookups');"},{"type":"INSERT","lineNumber":42,"content":""},{"type":"INSERT","lineNumber":43,"content":"            // Add Authorization header unless skipping"},{"type":"INSERT","lineNumber":44,"content":"            if (!skipAuth) {"},{"type":"INSERT","lineNumber":45,"content":"              try {"},{"type":"INSERT","lineNumber":46,"content":"                final sharedPreferences = getIt<SharedPreferences>();"},{"type":"INSERT","lineNumber":47,"content":"                final token = sharedPreferences.getString("},{"type":"INSERT","lineNumber":48,"content":"                  AppConstants.accessTokenKey,"},{"type":"INSERT","lineNumber":49,"content":"                );"},{"type":"INSERT","lineNumber":50,"content":""},{"type":"INSERT","lineNumber":51,"content":"                if (token != null && token.isNotEmpty) {"},{"type":"INSERT","lineNumber":52,"content":"                  options.headers['Authorization'] = 'Bearer $token';"},{"type":"INSERT","lineNumber":53,"content":"                  print(' Added auth token to request: ${options.path}');"},{"type":"INSERT","lineNumber":54,"content":"                } else {"},{"type":"INSERT","lineNumber":55,"content":"                  print(' No auth token found for request: ${options.path}');"},{"type":"INSERT","lineNumber":56,"content":"                }"},{"type":"INSERT","lineNumber":57,"content":"              } catch (e) {"},{"type":"INSERT","lineNumber":58,"content":"                print(' Error adding auth header: $e');"},{"type":"DELETE","lineNumber":50,"oldContent":"            } catch (e) {"},{"type":"INSERT","lineNumber":60,"content":"            } else {"},{"type":"INSERT","lineNumber":61,"content":"              print(' Skipping auth for request: ${options.path}');"},{"type":"INSERT","lineNumber":62,"content":"            }"},{"type":"INSERT","lineNumber":63,"content":""},{"type":"INSERT","lineNumber":64,"content":"            handler.next(options);"},{"type":"INSERT","lineNumber":65,"content":"          },"},{"type":"INSERT","lineNumber":66,"content":"          onError: (error, handler) {"},{"type":"DELETE","lineNumber":56,"oldContent":"            handler.next(options);"},{"type":"DELETE","lineNumber":57,"oldContent":"          },"},{"type":"DELETE","lineNumber":58,"oldContent":"          onError: (error, handler) {"},{"type":"DELETE","lineNumber":59,"oldContent":"            }"}]},{"timestamp":1758455834362,"changes":[{"type":"DELETE","lineNumber":38,"oldContent":"            // Determine if this request should skip auth (e.g., public lookups)"},{"type":"DELETE","lineNumber":39,"oldContent":"            final path = options.path; // relative to baseUrl"},{"type":"DELETE","lineNumber":40,"oldContent":"            final bool skipAuth ="},{"type":"DELETE","lineNumber":41,"oldContent":"                options.extra['skipAuth'] == true || path.startsWith('lookups');"},{"type":"INSERT","lineNumber":38,"content":"            // Determine if this request should skip auth only when explicitly requested"},{"type":"INSERT","lineNumber":39,"content":"            final bool skipAuth = options.extra['skipAuth'] == true;"},{"type":"DELETE","lineNumber":50,"oldContent":"              }"},{"type":"DELETE","lineNumber":53,"oldContent":"            print(' Dio error: ${error.message}');"},{"type":"DELETE","lineNumber":55,"oldContent":"            if (error.response != null) {"},{"type":"DELETE","lineNumber":57,"oldContent":"              print(' Response status: ${error.response?.statusCode}');"},{"type":"DELETE","lineNumber":59,"oldContent":"              print(' Response data: ${error.response?.data}');"},{"type":"DELETE","lineNumber":61,"oldContent":"            }"},{"type":"INSERT","lineNumber":57,"content":"              }"},{"type":"DELETE","lineNumber":66,"oldContent":"            handler.next(error);"},{"type":"INSERT","lineNumber":60,"content":"            }"},{"type":"INSERT","lineNumber":61,"content":""},{"type":"INSERT","lineNumber":62,"content":"            handler.next(options);"},{"type":"INSERT","lineNumber":64,"content":"          onError: (error, handler) {"},{"type":"INSERT","lineNumber":65,"content":"            print(' Dio error: ${error.message}');"},{"type":"INSERT","lineNumber":66,"content":"            if (error.response != null) {"},{"type":"INSERT","lineNumber":67,"content":"              print(' Response status: ${error.response?.statusCode}');"},{"type":"INSERT","lineNumber":68,"content":"              print(' Response data: ${error.response?.data}');"},{"type":"INSERT","lineNumber":70,"content":"            handler.next(error);"},{"type":"INSERT","lineNumber":71,"content":"          },"},{"type":"DELETE","lineNumber":71,"oldContent":""},{"type":"DELETE","lineNumber":73,"oldContent":"            handler.next(options);"},{"type":"DELETE","lineNumber":75,"oldContent":"          },"},{"type":"DELETE","lineNumber":77,"oldContent":"          onError: (error, handler) {"}]},{"timestamp":1758456200280,"changes":[{"type":"DELETE","lineNumber":33,"oldContent":"            // Default headers"},{"type":"DELETE","lineNumber":36,"oldContent":"            options.headers['accept'] = 'application/json';"},{"type":"DELETE","lineNumber":37,"oldContent":""},{"type":"DELETE","lineNumber":38,"oldContent":"            // Determine if this request should skip auth only when explicitly requested"},{"type":"DELETE","lineNumber":39,"oldContent":"            final bool skipAuth = options.extra['skipAuth'] == true;"},{"type":"DELETE","lineNumber":40,"oldContent":""},{"type":"DELETE","lineNumber":41,"oldContent":"            // Add Authorization header unless skipping"},{"type":"DELETE","lineNumber":42,"oldContent":"            if (!skipAuth) {"},{"type":"DELETE","lineNumber":43,"oldContent":"              try {"},{"type":"DELETE","lineNumber":44,"oldContent":"                final sharedPreferences = getIt<SharedPreferences>();"},{"type":"DELETE","lineNumber":45,"oldContent":"                final token = sharedPreferences.getString("},{"type":"DELETE","lineNumber":46,"oldContent":"                  AppConstants.accessTokenKey,"},{"type":"DELETE","lineNumber":47,"oldContent":"                );"},{"type":"DELETE","lineNumber":48,"oldContent":""},{"type":"DELETE","lineNumber":49,"oldContent":"                if (token != null && token.isNotEmpty) {"},{"type":"DELETE","lineNumber":50,"oldContent":"                  options.headers['Authorization'] = 'Bearer $token';"},{"type":"DELETE","lineNumber":51,"oldContent":"                  print(' Added auth token to request: ${options.path}');"},{"type":"INSERT","lineNumber":35,"content":"            options.headers['accept'] = 'text/plain';"},{"type":"INSERT","lineNumber":36,"content":"            "},{"type":"INSERT","lineNumber":37,"content":"            // Add Authorization header"},{"type":"INSERT","lineNumber":38,"content":"            try {"},{"type":"INSERT","lineNumber":39,"content":"              final sharedPreferences = getIt<SharedPreferences>();"},{"type":"INSERT","lineNumber":40,"content":"              final token = sharedPreferences.getString(AppConstants.accessTokenKey);"},{"type":"INSERT","lineNumber":41,"content":"              "},{"type":"INSERT","lineNumber":42,"content":"              if (token != null && token.isNotEmpty) {"},{"type":"INSERT","lineNumber":43,"content":"                options.headers['Authorization'] = 'Bearer $token';"},{"type":"INSERT","lineNumber":44,"content":"                print(' Added auth token to request: ${options.path}');"},{"type":"INSERT","lineNumber":45,"content":"              } else {"},{"type":"INSERT","lineNumber":46,"content":"                print(' No auth token found for request: ${options.path}');"},{"type":"DELETE","lineNumber":53,"oldContent":"                } else {"},{"type":"INSERT","lineNumber":48,"content":"            } catch (e) {"},{"type":"INSERT","lineNumber":49,"content":"              print(' Error adding auth header: $e');"},{"type":"DELETE","lineNumber":55,"oldContent":"                  print(' No auth token found for request: ${options.path}');"},{"type":"DELETE","lineNumber":56,"oldContent":""},{"type":"INSERT","lineNumber":51,"content":"            "},{"type":"DELETE","lineNumber":58,"oldContent":"                }"},{"type":"DELETE","lineNumber":59,"oldContent":"              } catch (e) {"},{"type":"INSERT","lineNumber":53,"content":"          },"},{"type":"DELETE","lineNumber":61,"oldContent":"                print(' Error adding auth header: $e');"},{"type":"DELETE","lineNumber":63,"oldContent":"            } else {"},{"type":"DELETE","lineNumber":66,"oldContent":"              print(' Skipping auth for request: ${options.path}');"},{"type":"DELETE","lineNumber":68,"oldContent":"          },"},{"type":"DELETE","lineNumber":71,"oldContent":"        ),"},{"type":"INSERT","lineNumber":62,"content":"        ),"}]},{"timestamp":1758456426477,"changes":[{"type":"DELETE","lineNumber":34,"oldContent":"            options.headers['accept'] = 'text/plain';"},{"type":"DELETE","lineNumber":36,"oldContent":"            "},{"type":"INSERT","lineNumber":35,"content":"            options.headers['accept'] = 'text/plain';"},{"type":"INSERT","lineNumber":36,"content":""},{"type":"DELETE","lineNumber":40,"oldContent":"              final token = sharedPreferences.getString(AppConstants.accessTokenKey);"},{"type":"DELETE","lineNumber":41,"oldContent":"              "},{"type":"DELETE","lineNumber":42,"oldContent":"              if (token != null && token.isNotEmpty) {"},{"type":"INSERT","lineNumber":40,"content":"              final token = sharedPreferences.getString("},{"type":"INSERT","lineNumber":41,"content":"                AppConstants.accessTokenKey,"},{"type":"INSERT","lineNumber":42,"content":"              );"},{"type":"INSERT","lineNumber":43,"content":""},{"type":"INSERT","lineNumber":44,"content":"              if (token != null &&"},{"type":"INSERT","lineNumber":45,"content":"                  token.isNotEmpty &&"},{"type":"INSERT","lineNumber":46,"content":"                  !_isPlaceholderToken(token)) {"},{"type":"DELETE","lineNumber":46,"oldContent":"                print(' No auth token found for request: ${options.path}');"},{"type":"INSERT","lineNumber":50,"content":"                print("},{"type":"INSERT","lineNumber":51,"content":"                  ' No valid auth token found for request: ${options.path}',"},{"type":"INSERT","lineNumber":52,"content":"                );"},{"type":"INSERT","lineNumber":53,"content":"                // For endpoints that require authentication, we should handle this"},{"type":"INSERT","lineNumber":54,"content":"                if (_requiresAuthentication(options.path)) {"},{"type":"INSERT","lineNumber":55,"content":"                  print("},{"type":"INSERT","lineNumber":56,"content":"                    ' Request requires authentication but no valid token available',"},{"type":"INSERT","lineNumber":57,"content":"                  );"},{"type":"INSERT","lineNumber":58,"content":"                }"},{"type":"INSERT","lineNumber":59,"content":"              }"},{"type":"DELETE","lineNumber":49,"oldContent":"            "},{"type":"DELETE","lineNumber":50,"oldContent":"              }"},{"type":"DELETE","lineNumber":51,"oldContent":"          },"},{"type":"INSERT","lineNumber":63,"content":""},{"type":"INSERT","lineNumber":65,"content":"          },"},{"type":"DELETE","lineNumber":55,"oldContent":"        ),"},{"type":"INSERT","lineNumber":74,"content":"        ),"},{"type":"INSERT","lineNumber":79,"content":""},{"type":"INSERT","lineNumber":80,"content":"  // Helper method to check if token is a placeholder"},{"type":"INSERT","lineNumber":81,"content":"  static bool _isPlaceholderToken(String token) {"},{"type":"INSERT","lineNumber":82,"content":"    const placeholderTokens = ["},{"type":"INSERT","lineNumber":83,"content":"      'otp_verified_token',"},{"type":"INSERT","lineNumber":84,"content":"      'google_token',"},{"type":"INSERT","lineNumber":85,"content":"      'password_reset_token',"},{"type":"INSERT","lineNumber":86,"content":"    ];"},{"type":"INSERT","lineNumber":87,"content":"    return placeholderTokens.contains(token);"},{"type":"INSERT","lineNumber":88,"content":"  }"},{"type":"INSERT","lineNumber":89,"content":""},{"type":"INSERT","lineNumber":90,"content":"  // Helper method to check if endpoint requires authentication"},{"type":"INSERT","lineNumber":91,"content":"  static bool _requiresAuthentication(String path) {"},{"type":"INSERT","lineNumber":92,"content":"    // List of endpoints that require authentication"},{"type":"INSERT","lineNumber":93,"content":"    const authenticatedEndpoints = ["},{"type":"INSERT","lineNumber":94,"content":"      'lookups/governates',"},{"type":"INSERT","lineNumber":95,"content":"      'lookups/property-types',"},{"type":"INSERT","lineNumber":96,"content":"      'lookups/property-features',"},{"type":"INSERT","lineNumber":97,"content":"      'properties/search-property',"},{"type":"INSERT","lineNumber":98,"content":"    ];"},{"type":"INSERT","lineNumber":99,"content":""},{"type":"INSERT","lineNumber":100,"content":"    return authenticatedEndpoints.any((endpoint) => path.contains(endpoint));"},{"type":"INSERT","lineNumber":101,"content":"  }"}]},{"timestamp":1758456576947,"changes":[{"type":"MODIFY","lineNumber":35,"content":"            options.headers['accept'] = 'text/plain';","oldContent":"            options.headers['accept'] = 'text/plain';"},{"type":"DELETE","lineNumber":44,"oldContent":"                options.headers['Authorization'] = 'Bearer $token';"},{"type":"DELETE","lineNumber":46,"oldContent":"                print(' Added auth token to request: ${options.path}');"},{"type":"DELETE","lineNumber":48,"oldContent":"              } else {"},{"type":"DELETE","lineNumber":50,"oldContent":"            } catch (e) {"},{"type":"DELETE","lineNumber":51,"oldContent":"              print(' Error adding auth header: $e');"},{"type":"INSERT","lineNumber":47,"content":"                options.headers['Authorization'] = 'Bearer $token';"},{"type":"INSERT","lineNumber":48,"content":"                print(' Added auth token to request: ${options.path}');"},{"type":"INSERT","lineNumber":49,"content":"              } else {"},{"type":"DELETE","lineNumber":55,"oldContent":"            }"},{"type":"DELETE","lineNumber":57,"oldContent":"            handler.next(options);"},{"type":"DELETE","lineNumber":59,"oldContent":"          onError: (error, handler) {"},{"type":"DELETE","lineNumber":62,"oldContent":"            print(' Dio error: ${error.message}');"},{"type":"DELETE","lineNumber":64,"oldContent":"            if (error.response != null) {"},{"type":"DELETE","lineNumber":66,"oldContent":"              print(' Response status: ${error.response?.statusCode}');"},{"type":"INSERT","lineNumber":60,"content":"            } catch (e) {"},{"type":"INSERT","lineNumber":61,"content":"              print(' Error adding auth header: $e');"},{"type":"INSERT","lineNumber":62,"content":"            }"},{"type":"INSERT","lineNumber":63,"content":""},{"type":"INSERT","lineNumber":64,"content":"            handler.next(options);"},{"type":"INSERT","lineNumber":65,"content":"          },"},{"type":"INSERT","lineNumber":66,"content":"          onError: (error, handler) {"},{"type":"INSERT","lineNumber":67,"content":"            print(' Dio error: ${error.message}');"},{"type":"INSERT","lineNumber":68,"content":"            if (error.response != null) {"},{"type":"INSERT","lineNumber":69,"content":"              print(' Response status: ${error.response?.statusCode}');"},{"type":"INSERT","lineNumber":71,"content":""},{"type":"INSERT","lineNumber":72,"content":"              // Handle 403 authentication errors"},{"type":"INSERT","lineNumber":73,"content":"              if (error.response?.statusCode == 403) {"},{"type":"INSERT","lineNumber":74,"content":"                _handleAuthenticationError();"},{"type":"INSERT","lineNumber":75,"content":"              }"},{"type":"DELETE","lineNumber":72,"oldContent":""},{"type":"INSERT","lineNumber":79,"content":"        ),"},{"type":"DELETE","lineNumber":75,"oldContent":"          },"},{"type":"DELETE","lineNumber":78,"oldContent":"}"},{"type":"DELETE","lineNumber":80,"oldContent":"  }"},{"type":"DELETE","lineNumber":81,"oldContent":"    return authenticatedEndpoints.any((endpoint) => path.contains(endpoint));"},{"type":"DELETE","lineNumber":82,"oldContent":""},{"type":"DELETE","lineNumber":83,"oldContent":"    ];"},{"type":"DELETE","lineNumber":84,"oldContent":"      'properties/search-property',"},{"type":"DELETE","lineNumber":85,"oldContent":"        ),"},{"type":"DELETE","lineNumber":86,"oldContent":"      'lookups/property-features',"},{"type":"DELETE","lineNumber":87,"oldContent":"      'lookups/property-types',"},{"type":"DELETE","lineNumber":88,"oldContent":"      'lookups/governates',"},{"type":"DELETE","lineNumber":89,"oldContent":"    const authenticatedEndpoints = ["},{"type":"DELETE","lineNumber":90,"oldContent":"    // List of endpoints that require authentication"},{"type":"DELETE","lineNumber":91,"oldContent":""},{"type":"DELETE","lineNumber":92,"oldContent":"  static bool _requiresAuthentication(String path) {"},{"type":"DELETE","lineNumber":94,"oldContent":"  // Helper method to check if endpoint requires authentication"},{"type":"DELETE","lineNumber":96,"oldContent":""},{"type":"DELETE","lineNumber":98,"oldContent":"  }"},{"type":"DELETE","lineNumber":100,"oldContent":"    return placeholderTokens.contains(token);"},{"type":"DELETE","lineNumber":102,"oldContent":"    ];"},{"type":"INSERT","lineNumber":91,"content":"    ];"},{"type":"INSERT","lineNumber":92,"content":"    return placeholderTokens.contains(token);"},{"type":"INSERT","lineNumber":93,"content":"  }"},{"type":"INSERT","lineNumber":94,"content":""},{"type":"INSERT","lineNumber":95,"content":"  // Helper method to check if endpoint requires authentication"},{"type":"INSERT","lineNumber":96,"content":"  static bool _requiresAuthentication(String path) {"},{"type":"INSERT","lineNumber":97,"content":"    // List of endpoints that require authentication"},{"type":"INSERT","lineNumber":98,"content":"    const authenticatedEndpoints = ["},{"type":"INSERT","lineNumber":99,"content":"      'lookups/governates',"},{"type":"INSERT","lineNumber":100,"content":"      'lookups/property-types',"},{"type":"INSERT","lineNumber":101,"content":"      'lookups/property-features',"},{"type":"INSERT","lineNumber":102,"content":"      'properties/search-property',"},{"type":"INSERT","lineNumber":103,"content":"    ];"},{"type":"INSERT","lineNumber":104,"content":""},{"type":"INSERT","lineNumber":105,"content":"    return authenticatedEndpoints.any((endpoint) => path.contains(endpoint));"},{"type":"INSERT","lineNumber":106,"content":"  }"},{"type":"INSERT","lineNumber":107,"content":"}"},{"type":"INSERT","lineNumber":108,"content":""}]},{"timestamp":1758456606971,"changes":[{"type":"INSERT","lineNumber":34,"content":"            options.headers['X-Requested-With'] = 'XMLHttpRequest';"},{"type":"DELETE","lineNumber":35,"oldContent":"            options.headers['accept'] = 'text/plain';"},{"type":"DELETE","lineNumber":45,"oldContent":"                options.headers['Authorization'] = 'Bearer $token';"},{"type":"INSERT","lineNumber":46,"content":"                  !_isPlaceholderToken(token)) {"},{"type":"INSERT","lineNumber":47,"content":"                options.headers['Authorization'] = 'Bearer $token';"},{"type":"DELETE","lineNumber":49,"oldContent":"                  !_isPlaceholderToken(token)) {"},{"type":"DELETE","lineNumber":55,"oldContent":"            } catch (e) {"},{"type":"MODIFY","lineNumber":57,"content":"                  );","oldContent":"              print(' Error adding auth header: $e');"},{"type":"INSERT","lineNumber":58,"content":"                }"},{"type":"INSERT","lineNumber":59,"content":"              }"},{"type":"INSERT","lineNumber":60,"content":"            } catch (e) {"},{"type":"INSERT","lineNumber":61,"content":"              print(' Error adding auth header: $e');"},{"type":"DELETE","lineNumber":61,"oldContent":"                  );"},{"type":"DELETE","lineNumber":64,"oldContent":"                }"},{"type":"DELETE","lineNumber":67,"oldContent":"              }"},{"type":"DELETE","lineNumber":69,"oldContent":"              print(' Response data: ${error.response?.data}');"},{"type":"DELETE","lineNumber":71,"oldContent":"            }"},{"type":"DELETE","lineNumber":72,"oldContent":"            handler.next(error);"},{"type":"INSERT","lineNumber":70,"content":"              print(' Response data: ${error.response?.data}');"},{"type":"DELETE","lineNumber":74,"oldContent":"          },"},{"type":"DELETE","lineNumber":77,"oldContent":"      );"},{"type":"DELETE","lineNumber":79,"oldContent":"    }"},{"type":"INSERT","lineNumber":76,"content":"            }"},{"type":"INSERT","lineNumber":77,"content":"            handler.next(error);"},{"type":"INSERT","lineNumber":78,"content":"          },"},{"type":"INSERT","lineNumber":79,"content":"        ),"},{"type":"INSERT","lineNumber":80,"content":"      );"},{"type":"INSERT","lineNumber":81,"content":"    }"},{"type":"DELETE","lineNumber":83,"oldContent":"        ),"},{"type":"INSERT","lineNumber":85,"content":"  // Helper method to check if token is a placeholder"},{"type":"INSERT","lineNumber":86,"content":"  static bool _isPlaceholderToken(String token) {"},{"type":"INSERT","lineNumber":87,"content":"    const placeholderTokens = ["},{"type":"INSERT","lineNumber":88,"content":"      'otp_verified_token',"},{"type":"INSERT","lineNumber":89,"content":"      'google_token',"},{"type":"INSERT","lineNumber":90,"content":"      'password_reset_token',"},{"type":"DELETE","lineNumber":88,"oldContent":"  // Helper method to check if token is a placeholder"},{"type":"DELETE","lineNumber":91,"oldContent":"  static bool _isPlaceholderToken(String token) {"},{"type":"DELETE","lineNumber":94,"oldContent":"    const placeholderTokens = ["},{"type":"DELETE","lineNumber":97,"oldContent":"      'otp_verified_token',"},{"type":"DELETE","lineNumber":100,"oldContent":"      'google_token',"},{"type":"DELETE","lineNumber":103,"oldContent":"      'password_reset_token',"},{"type":"DELETE","lineNumber":105,"oldContent":""},{"type":"MODIFY","lineNumber":107,"content":"","oldContent":"}"},{"type":"INSERT","lineNumber":108,"content":"  // Handle 403 authentication errors by clearing invalid tokens"},{"type":"INSERT","lineNumber":109,"content":"  static void _handleAuthenticationError() {"},{"type":"INSERT","lineNumber":110,"content":"    try {"},{"type":"INSERT","lineNumber":111,"content":"      final sharedPreferences = getIt<SharedPreferences>();"},{"type":"INSERT","lineNumber":112,"content":"      final token = sharedPreferences.getString(AppConstants.accessTokenKey);"},{"type":"INSERT","lineNumber":113,"content":""},{"type":"INSERT","lineNumber":114,"content":"      if (token != null && _isPlaceholderToken(token)) {"},{"type":"INSERT","lineNumber":115,"content":"        print(' Clearing invalid token due to 403 error: $token');"},{"type":"INSERT","lineNumber":116,"content":"        sharedPreferences.remove(AppConstants.accessTokenKey);"},{"type":"INSERT","lineNumber":117,"content":"        sharedPreferences.remove(AppConstants.refreshTokenKey);"},{"type":"INSERT","lineNumber":118,"content":"        sharedPreferences.remove(AppConstants.userDataKey);"},{"type":"INSERT","lineNumber":119,"content":"        sharedPreferences.remove(AppConstants.isLoggedInKey);"},{"type":"INSERT","lineNumber":120,"content":"      }"},{"type":"INSERT","lineNumber":121,"content":"    } catch (e) {"},{"type":"INSERT","lineNumber":122,"content":"      print(' Error handling authentication error: $e');"},{"type":"INSERT","lineNumber":123,"content":"    }"},{"type":"INSERT","lineNumber":124,"content":"  }"},{"type":"INSERT","lineNumber":125,"content":"}"},{"type":"INSERT","lineNumber":126,"content":""}]},{"timestamp":1758457152024,"changes":[{"type":"INSERT","lineNumber":44,"content":"              print("},{"type":"INSERT","lineNumber":45,"content":"                ' Debug - Token from storage: ${token?.substring(0, 20)}...',"},{"type":"INSERT","lineNumber":46,"content":"              );"},{"type":"INSERT","lineNumber":47,"content":"              print(' Debug - Request path: ${options.path}');"},{"type":"INSERT","lineNumber":48,"content":"              print("},{"type":"INSERT","lineNumber":49,"content":"                ' Debug - Is placeholder token: ${token != null ? _isPlaceholderToken(token) : 'null'}',"},{"type":"INSERT","lineNumber":50,"content":"              );"},{"type":"INSERT","lineNumber":51,"content":""},{"type":"DELETE","lineNumber":45,"oldContent":"                  !_isPlaceholderToken(token)) {"},{"type":"INSERT","lineNumber":54,"content":"                  !_isPlaceholderToken(token)) {"},{"type":"INSERT","lineNumber":57,"content":"                print(' Token preview: ${token.substring(0, 50)}...');"},{"type":"INSERT","lineNumber":62,"content":"                print(' Token value: $token');"},{"type":"INSERT","lineNumber":66,"content":"                    ' Request requires authentication but no valid token available',"},{"type":"DELETE","lineNumber":58,"oldContent":"                    ' Request requires authentication but no valid token available',"},{"type":"DELETE","lineNumber":60,"oldContent":"            }"},{"type":"DELETE","lineNumber":62,"oldContent":""},{"type":"INSERT","lineNumber":72,"content":"            }"},{"type":"INSERT","lineNumber":73,"content":""},{"type":"DELETE","lineNumber":69,"oldContent":"              print(' Response data: ${error.response?.data}');"},{"type":"INSERT","lineNumber":80,"content":"              print(' Response data: ${error.response?.data}');"},{"type":"DELETE","lineNumber":73,"oldContent":"            }"},{"type":"INSERT","lineNumber":84,"content":"                _handleAuthenticationError();"},{"type":"INSERT","lineNumber":85,"content":"              }"},{"type":"INSERT","lineNumber":86,"content":"            }"},{"type":"DELETE","lineNumber":77,"oldContent":"                _handleAuthenticationError();"},{"type":"DELETE","lineNumber":80,"oldContent":"              }"},{"type":"DELETE","lineNumber":86,"oldContent":"    ];"},{"type":"DELETE","lineNumber":88,"oldContent":"    return placeholderTokens.contains(token);"},{"type":"DELETE","lineNumber":90,"oldContent":"  }"},{"type":"DELETE","lineNumber":93,"oldContent":""},{"type":"INSERT","lineNumber":101,"content":"    ];"},{"type":"INSERT","lineNumber":102,"content":"    return placeholderTokens.contains(token);"},{"type":"INSERT","lineNumber":103,"content":"  }"},{"type":"INSERT","lineNumber":104,"content":""},{"type":"INSERT","lineNumber":116,"content":"  }"},{"type":"DELETE","lineNumber":108,"oldContent":"  }"},{"type":"DELETE","lineNumber":110,"oldContent":""},{"type":"DELETE","lineNumber":112,"oldContent":"}"},{"type":"DELETE","lineNumber":114,"oldContent":"  }"},{"type":"DELETE","lineNumber":116,"oldContent":"    }"},{"type":"DELETE","lineNumber":118,"oldContent":"      print(' Error handling authentication error: $e');"},{"type":"DELETE","lineNumber":120,"oldContent":"    } catch (e) {"},{"type":"DELETE","lineNumber":122,"oldContent":"      }"},{"type":"DELETE","lineNumber":124,"oldContent":"        sharedPreferences.remove(AppConstants.isLoggedInKey);"},{"type":"INSERT","lineNumber":129,"content":"        sharedPreferences.remove(AppConstants.isLoggedInKey);"},{"type":"INSERT","lineNumber":130,"content":"      }"},{"type":"INSERT","lineNumber":131,"content":"    } catch (e) {"},{"type":"INSERT","lineNumber":132,"content":"      print(' Error handling authentication error: $e');"},{"type":"INSERT","lineNumber":133,"content":"    }"},{"type":"INSERT","lineNumber":134,"content":"  }"},{"type":"INSERT","lineNumber":135,"content":"}"},{"type":"INSERT","lineNumber":136,"content":""}]},{"timestamp":1758459916634,"changes":[{"type":"DELETE","lineNumber":45,"oldContent":"              if (token != null &&"},{"type":"DELETE","lineNumber":48,"oldContent":"                  token.isNotEmpty &&"},{"type":"DELETE","lineNumber":50,"oldContent":"                options.headers['Authorization'] = 'Bearer $token';"},{"type":"DELETE","lineNumber":52,"oldContent":"                print(' Added auth token to request: ${options.path}');"},{"type":"DELETE","lineNumber":54,"oldContent":"              } else {"},{"type":"DELETE","lineNumber":56,"oldContent":"                print("},{"type":"INSERT","lineNumber":52,"content":"              if (token != null &&"},{"type":"INSERT","lineNumber":53,"content":"                  token.isNotEmpty &&"},{"type":"INSERT","lineNumber":54,"content":"                  !_isPlaceholderToken(token)) {"},{"type":"INSERT","lineNumber":55,"content":"                options.headers['Authorization'] = 'Bearer $token';"},{"type":"INSERT","lineNumber":56,"content":"                print(' Added auth token to request: ${options.path}');"},{"type":"INSERT","lineNumber":57,"content":"                print(' Token preview: ${token.substring(0, 50)}...');"},{"type":"INSERT","lineNumber":58,"content":"              } else {"},{"type":"INSERT","lineNumber":59,"content":"                print("},{"type":"INSERT","lineNumber":62,"content":"                print(' Token value: $token');"},{"type":"DELETE","lineNumber":61,"oldContent":"                  !_isPlaceholderToken(token)) {"},{"type":"INSERT","lineNumber":66,"content":"                    ' Request requires authentication but no valid token available',"},{"type":"DELETE","lineNumber":65,"oldContent":"                print(' Token preview: ${token.substring(0, 50)}...');"},{"type":"DELETE","lineNumber":69,"oldContent":"                print(' Token value: $token');"},{"type":"INSERT","lineNumber":72,"content":"            }"},{"type":"INSERT","lineNumber":73,"content":""},{"type":"DELETE","lineNumber":73,"oldContent":"                    ' Request requires authentication but no valid token available',"},{"type":"INSERT","lineNumber":80,"content":"              print(' Response data: ${error.response?.data}');"},{"type":"DELETE","lineNumber":79,"oldContent":"            }"},{"type":"DELETE","lineNumber":81,"oldContent":""},{"type":"INSERT","lineNumber":84,"content":"                _handleAuthenticationError();"},{"type":"INSERT","lineNumber":85,"content":"              }"},{"type":"INSERT","lineNumber":86,"content":"            }"},{"type":"DELETE","lineNumber":87,"oldContent":"              print(' Response data: ${error.response?.data}');"},{"type":"DELETE","lineNumber":91,"oldContent":"                _handleAuthenticationError();"},{"type":"DELETE","lineNumber":93,"oldContent":"              }"},{"type":"DELETE","lineNumber":95,"oldContent":"            }"},{"type":"INSERT","lineNumber":101,"content":"    ];"},{"type":"INSERT","lineNumber":102,"content":"    return placeholderTokens.contains(token);"},{"type":"INSERT","lineNumber":103,"content":"  }"},{"type":"INSERT","lineNumber":104,"content":""},{"type":"DELETE","lineNumber":105,"oldContent":"      'lookups/governates',"},{"type":"DELETE","lineNumber":106,"oldContent":"      'lookups/property-types',"},{"type":"DELETE","lineNumber":107,"oldContent":"    ];"},{"type":"DELETE","lineNumber":108,"oldContent":"      'lookups/property-features',"},{"type":"DELETE","lineNumber":109,"oldContent":"    return placeholderTokens.contains(token);"},{"type":"DELETE","lineNumber":111,"oldContent":"  }"},{"type":"INSERT","lineNumber":110,"content":"      // Temporarily removing lookup endpoints to test if they should be public"},{"type":"INSERT","lineNumber":111,"content":"      // 'lookups/governates',"},{"type":"INSERT","lineNumber":112,"content":"      // 'lookups/property-types',"},{"type":"INSERT","lineNumber":113,"content":"      // 'lookups/property-features',"},{"type":"DELETE","lineNumber":114,"oldContent":""},{"type":"INSERT","lineNumber":117,"content":"  }"},{"type":"DELETE","lineNumber":122,"oldContent":"  }"},{"type":"DELETE","lineNumber":129,"oldContent":""},{"type":"DELETE","lineNumber":130,"oldContent":"}"},{"type":"DELETE","lineNumber":132,"oldContent":"  }"},{"type":"MODIFY","lineNumber":134,"content":"    }","oldContent":"    }"},{"type":"INSERT","lineNumber":135,"content":"  }"},{"type":"INSERT","lineNumber":136,"content":"}"},{"type":"INSERT","lineNumber":137,"content":""}]},{"timestamp":1758459946656,"changes":[{"type":"DELETE","lineNumber":49,"oldContent":"              if (token != null &&"},{"type":"MODIFY","lineNumber":50,"content":"              );","oldContent":"                  token.isNotEmpty &&"},{"type":"INSERT","lineNumber":51,"content":""},{"type":"INSERT","lineNumber":52,"content":"              // Check if this is a lookup endpoint that might be public"},{"type":"INSERT","lineNumber":53,"content":"              bool isLookupEndpoint = options.path.contains('lookups/');"},{"type":"INSERT","lineNumber":54,"content":""},{"type":"INSERT","lineNumber":55,"content":"              if (isLookupEndpoint) {"},{"type":"INSERT","lineNumber":56,"content":"                print("},{"type":"INSERT","lineNumber":57,"content":"                  ' Lookup endpoint detected, testing without auth: ${options.path}',"},{"type":"INSERT","lineNumber":58,"content":"                );"},{"type":"INSERT","lineNumber":59,"content":"                // Don't add auth header for lookup endpoints to test if they're public"},{"type":"INSERT","lineNumber":60,"content":"              } else if (token != null &&"},{"type":"INSERT","lineNumber":61,"content":"                  token.isNotEmpty &&"},{"type":"DELETE","lineNumber":54,"oldContent":"              );"},{"type":"DELETE","lineNumber":57,"oldContent":""},{"type":"DELETE","lineNumber":59,"oldContent":"                  ' No valid auth token found for request: ${options.path}',"},{"type":"INSERT","lineNumber":68,"content":"                  ' No valid auth token found for request: ${options.path}',"},{"type":"DELETE","lineNumber":62,"oldContent":"                // For endpoints that require authentication, we should handle this"},{"type":"INSERT","lineNumber":71,"content":"                // For endpoints that require authentication, we should handle this"},{"type":"DELETE","lineNumber":66,"oldContent":"                  );"},{"type":"INSERT","lineNumber":75,"content":"                  );"},{"type":"DELETE","lineNumber":72,"oldContent":"            handler.next(options);"},{"type":"DELETE","lineNumber":74,"oldContent":"          },"},{"type":"INSERT","lineNumber":82,"content":"            handler.next(options);"},{"type":"INSERT","lineNumber":83,"content":"          },"},{"type":"DELETE","lineNumber":80,"oldContent":""},{"type":"INSERT","lineNumber":89,"content":""},{"type":"DELETE","lineNumber":84,"oldContent":"            handler.next(error);"},{"type":"DELETE","lineNumber":86,"oldContent":"          },"},{"type":"DELETE","lineNumber":88,"oldContent":"        ),"},{"type":"INSERT","lineNumber":95,"content":"            handler.next(error);"},{"type":"INSERT","lineNumber":96,"content":"          },"},{"type":"INSERT","lineNumber":97,"content":"        ),"},{"type":"DELETE","lineNumber":102,"oldContent":"  // Helper method to check if endpoint requires authentication"},{"type":"DELETE","lineNumber":104,"oldContent":"  static bool _requiresAuthentication(String path) {"},{"type":"DELETE","lineNumber":106,"oldContent":"    // List of endpoints that require authentication"},{"type":"INSERT","lineNumber":113,"content":"  // Helper method to check if endpoint requires authentication"},{"type":"INSERT","lineNumber":114,"content":"  static bool _requiresAuthentication(String path) {"},{"type":"INSERT","lineNumber":115,"content":"    // List of endpoints that require authentication"},{"type":"DELETE","lineNumber":109,"oldContent":"      // Temporarily removing lookup endpoints to test if they should be public"},{"type":"INSERT","lineNumber":118,"content":"      // Temporarily removing lookup endpoints to test if they should be public"},{"type":"DELETE","lineNumber":113,"oldContent":"    ];"},{"type":"INSERT","lineNumber":122,"content":"    ];"},{"type":"DELETE","lineNumber":117,"oldContent":""},{"type":"INSERT","lineNumber":126,"content":""},{"type":"INSERT","lineNumber":140,"content":"    } catch (e) {"},{"type":"INSERT","lineNumber":141,"content":"      print(' Error handling authentication error: $e');"},{"type":"DELETE","lineNumber":134,"oldContent":"    } catch (e) {"},{"type":"DELETE","lineNumber":136,"oldContent":"      print(' Error handling authentication error: $e');"}]},{"timestamp":1758461060404,"changes":[{"type":"INSERT","lineNumber":49,"content":"                ' Debug - Is placeholder token: ${token != null ? _isPlaceholderToken(token) : 'null'}',"},{"type":"DELETE","lineNumber":51,"oldContent":"                ' Debug - Is placeholder token: ${token != null ? _isPlaceholderToken(token) : 'null'}',"},{"type":"MODIFY","lineNumber":52,"content":"              if (token != null &&","oldContent":"              // Check if this is a lookup endpoint that might be public"},{"type":"INSERT","lineNumber":53,"content":"                  token.isNotEmpty &&"},{"type":"DELETE","lineNumber":54,"oldContent":"              bool isLookupEndpoint = options.path.contains('lookups/');"},{"type":"DELETE","lineNumber":56,"oldContent":""},{"type":"DELETE","lineNumber":57,"oldContent":"              if (isLookupEndpoint) {"},{"type":"DELETE","lineNumber":59,"oldContent":"                print("},{"type":"DELETE","lineNumber":61,"oldContent":"                  ' Lookup endpoint detected, testing without auth: ${options.path}',"},{"type":"DELETE","lineNumber":62,"oldContent":"                );"},{"type":"DELETE","lineNumber":64,"oldContent":"                // Don't add auth header for lookup endpoints to test if they're public"},{"type":"DELETE","lineNumber":65,"oldContent":"              } else if (token != null &&"},{"type":"DELETE","lineNumber":67,"oldContent":"                  token.isNotEmpty &&"},{"type":"INSERT","lineNumber":60,"content":"                  ' No valid auth token found for request: ${options.path}',"},{"type":"INSERT","lineNumber":63,"content":"                // For endpoints that require authentication, we should handle this"},{"type":"DELETE","lineNumber":73,"oldContent":"                  ' No valid auth token found for request: ${options.path}',"},{"type":"INSERT","lineNumber":67,"content":"                  );"},{"type":"DELETE","lineNumber":77,"oldContent":"                // For endpoints that require authentication, we should handle this"},{"type":"DELETE","lineNumber":80,"oldContent":"                  );"},{"type":"INSERT","lineNumber":74,"content":"            handler.next(options);"},{"type":"INSERT","lineNumber":75,"content":"          },"},{"type":"DELETE","lineNumber":87,"oldContent":"            handler.next(options);"},{"type":"INSERT","lineNumber":81,"content":""},{"type":"DELETE","lineNumber":89,"oldContent":"          },"},{"type":"DELETE","lineNumber":93,"oldContent":""},{"type":"INSERT","lineNumber":87,"content":"            handler.next(error);"},{"type":"INSERT","lineNumber":88,"content":"          },"},{"type":"INSERT","lineNumber":89,"content":"        ),"},{"type":"DELETE","lineNumber":100,"oldContent":"            handler.next(error);"},{"type":"DELETE","lineNumber":102,"oldContent":"          },"},{"type":"DELETE","lineNumber":104,"oldContent":"        ),"},{"type":"INSERT","lineNumber":105,"content":"  // Helper method to check if endpoint requires authentication"},{"type":"INSERT","lineNumber":106,"content":"  static bool _requiresAuthentication(String path) {"},{"type":"INSERT","lineNumber":107,"content":"    // List of endpoints that require authentication"},{"type":"INSERT","lineNumber":110,"content":"      // Temporarily removing lookup endpoints to test if they should be public"},{"type":"DELETE","lineNumber":117,"oldContent":"  // Helper method to check if endpoint requires authentication"},{"type":"DELETE","lineNumber":118,"oldContent":"  static bool _requiresAuthentication(String path) {"},{"type":"DELETE","lineNumber":120,"oldContent":"    // List of endpoints that require authentication"},{"type":"INSERT","lineNumber":114,"content":"    ];"},{"type":"DELETE","lineNumber":123,"oldContent":"      // Temporarily removing lookup endpoints to test if they should be public"},{"type":"INSERT","lineNumber":118,"content":""},{"type":"DELETE","lineNumber":128,"oldContent":"    ];"},{"type":"DELETE","lineNumber":133,"oldContent":""},{"type":"INSERT","lineNumber":132,"content":"    } catch (e) {"},{"type":"INSERT","lineNumber":133,"content":"      print(' Error handling authentication error: $e');"},{"type":"DELETE","lineNumber":144,"oldContent":"      print(' Error handling authentication error: $e');"},{"type":"DELETE","lineNumber":145,"oldContent":"    } catch (e) {"}]},{"timestamp":1758461075418,"changes":[{"type":"DELETE","lineNumber":57,"oldContent":"                  ' No valid auth token found for request: ${options.path}',"},{"type":"DELETE","lineNumber":59,"oldContent":"                // For endpoints that require authentication, we should handle this"},{"type":"DELETE","lineNumber":62,"oldContent":"                  );"},{"type":"INSERT","lineNumber":60,"content":"                  ' No valid auth token found for request: ${options.path}',"},{"type":"INSERT","lineNumber":63,"content":"                // For endpoints that require authentication, we should handle this"},{"type":"DELETE","lineNumber":68,"oldContent":"            handler.next(options);"},{"type":"INSERT","lineNumber":67,"content":"                  );"},{"type":"DELETE","lineNumber":70,"oldContent":"          },"},{"type":"DELETE","lineNumber":76,"oldContent":""},{"type":"INSERT","lineNumber":74,"content":"            handler.next(options);"},{"type":"INSERT","lineNumber":75,"content":"          },"},{"type":"DELETE","lineNumber":82,"oldContent":"            handler.next(error);"},{"type":"DELETE","lineNumber":83,"oldContent":"          },"},{"type":"DELETE","lineNumber":84,"oldContent":"              // Handle 403 authentication errors"},{"type":"DELETE","lineNumber":85,"oldContent":"        ),"},{"type":"INSERT","lineNumber":81,"content":""},{"type":"INSERT","lineNumber":82,"content":"              // Handle authentication and authorization errors"},{"type":"INSERT","lineNumber":84,"content":"                print("},{"type":"INSERT","lineNumber":85,"content":"                  ' 403 Forbidden: User lacks permissions for ${error.requestOptions.path}',"},{"type":"INSERT","lineNumber":86,"content":"                );"},{"type":"INSERT","lineNumber":87,"content":"                print(' This indicates a server-side permission issue');"},{"type":"INSERT","lineNumber":88,"content":"                print("},{"type":"INSERT","lineNumber":89,"content":"                  ' The user account may need additional roles or permissions',"},{"type":"INSERT","lineNumber":90,"content":"                );"},{"type":"INSERT","lineNumber":92,"content":"              } else if (error.response?.statusCode == 401) {"},{"type":"INSERT","lineNumber":93,"content":"                print("},{"type":"INSERT","lineNumber":94,"content":"                  ' 401 Unauthorized: Authentication required for ${error.requestOptions.path}',"},{"type":"INSERT","lineNumber":95,"content":"                );"},{"type":"INSERT","lineNumber":96,"content":"                _handleAuthenticationError();"},{"type":"INSERT","lineNumber":99,"content":"            handler.next(error);"},{"type":"INSERT","lineNumber":100,"content":"          },"},{"type":"INSERT","lineNumber":101,"content":"        ),"},{"type":"DELETE","lineNumber":97,"oldContent":"  // Helper method to check if endpoint requires authentication"},{"type":"DELETE","lineNumber":99,"oldContent":"  static bool _requiresAuthentication(String path) {"},{"type":"DELETE","lineNumber":101,"oldContent":"    // List of endpoints that require authentication"},{"type":"DELETE","lineNumber":105,"oldContent":"      // Temporarily removing lookup endpoints to test if they should be public"},{"type":"INSERT","lineNumber":117,"content":"  // Helper method to check if endpoint requires authentication"},{"type":"INSERT","lineNumber":118,"content":"  static bool _requiresAuthentication(String path) {"},{"type":"INSERT","lineNumber":119,"content":"    // List of endpoints that require authentication"},{"type":"DELETE","lineNumber":110,"oldContent":"    ];"},{"type":"INSERT","lineNumber":121,"content":"      'lookups/governates',"},{"type":"INSERT","lineNumber":122,"content":"      'lookups/property-types',"},{"type":"INSERT","lineNumber":123,"content":"      'lookups/property-features',"},{"type":"DELETE","lineNumber":112,"oldContent":"      // 'lookups/governates',"},{"type":"DELETE","lineNumber":113,"oldContent":"      // 'lookups/property-types',"},{"type":"INSERT","lineNumber":125,"content":"    ];"},{"type":"DELETE","lineNumber":115,"oldContent":"      // 'lookups/property-features',"},{"type":"DELETE","lineNumber":116,"oldContent":""},{"type":"INSERT","lineNumber":129,"content":""},{"type":"DELETE","lineNumber":125,"oldContent":"    } catch (e) {"},{"type":"DELETE","lineNumber":127,"oldContent":"      print(' Error handling authentication error: $e');"},{"type":"INSERT","lineNumber":143,"content":"    } catch (e) {"},{"type":"INSERT","lineNumber":144,"content":"      print(' Error handling authentication error: $e');"}]},{"timestamp":1758461090430,"changes":[{"type":"DELETE","lineNumber":58,"oldContent":"                  ' No valid auth token found for request: ${options.path}',"},{"type":"DELETE","lineNumber":61,"oldContent":"                // For endpoints that require authentication, we should handle this"},{"type":"INSERT","lineNumber":60,"content":"                  ' No valid auth token found for request: ${options.path}',"},{"type":"INSERT","lineNumber":63,"content":"                // For endpoints that require authentication, we should handle this"},{"type":"MODIFY","lineNumber":67,"content":"                  );","oldContent":"                  );"},{"type":"DELETE","lineNumber":72,"oldContent":"            handler.next(options);"},{"type":"MODIFY","lineNumber":74,"content":"            handler.next(options);","oldContent":"          },"},{"type":"INSERT","lineNumber":75,"content":"          },"},{"type":"MODIFY","lineNumber":81,"content":"","oldContent":""},{"type":"INSERT","lineNumber":83,"content":"              if (error.response?.statusCode == 403) {"},{"type":"DELETE","lineNumber":86,"oldContent":"              if (error.response?.statusCode == 403) {"},{"type":"INSERT","lineNumber":88,"content":"                print("},{"type":"INSERT","lineNumber":89,"content":"                  ' The user account may need additional roles or permissions',"},{"type":"INSERT","lineNumber":90,"content":"                );"},{"type":"INSERT","lineNumber":92,"content":"              } else if (error.response?.statusCode == 401) {"},{"type":"INSERT","lineNumber":94,"content":"                  ' 401 Unauthorized: Authentication required for ${error.requestOptions.path}',"},{"type":"INSERT","lineNumber":95,"content":"                );"},{"type":"INSERT","lineNumber":96,"content":"                _handleAuthenticationError();"},{"type":"DELETE","lineNumber":91,"oldContent":"                  ' The user account may need additional roles or permissions',"},{"type":"DELETE","lineNumber":93,"oldContent":"                );"},{"type":"INSERT","lineNumber":99,"content":"            handler.next(error);"},{"type":"INSERT","lineNumber":100,"content":"          },"},{"type":"INSERT","lineNumber":101,"content":"        ),"},{"type":"DELETE","lineNumber":96,"oldContent":"              } else if (error.response?.statusCode == 401) {"},{"type":"DELETE","lineNumber":98,"oldContent":"                print("},{"type":"DELETE","lineNumber":100,"oldContent":"                  ' 401 Unauthorized: Authentication required for ${error.requestOptions.path}',"},{"type":"DELETE","lineNumber":102,"oldContent":"                );"},{"type":"DELETE","lineNumber":104,"oldContent":"                _handleAuthenticationError();"},{"type":"DELETE","lineNumber":107,"oldContent":"            handler.next(error);"},{"type":"DELETE","lineNumber":108,"oldContent":"          },"},{"type":"DELETE","lineNumber":110,"oldContent":"        ),"},{"type":"INSERT","lineNumber":117,"content":"  // Helper method to check if endpoint requires authentication"},{"type":"INSERT","lineNumber":118,"content":"  static bool _requiresAuthentication(String path) {"},{"type":"INSERT","lineNumber":119,"content":"    // List of endpoints that require authentication"},{"type":"INSERT","lineNumber":121,"content":"      'lookups/governates',"},{"type":"INSERT","lineNumber":122,"content":"      'lookups/property-types',"},{"type":"INSERT","lineNumber":123,"content":"      'lookups/property-features',"},{"type":"INSERT","lineNumber":125,"content":"    ];"},{"type":"DELETE","lineNumber":120,"oldContent":"  // Helper method to check if endpoint requires authentication"},{"type":"DELETE","lineNumber":122,"oldContent":"  static bool _requiresAuthentication(String path) {"},{"type":"DELETE","lineNumber":124,"oldContent":"    // List of endpoints that require authentication"},{"type":"DELETE","lineNumber":125,"oldContent":"  // Handle 403 authentication errors by clearing invalid tokens"},{"type":"INSERT","lineNumber":129,"content":""},{"type":"INSERT","lineNumber":130,"content":"  // Handle authentication errors by clearing invalid tokens"},{"type":"DELETE","lineNumber":127,"oldContent":"      'lookups/governates',"},{"type":"DELETE","lineNumber":129,"oldContent":"      'lookups/property-types',"},{"type":"DELETE","lineNumber":131,"oldContent":"      'lookups/property-features',"},{"type":"DELETE","lineNumber":134,"oldContent":"    ];"},{"type":"DELETE","lineNumber":136,"oldContent":"        print(' Clearing invalid token due to 403 error: $token');"},{"type":"MODIFY","lineNumber":137,"content":"        print(' Clearing invalid placeholder token: $token');","oldContent":""},{"type":"INSERT","lineNumber":142,"content":"      } else if (token != null) {"},{"type":"INSERT","lineNumber":143,"content":"        print("},{"type":"INSERT","lineNumber":144,"content":"          ' Valid JWT token found, not clearing. Permission issue is server-side.',"},{"type":"INSERT","lineNumber":145,"content":"        );"},{"type":"INSERT","lineNumber":146,"content":"        print(' Token preview: ${token.substring(0, 20)}...');"},{"type":"INSERT","lineNumber":148,"content":"    } catch (e) {"},{"type":"INSERT","lineNumber":149,"content":"      print(' Error handling authentication error: $e');"},{"type":"DELETE","lineNumber":147,"oldContent":"      print(' Error handling authentication error: $e');"},{"type":"DELETE","lineNumber":148,"oldContent":"    } catch (e) {"}]},{"timestamp":1758461105447,"changes":[{"type":"DELETE","lineNumber":44,"oldContent":"              print("},{"type":"DELETE","lineNumber":45,"oldContent":"                ' Debug - Token from storage: ${token?.substring(0, 20)}...',"},{"type":"DELETE","lineNumber":46,"oldContent":"              );"},{"type":"DELETE","lineNumber":47,"oldContent":"              print(' Debug - Request path: ${options.path}');"},{"type":"DELETE","lineNumber":48,"oldContent":"              print("},{"type":"DELETE","lineNumber":49,"oldContent":"                ' Debug - Is placeholder token: ${token != null ? _isPlaceholderToken(token) : 'null'}',"},{"type":"DELETE","lineNumber":50,"oldContent":"              );"},{"type":"INSERT","lineNumber":44,"content":"              // Debug logging (can be removed in production)"},{"type":"INSERT","lineNumber":45,"content":"              if (kDebugMode) {"},{"type":"INSERT","lineNumber":46,"content":"                print(' Request: ${options.path}');"},{"type":"INSERT","lineNumber":47,"content":"                if (token != null) {"},{"type":"INSERT","lineNumber":48,"content":"                  print("},{"type":"INSERT","lineNumber":49,"content":"                    ' Token: ${_isPlaceholderToken(token) ? 'PLACEHOLDER' : 'JWT'}',"},{"type":"INSERT","lineNumber":50,"content":"                  );"},{"type":"INSERT","lineNumber":51,"content":"                }"},{"type":"INSERT","lineNumber":52,"content":"              }"},{"type":"DELETE","lineNumber":56,"oldContent":"                print(' Added auth token to request: ${options.path}');"},{"type":"DELETE","lineNumber":57,"oldContent":"                print(' Token preview: ${token.substring(0, 50)}...');"},{"type":"INSERT","lineNumber":58,"content":"                if (kDebugMode) {"},{"type":"INSERT","lineNumber":59,"content":"                  print(' Auth header added for: ${options.path}');"},{"type":"INSERT","lineNumber":60,"content":"                }"},{"type":"DELETE","lineNumber":59,"oldContent":"                  ' No valid auth token found for request: ${options.path}',"},{"type":"INSERT","lineNumber":63,"content":"                  ' No valid auth token found for request: ${options.path}',"},{"type":"DELETE","lineNumber":62,"oldContent":"                // For endpoints that require authentication, we should handle this"},{"type":"INSERT","lineNumber":66,"content":"                // For endpoints that require authentication, we should handle this"},{"type":"INSERT","lineNumber":69,"content":"                    ' Request requires authentication but no valid token available',"},{"type":"DELETE","lineNumber":67,"oldContent":"                  );"},{"type":"INSERT","lineNumber":76,"content":""},{"type":"DELETE","lineNumber":75,"oldContent":""},{"type":"INSERT","lineNumber":83,"content":"              print(' Response data: ${error.response?.data}');"},{"type":"DELETE","lineNumber":81,"oldContent":""},{"type":"DELETE","lineNumber":89,"oldContent":"                _handleAuthenticationError();"},{"type":"DELETE","lineNumber":91,"oldContent":"                print("},{"type":"DELETE","lineNumber":93,"oldContent":"              }"},{"type":"INSERT","lineNumber":94,"content":"                _handleAuthenticationError();"},{"type":"DELETE","lineNumber":95,"oldContent":"            }"},{"type":"INSERT","lineNumber":96,"content":"                print("},{"type":"DELETE","lineNumber":97,"oldContent":"      );"},{"type":"DELETE","lineNumber":99,"oldContent":"    }"},{"type":"DELETE","lineNumber":101,"oldContent":"    return _dio!;"},{"type":"INSERT","lineNumber":100,"content":"              }"},{"type":"INSERT","lineNumber":101,"content":"            }"},{"type":"DELETE","lineNumber":103,"oldContent":"  }"},{"type":"INSERT","lineNumber":105,"content":"      );"},{"type":"INSERT","lineNumber":106,"content":"    }"},{"type":"INSERT","lineNumber":107,"content":"    return _dio!;"},{"type":"INSERT","lineNumber":108,"content":"  }"},{"type":"DELETE","lineNumber":118,"oldContent":"    const authenticatedEndpoints = ["},{"type":"DELETE","lineNumber":120,"oldContent":"      'properties/search-property',"},{"type":"DELETE","lineNumber":122,"oldContent":""},{"type":"INSERT","lineNumber":123,"content":"    const authenticatedEndpoints = ["},{"type":"DELETE","lineNumber":124,"oldContent":"    return authenticatedEndpoints.any((endpoint) => path.contains(endpoint));"},{"type":"MODIFY","lineNumber":127,"content":"      'properties/search-property',","oldContent":"  }"},{"type":"DELETE","lineNumber":129,"oldContent":"  static void _handleAuthenticationError() {"},{"type":"MODIFY","lineNumber":130,"content":"    return authenticatedEndpoints.any((endpoint) => path.contains(endpoint));","oldContent":"    try {"},{"type":"INSERT","lineNumber":131,"content":"  }"},{"type":"INSERT","lineNumber":132,"content":""},{"type":"INSERT","lineNumber":134,"content":"  static void _handleAuthenticationError() {"},{"type":"INSERT","lineNumber":135,"content":"    try {"},{"type":"DELETE","lineNumber":143,"oldContent":"      }"},{"type":"DELETE","lineNumber":145,"oldContent":"    }"},{"type":"DELETE","lineNumber":147,"oldContent":"  }"},{"type":"DELETE","lineNumber":149,"oldContent":"}"},{"type":"DELETE","lineNumber":151,"oldContent":""},{"type":"INSERT","lineNumber":150,"content":"      }"},{"type":"INSERT","lineNumber":153,"content":"    }"},{"type":"INSERT","lineNumber":154,"content":"  }"},{"type":"INSERT","lineNumber":155,"content":"}"},{"type":"INSERT","lineNumber":156,"content":""}]}]},"D:/flutter projects/ahlanfeekum/lib/features/rent_create/data/models/create_property_request.dart":{"filePath":"D:/flutter projects/ahlanfeekum/lib/features/rent_create/data/models/create_property_request.dart","baseContent":"import 'package:json_annotation/json_annotation.dart';\n\npart 'create_property_request.g.dart';\n\n@JsonSerializable()\nclass CreatePropertyStepOneRequest {\n  final String propertyTitle;\n  final String? hotelName;\n  final int bedrooms;\n  final int bathrooms;\n  final int numberOfBed;\n  final int floor;\n  final int maximumNumberOfGuest;\n  final int livingrooms;\n  final String propertyDescription;\n  final String hourseRules;\n  final String importantInformation;\n  final String address;\n  final String streetAndBuildingNumber;\n  final String landMark;\n  final double pricePerNight;\n  final bool isActive;\n  final String propertyTypeId;\n  final String governorateId;\n  final List<String> propertyFeatureIds;\n\n  const CreatePropertyStepOneRequest({\n    required this.propertyTitle,\n    this.hotelName,\n    required this.bedrooms,\n    required this.bathrooms,\n    required this.numberOfBed,\n    required this.floor,\n    required this.maximumNumberOfGuest,\n    required this.livingrooms,\n    required this.propertyDescription,\n    required this.hourseRules,\n    required this.importantInformation,\n    required this.address,\n    required this.streetAndBuildingNumber,\n    required this.landMark,\n    required this.pricePerNight,\n    this.isActive = true,\n    required this.propertyTypeId,\n    required this.governorateId,\n    required this.propertyFeatureIds,\n  });\n\n  factory CreatePropertyStepOneRequest.fromJson(Map<String, dynamic> json) =>\n      _$CreatePropertyStepOneRequestFromJson(json);\n\n  Map<String, dynamic> toJson() => _$CreatePropertyStepOneRequestToJson(this);\n}\n\n@JsonSerializable()\nclass CreatePropertyStepTwoRequest {\n  final String id;\n  final String address;\n  final String streetAndBuildingNumber;\n  final String landMark;\n\n  const CreatePropertyStepTwoRequest({\n    required this.id,\n    required this.address,\n    required this.streetAndBuildingNumber,\n    required this.landMark,\n  });\n\n  factory CreatePropertyStepTwoRequest.fromJson(Map<String, dynamic> json) =>\n      _$CreatePropertyStepTwoRequestFromJson(json);\n\n  Map<String, dynamic> toJson() => _$CreatePropertyStepTwoRequestToJson(this);\n}\n\n@JsonSerializable()\nclass PropertyAvailability {\n  final String propertyId;\n  final String date;\n  final bool isAvailable;\n  final double price;\n  final String note;\n\n  const PropertyAvailability({\n    required this.propertyId,\n    required this.date,\n    required this.isAvailable,\n    required this.price,\n    required this.note,\n  });\n\n  factory PropertyAvailability.fromJson(Map<String, dynamic> json) =>\n      _$PropertyAvailabilityFromJson(json);\n\n  Map<String, dynamic> toJson() => _$PropertyAvailabilityToJson(this);\n}\n\n@JsonSerializable()\nclass PropertyMediaUpload {\n  final String propertyId;\n  final String image;\n  final int order;\n  final bool isActive;\n\n  const PropertyMediaUpload({\n    required this.propertyId,\n    required this.image,\n    required this.order,\n    this.isActive = true,\n  });\n\n  factory PropertyMediaUpload.fromJson(Map<String, dynamic> json) =>\n      _$PropertyMediaUploadFromJson(json);\n\n  Map<String, dynamic> toJson() => _$PropertyMediaUploadToJson(this);\n}\n\n@JsonSerializable()\nclass SetPriceRequest {\n  final String propertyId;\n  final double pricePerNight;\n\n  const SetPriceRequest({\n    required this.propertyId,\n    required this.pricePerNight,\n  });\n\n  factory SetPriceRequest.fromJson(Map<String, dynamic> json) =>\n      _$SetPriceRequestFromJson(json);\n\n  Map<String, dynamic> toJson() => _$SetPriceRequestToJson(this);\n}\n","baseTimestamp":1758620188584,"deltas":[{"timestamp":1758623713972,"changes":[{"type":"MODIFY","lineNumber":20,"content":"  final int pricePerNight;","oldContent":"  final double pricePerNight;"},{"type":"MODIFY","lineNumber":119,"content":"  final int pricePerNight;","oldContent":"  final double pricePerNight;"}]},{"timestamp":1758623732959,"changes":[{"type":"MODIFY","lineNumber":79,"content":"  final int price;","oldContent":"  final double price;"}]},{"timestamp":1758624938052,"changes":[{"type":"MODIFY","lineNumber":15,"content":"  final String houseRules;","oldContent":"  final String hourseRules;"},{"type":"MODIFY","lineNumber":36,"content":"    required this.houseRules,","oldContent":"    required this.hourseRules,"}]},{"timestamp":1758624953093,"changes":[{"type":"MODIFY","lineNumber":15,"content":"  final String hourseRules;","oldContent":"  final String houseRules;"}]},{"timestamp":1758624968130,"changes":[{"type":"MODIFY","lineNumber":36,"content":"    required this.hourseRules,","oldContent":"    required this.houseRules,"}]}]},"D:/flutter projects/ahlanfeekum/lib/features/rent_create/data/models/create_property_response.dart":{"filePath":"D:/flutter projects/ahlanfeekum/lib/features/rent_create/data/models/create_property_response.dart","baseContent":"import 'package:json_annotation/json_annotation.dart';\n\npart 'create_property_response.g.dart';\n\n@JsonSerializable()\nclass CreatePropertyResponse {\n  final String? propertyTitle;\n  final String? hotelName;\n  final int? bedrooms;\n  final int? bathrooms;\n  final int? numberOfBed;\n  final int? floor;\n  final int? maximumNumberOfGuest;\n  final int? livingrooms;\n  final String? propertyDescription;\n  final String? hourseRules;\n  final String? importantInformation;\n  final String? address;\n  final String? streetAndBuildingNumber;\n  final String? landMark;\n  final double? pricePerNight;\n  final double? area;\n  final bool? isActive;\n  final String? propertyTypeId;\n  final String? governorateId;\n  final String? ownerId;\n  final String? statusId;\n  final String? concurrencyStamp;\n  final bool? isDeleted;\n  final String? deleterId;\n  final String? deletionTime;\n  final String? lastModificationTime;\n  final String? lastModifierId;\n  final String? creationTime;\n  final String? creatorId;\n  final String id;\n\n  const CreatePropertyResponse({\n    this.propertyTitle,\n    this.hotelName,\n    this.bedrooms,\n    this.bathrooms,\n    this.numberOfBed,\n    this.floor,\n    this.maximumNumberOfGuest,\n    this.livingrooms,\n    this.propertyDescription,\n    this.hourseRules,\n    this.importantInformation,\n    this.address,\n    this.streetAndBuildingNumber,\n    this.landMark,\n    this.pricePerNight,\n    this.area,\n    this.isActive,\n    this.propertyTypeId,\n    this.governorateId,\n    this.ownerId,\n    this.statusId,\n    this.concurrencyStamp,\n    this.isDeleted,\n    this.deleterId,\n    this.deletionTime,\n    this.lastModificationTime,\n    this.lastModifierId,\n    this.creationTime,\n    this.creatorId,\n    required this.id,\n  });\n\n  factory CreatePropertyResponse.fromJson(Map<String, dynamic> json) =>\n      _$CreatePropertyResponseFromJson(json);\n\n  Map<String, dynamic> toJson() => _$CreatePropertyResponseToJson(this);\n}\n\n@JsonSerializable(genericArgumentFactories: true)\nclass ApiResponse<T> {\n  final T? data;\n  final String message;\n  final int code;\n\n  const ApiResponse({\n    this.data,\n    required this.message,\n    required this.code,\n  });\n\n  factory ApiResponse.fromJson(\n    Map<String, dynamic> json,\n    T Function(Object?) fromJsonT,\n  ) => _$ApiResponseFromJson(json, fromJsonT);\n\n  Map<String, dynamic> toJson(Object? Function(T) toJsonT) => \n      _$ApiResponseToJson(this, toJsonT);\n}\n","baseTimestamp":1758620626009,"deltas":[{"timestamp":1758623732959,"changes":[{"type":"MODIFY","lineNumber":20,"content":"  final int? pricePerNight;","oldContent":"  final double? pricePerNight;"}]}]},"D:/flutter projects/ahlanfeekum/pubspec.yaml":{"filePath":"D:/flutter projects/ahlanfeekum/pubspec.yaml","baseContent":"name: ahlanfeekum\ndescription: \"A new Flutter project.\"\n# The following line prevents the package from being accidentally published to\n# pub.dev using `flutter pub publish`. This is preferred for private packages.\npublish_to: 'none' # Remove this line if you wish to publish to pub.dev\n\n# The following defines the version and build number for your application.\n# A version number is three numbers separated by dots, like 1.2.43\n# followed by an optional build number separated by a +.\n# Both the version and the builder number may be overridden in flutter\n# build by specifying --build-name and --build-number, respectively.\n# In Android, build-name is used as versionName while build-number used as versionCode.\n# Read more about Android versioning at https://developer.android.com/studio/publish/versioning\n# In iOS, build-name is used as CFBundleShortVersionString while build-number is used as CFBundleVersion.\n# Read more about iOS versioning at\n# https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html\n# In Windows, build-name is used as the major, minor, and patch parts\n# of the product and file versions while build-number is used as the build suffix.\nversion: 1.0.0+1\n\nenvironment:\n  sdk: ^3.9.0\n\n# Dependencies specify other packages that your package needs in order to work.\n# To automatically upgrade your package dependencies to the latest versions\n# consider running `flutter pub upgrade --major-versions`. Alternatively,\n# dependencies can be manually updated by changing the version numbers below to\n# the latest version available on pub.dev. To see which dependencies have newer\n# versions available, run `flutter pub outdated`.\ndependencies:\n  flutter:\n    sdk: flutter\n\n  # The following adds the Cupertino Icons font to your application.\n  # Use with the CupertinoIcons class for iOS style icons.\n  cupertino_icons: ^1.0.8\n  \n  # State Management\n  flutter_bloc: ^8.1.3\n  equatable: ^2.0.5\n  \n  # Dependency Injection\n  get_it: ^7.6.4\n  injectable: ^2.3.2\n  \n  # Network\n  dio: ^5.3.2\n  retrofit: ^4.0.3\n  json_annotation: ^4.8.1\n  \n  # Responsive UI\n  flutter_screenutil: ^5.9.0\n  \n  # Localization\n  easy_localization: ^3.0.3\n  \n  # Storage\n  shared_preferences: ^2.2.2\n  flutter_secure_storage: ^9.0.0\n  \n  # Google Sign In\n  google_sign_in: ^6.1.5\n  \n  # Phone Auth / OTP\n  pinput: ^5.0.2\n  \n  # UI Components\n  flutter_svg: ^2.0.7\n  cached_network_image: ^3.3.0\n  image_picker: ^1.0.4\n  country_code_picker: ^3.0.0\n  table_calendar: ^3.0.9\n  \n  # Utils\n  intl: ^0.20.2\n  url_launcher: ^6.2.1\n  dartz: ^0.10.1\n  freezed_annotation: ^2.4.1\n  collection: ^1.17.2\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  # The \"flutter_lints\" package below contains a set of recommended lints to\n  # encourage good coding practices. The lint set provided by the package is\n  # activated in the `analysis_options.yaml` file located at the root of your\n  # package. See that file for information about deactivating specific lint\n  # rules and activating additional ones.\n  flutter_lints: ^5.0.0\n  \n  # Code Generation\n  build_runner: ^2.4.7\n  injectable_generator: ^2.4.1\n  retrofit_generator: ^8.0.4\n  json_serializable: ^6.7.1\n  freezed: ^2.4.6\n  \n  # Launcher Icons\n  flutter_launcher_icons: ^0.13.1\n\n# For information on the generic Dart part of this file, see the\n# following page: https://dart.dev/tools/pub/pubspec\n\n# The following section is specific to Flutter packages.\nflutter:\n\n  # The following line ensures that the Material Icons font is\n  # included with your application, so that you can use the icons in\n  # the material Icons class.\n  uses-material-design: true\n\n  # To add assets to your application, add an assets section, like this:\n  assets:\n    - assets/images/\n    - assets/icons/\n    - assets/translations/\n\n  # An image asset can refer to one or more resolution-specific \"variants\", see\n  # https://flutter.dev/to/resolution-aware-images\n\n  # For details regarding adding assets from package dependencies, see\n  # https://flutter.dev/to/asset-from-package\n\n  # To add custom fonts to your application, add a fonts section here,\n  # in this \"flutter\" section. Each entry in this list should have a\n  # \"family\" key with the font family name, and a \"fonts\" key with a\n  # list giving the asset and other descriptors for the font.\n  fonts:\n    - family: Lato\n      fonts:\n        - asset: assets/fonts/Lato-Regular.ttf\n          weight: 400\n        - asset: assets/fonts/Lato-Italic.ttf\n          weight: 400\n          style: italic\n        - asset: assets/fonts/Lato-Light.ttf\n          weight: 300\n        - asset: assets/fonts/Lato-LightItalic.ttf\n          weight: 300\n          style: italic\n        - asset: assets/fonts/Lato-Bold.ttf\n          weight: 700\n        - asset: assets/fonts/Lato-BoldItalic.ttf\n          weight: 700\n          style: italic\n        - asset: assets/fonts/Lato-Black.ttf\n          weight: 900\n        - asset: assets/fonts/Lato-BlackItalic.ttf\n          weight: 900\n          style: italic\n  \n  # For details regarding fonts from package dependencies,\n \nflutter_launcher_icons:\n  android: \"launcher_icon\"\n  ios: true\n  image_path: \"assets/icons/logo.png\"\n  min_sdk_android: 21 # android min sdk min:16, default 21\n  web:\n    generate: true\n    image_path: \"assets/icons/logo.png\"\n    background_color: \"#hexcode\"\n    theme_color: \"#hexcode\"\n  windows:\n    generate: true\n    image_path: \"assets/icons/logo.png\"\n    icon_size: 48 # min:48, max:256, default: 48\n  macos:\n    generate: true\n    image_path: \"assets/icons/logo.png\"\n","baseTimestamp":1758620731648},"D:/flutter projects/ahlanfeekum/lib/features/rent_create/presentation/pages/rent_create_flow_screen.dart":{"filePath":"D:/flutter projects/ahlanfeekum/lib/features/rent_create/presentation/pages/rent_create_flow_screen.dart","baseContent":"import 'package:flutter/material.dart';\nimport 'package:flutter_bloc/flutter_bloc.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\nimport '../../../../theming/colors.dart';\nimport '../../../../theming/text_styles.dart';\nimport '../../../../core/di/injection.dart';\nimport '../../../search/presentation/bloc/search_bloc.dart';\nimport '../bloc/rent_create_bloc.dart';\nimport '../bloc/rent_create_event.dart';\nimport '../bloc/rent_create_state.dart';\nimport '../../domain/entities/rent_create_entities.dart';\nimport 'steps/property_details_step.dart';\nimport 'steps/photos_step.dart';\nimport 'steps/price_step.dart';\nimport 'steps/location_step.dart';\nimport 'steps/availability_step.dart';\nimport 'steps/review_step.dart';\n\nclass RentCreateFlowScreen extends StatefulWidget {\n  const RentCreateFlowScreen({super.key});\n\n  @override\n  State<RentCreateFlowScreen> createState() => _RentCreateFlowScreenState();\n}\n\nclass _RentCreateFlowScreenState extends State<RentCreateFlowScreen> {\n  final PageController _pageController = PageController();\n\n  @override\n  void dispose() {\n    _pageController.dispose();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MultiBlocProvider(\n      providers: [\n        BlocProvider<RentCreateBloc>(\n          create: (context) => getIt<RentCreateBloc>(),\n        ),\n        BlocProvider<SearchBloc>(\n          create: (context) => getIt<SearchBloc>()..add(const LoadLookupsEvent()),\n        ),\n      ],\n      child: BlocListener<RentCreateBloc, RentCreateState>(\n        listener: (context, state) {\n          if (state.errorMessage != null) {\n            ScaffoldMessenger.of(context).showSnackBar(\n              SnackBar(\n                content: Text(state.errorMessage!),\n                backgroundColor: Colors.red,\n              ),\n            );\n          }\n          if (state.successMessage != null) {\n            ScaffoldMessenger.of(context).showSnackBar(\n              SnackBar(\n                content: Text(state.successMessage!),\n                backgroundColor: Colors.green,\n              ),\n            );\n          }\n          \n          // Navigate to completion screen when property is submitted\n          if (state.status == RentCreateStatus.propertySubmitted) {\n            Navigator.of(context).pushReplacement(\n              MaterialPageRoute(\n                builder: (context) => const PropertyCreatedSuccessScreen(),\n              ),\n            );\n          }\n        },\n        child: Scaffold(\n          backgroundColor: Colors.white,\n          appBar: AppBar(\n            backgroundColor: Colors.white,\n            elevation: 0,\n            leading: IconButton(\n              icon: Icon(Icons.close, color: AppColors.textPrimary),\n              onPressed: () => _showExitDialog(context),\n            ),\n            title: Text(\n              'Add Property',\n              style: AppTextStyles.h4.copyWith(\n                color: AppColors.textPrimary,\n                fontSize: 18.sp,\n              ),\n            ),\n            centerTitle: true,\n          ),\n          body: Column(\n            children: [\n              _buildStepIndicator(),\n              Expanded(child: _buildStepContent()),\n              _buildNavigationButtons(),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n\n  Widget _buildStepIndicator() {\n    return BlocBuilder<RentCreateBloc, RentCreateState>(\n      builder: (context, state) {\n        return Container(\n          padding: EdgeInsets.symmetric(horizontal: 20.w, vertical: 16.h),\n          decoration: BoxDecoration(\n            color: Colors.white,\n            boxShadow: [\n              BoxShadow(\n                color: Colors.grey.withValues(alpha: 0.1),\n                spreadRadius: 1,\n                blurRadius: 4,\n                offset: const Offset(0, 2),\n              ),\n            ],\n          ),\n          child: Row(\n            children: state.steps.asMap().entries.map((entry) {\n              final stepStatus = entry.value;\n              final isActive = stepStatus.isActive;\n              final isCompleted = stepStatus.isCompleted;\n\n              return Expanded(\n                child: Column(\n                  children: [\n                    Container(\n                      width: 32.w,\n                      height: 32.h,\n                      decoration: BoxDecoration(\n                        shape: BoxShape.circle,\n                        color: isCompleted\n                            ? AppColors.primary\n                            : isActive\n                                ? AppColors.primary.withValues(alpha: 0.2)\n                                : Colors.grey[200],\n                        border: Border.all(\n                          color: isActive || isCompleted\n                              ? AppColors.primary\n                              : Colors.grey[300]!,\n                          width: 2,\n                        ),\n                      ),\n                      child: Center(\n                        child: isCompleted\n                            ? Icon(\n                                Icons.check,\n                                color: Colors.white,\n                                size: 18.sp,\n                              )\n                            : Text(\n                                '${stepStatus.step.stepNumber}',\n                                style: AppTextStyles.bodySmall.copyWith(\n                                  color: isActive\n                                      ? AppColors.primary\n                                      : Colors.grey[600],\n                                  fontWeight: FontWeight.w600,\n                                  fontSize: 14.sp,\n                                ),\n                              ),\n                      ),\n                    ),\n                    SizedBox(height: 8.h),\n                    Text(\n                      stepStatus.step.title,\n                      style: AppTextStyles.bodySmall.copyWith(\n                        color: isActive\n                            ? AppColors.primary\n                            : Colors.grey[600],\n                        fontSize: 10.sp,\n                        fontWeight: isActive ? FontWeight.w600 : FontWeight.normal,\n                      ),\n                      textAlign: TextAlign.center,\n                      maxLines: 2,\n                      overflow: TextOverflow.ellipsis,\n                    ),\n                  ],\n                ),\n              );\n            }).toList(),\n          ),\n        );\n      },\n    );\n  }\n\n  Widget _buildStepContent() {\n    return BlocBuilder<RentCreateBloc, RentCreateState>(\n      builder: (context, state) {\n        return PageView(\n          controller: _pageController,\n          physics: const NeverScrollableScrollPhysics(),\n          onPageChanged: (index) {\n            context.read<RentCreateBloc>().add(NavigateToStepEvent(index));\n          },\n          children: const [\n            PropertyDetailsStep(),\n            PhotosStep(),\n            PriceStep(),\n            LocationStep(),\n            AvailabilityStep(),\n            ReviewStep(),\n          ],\n        );\n      },\n    );\n  }\n\n  Widget _buildNavigationButtons() {\n    return BlocBuilder<RentCreateBloc, RentCreateState>(\n      builder: (context, state) {\n        return Container(\n          padding: EdgeInsets.all(20.w),\n          decoration: BoxDecoration(\n            color: Colors.white,\n            boxShadow: [\n              BoxShadow(\n                color: Colors.grey.withValues(alpha: 0.2),\n                spreadRadius: 1,\n                blurRadius: 10,\n                offset: const Offset(0, -2),\n              ),\n            ],\n          ),\n          child: Row(\n            children: [\n              if (state.canGoPrevious)\n                Expanded(\n                  child: OutlinedButton(\n                    onPressed: state.isLoading ? null : () {\n                      context.read<RentCreateBloc>().add(const PreviousStepEvent());\n                      _pageController.previousPage(\n                        duration: const Duration(milliseconds: 300),\n                        curve: Curves.easeInOut,\n                      );\n                    },\n                    style: OutlinedButton.styleFrom(\n                      side: BorderSide(color: AppColors.primary),\n                      padding: EdgeInsets.symmetric(vertical: 14.h),\n                      shape: RoundedRectangleBorder(\n                        borderRadius: BorderRadius.circular(8.r),\n                      ),\n                    ),\n                    child: Text(\n                      'Previous',\n                      style: AppTextStyles.bodyMedium.copyWith(\n                        color: AppColors.primary,\n                        fontSize: 16.sp,\n                        fontWeight: FontWeight.w600,\n                      ),\n                    ),\n                  ),\n                ),\n              if (state.canGoPrevious) SizedBox(width: 16.w),\n              Expanded(\n                flex: state.canGoPrevious ? 1 : 2,\n                child: ElevatedButton(\n                  onPressed: state.canGoNext && !state.isLoading\n                      ? () => _handleNextButton(context, state)\n                      : null,\n                  style: ElevatedButton.styleFrom(\n                    backgroundColor: AppColors.primary,\n                    foregroundColor: Colors.white,\n                    padding: EdgeInsets.symmetric(vertical: 14.h),\n                    shape: RoundedRectangleBorder(\n                      borderRadius: BorderRadius.circular(8.r),\n                    ),\n                    elevation: 0,\n                  ),\n                  child: state.isLoading\n                      ? SizedBox(\n                          width: 20.w,\n                          height: 20.h,\n                          child: const CircularProgressIndicator(\n                            strokeWidth: 2,\n                            valueColor: AlwaysStoppedAnimation<Color>(Colors.white),\n                          ),\n                        )\n                      : Text(\n                          _getButtonText(state),\n                          style: AppTextStyles.bodyMedium.copyWith(\n                            color: Colors.white,\n                            fontSize: 16.sp,\n                            fontWeight: FontWeight.w600,\n                          ),\n                        ),\n                ),\n              ),\n            ],\n          ),\n        );\n      },\n    );\n  }\n\n  String _getButtonText(RentCreateState state) {\n    if (state.isLastStep) {\n      return 'Submit Property';\n    }\n    \n    switch (state.currentStep) {\n      case PropertyCreationStep.propertyDetails:\n        return 'Continue';\n      case PropertyCreationStep.photos:\n        return 'Continue';\n      case PropertyCreationStep.price:\n        return 'Continue';\n      case PropertyCreationStep.location:\n        return 'Continue';\n      case PropertyCreationStep.availability:\n        return 'Continue';\n      case PropertyCreationStep.review:\n        return 'Submit Property';\n    }\n  }\n\n  void _handleNextButton(BuildContext context, RentCreateState state) {\n    final bloc = context.read<RentCreateBloc>();\n    \n    if (state.isLastStep) {\n      // Submit the property\n      bloc.add(const SubmitPropertyEvent());\n    } else {\n      // Move to next step\n      switch (state.currentStep) {\n        case PropertyCreationStep.propertyDetails:\n          bloc.add(const CreatePropertyStepOneEvent());\n          break;\n        case PropertyCreationStep.photos:\n          bloc.add(const UploadImagesEvent());\n          break;\n        case PropertyCreationStep.price:\n          bloc.add(const SetPriceEvent());\n          break;\n        case PropertyCreationStep.location:\n          bloc.add(const CreatePropertyStepTwoEvent());\n          break;\n        case PropertyCreationStep.availability:\n          bloc.add(const AddAvailabilityEvent());\n          break;\n        case PropertyCreationStep.review:\n          bloc.add(const SubmitPropertyEvent());\n          break;\n      }\n      \n      // Only navigate to next step if not on the last step\n      if (!state.isLastStep) {\n        Future.delayed(const Duration(milliseconds: 500), () {\n          if (!bloc.state.isLoading && bloc.state.errorMessage == null) {\n            bloc.add(const NextStepEvent());\n            _pageController.nextPage(\n              duration: const Duration(milliseconds: 300),\n              curve: Curves.easeInOut,\n            );\n          }\n        });\n      }\n    }\n  }\n\n  void _showExitDialog(BuildContext context) {\n    showDialog(\n      context: context,\n      builder: (dialogContext) => AlertDialog(\n        title: const Text('Exit Property Creation?'),\n        content: const Text(\n          'Are you sure you want to exit? Your progress will be lost.',\n        ),\n        actions: [\n          TextButton(\n            onPressed: () => Navigator.pop(dialogContext),\n            child: const Text('Cancel'),\n          ),\n          TextButton(\n            onPressed: () {\n              Navigator.pop(dialogContext);\n              Navigator.pop(context);\n            },\n            style: TextButton.styleFrom(\n              foregroundColor: Colors.red,\n            ),\n            child: const Text('Exit'),\n          ),\n        ],\n      ),\n    );\n  }\n}\n\nclass PropertyCreatedSuccessScreen extends StatelessWidget {\n  const PropertyCreatedSuccessScreen({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      backgroundColor: Colors.white,\n      body: SafeArea(\n        child: Padding(\n          padding: EdgeInsets.all(24.w),\n          child: Column(\n            mainAxisAlignment: MainAxisAlignment.center,\n            children: [\n              Container(\n                width: 120.w,\n                height: 120.h,\n                decoration: BoxDecoration(\n                  color: AppColors.primary.withValues(alpha: 0.1),\n                  shape: BoxShape.circle,\n                ),\n                child: Icon(\n                  Icons.check_circle,\n                  color: AppColors.primary,\n                  size: 60.sp,\n                ),\n              ),\n              SizedBox(height: 32.h),\n              Text(\n                'Property Created Successfully!',\n                style: AppTextStyles.h3.copyWith(\n                  color: AppColors.textPrimary,\n                  fontSize: 24.sp,\n                ),\n                textAlign: TextAlign.center,\n              ),\n              SizedBox(height: 16.h),\n              Text(\n                'Your property has been submitted for review. You\\'ll receive a notification once it\\'s approved and live.',\n                style: AppTextStyles.bodyMedium.copyWith(\n                  color: AppColors.textSecondary,\n                  fontSize: 16.sp,\n                ),\n                textAlign: TextAlign.center,\n              ),\n              SizedBox(height: 48.h),\n              SizedBox(\n                width: double.infinity,\n                child: ElevatedButton(\n                  onPressed: () {\n                    Navigator.of(context).pushNamedAndRemoveUntil(\n                      '/main',\n                      (route) => false,\n                    );\n                  },\n                  style: ElevatedButton.styleFrom(\n                    backgroundColor: AppColors.primary,\n                    foregroundColor: Colors.white,\n                    padding: EdgeInsets.symmetric(vertical: 16.h),\n                    shape: RoundedRectangleBorder(\n                      borderRadius: BorderRadius.circular(12.r),\n                    ),\n                  ),\n                  child: Text(\n                    'Back to Home',\n                    style: AppTextStyles.bodyLarge.copyWith(\n                      color: Colors.white,\n                      fontSize: 16.sp,\n                      fontWeight: FontWeight.w600,\n                    ),\n                  ),\n                ),\n              ),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n","baseTimestamp":1758620807390,"deltas":[{"timestamp":1758623265618,"changes":[{"type":"INSERT","lineNumber":329,"content":"          // Just move to next step (location) without API call"},{"type":"INSERT","lineNumber":330,"content":"          bloc.add(const NextStepEvent());"},{"type":"INSERT","lineNumber":331,"content":"          _pageController.nextPage("},{"type":"INSERT","lineNumber":332,"content":"            duration: const Duration(milliseconds: 300),"},{"type":"INSERT","lineNumber":333,"content":"            curve: Curves.easeInOut,"},{"type":"INSERT","lineNumber":334,"content":"          );"},{"type":"INSERT","lineNumber":335,"content":"          return;"},{"type":"INSERT","lineNumber":336,"content":"        case PropertyCreationStep.location:"},{"type":"INSERT","lineNumber":337,"content":"          // Create property after both details and location are filled"},{"type":"DELETE","lineNumber":337,"oldContent":"        case PropertyCreationStep.location:"},{"type":"DELETE","lineNumber":338,"oldContent":"          bloc.add(const CreatePropertyStepTwoEvent());"},{"type":"DELETE","lineNumber":339,"oldContent":"          break;"}]},{"timestamp":1758623385108,"changes":[{"type":"DELETE","lineNumber":330,"oldContent":"          bloc.add(const CreatePropertyStepOneEvent());"},{"type":"DELETE","lineNumber":332,"oldContent":"          break;"},{"type":"DELETE","lineNumber":334,"oldContent":"        case PropertyCreationStep.photos:"},{"type":"DELETE","lineNumber":336,"oldContent":"          bloc.add(const UploadImagesEvent());"},{"type":"DELETE","lineNumber":338,"oldContent":"          break;"},{"type":"DELETE","lineNumber":340,"oldContent":"        case PropertyCreationStep.price:"},{"type":"DELETE","lineNumber":342,"oldContent":"          bloc.add(const SetPriceEvent());"},{"type":"DELETE","lineNumber":344,"oldContent":"          break;"},{"type":"INSERT","lineNumber":338,"content":"          bloc.add(const CreatePropertyStepOneEvent());"},{"type":"INSERT","lineNumber":339,"content":"          break;"},{"type":"INSERT","lineNumber":340,"content":"        case PropertyCreationStep.photos:"},{"type":"INSERT","lineNumber":341,"content":"          bloc.add(const UploadImagesEvent());"},{"type":"INSERT","lineNumber":342,"content":"          break;"},{"type":"INSERT","lineNumber":343,"content":"        case PropertyCreationStep.price:"},{"type":"INSERT","lineNumber":344,"content":"          bloc.add(const SetPriceEvent());"},{"type":"INSERT","lineNumber":345,"content":"          break;"}]},{"timestamp":1758632765591,"changes":[{"type":"DELETE","lineNumber":37,"oldContent":"    return MultiBlocProvider("},{"type":"DELETE","lineNumber":38,"oldContent":"      providers: ["},{"type":"DELETE","lineNumber":39,"oldContent":"        BlocProvider<RentCreateBloc>("},{"type":"DELETE","lineNumber":40,"oldContent":"          create: (context) => getIt<RentCreateBloc>(),"},{"type":"DELETE","lineNumber":41,"oldContent":"        ),"},{"type":"DELETE","lineNumber":42,"oldContent":"        BlocProvider<SearchBloc>("},{"type":"DELETE","lineNumber":43,"oldContent":"          create: (context) => getIt<SearchBloc>()..add(const LoadLookupsEvent()),"},{"type":"DELETE","lineNumber":44,"oldContent":"        ),"},{"type":"DELETE","lineNumber":45,"oldContent":"      ],"},{"type":"DELETE","lineNumber":46,"oldContent":"      child: BlocListener<RentCreateBloc, RentCreateState>("},{"type":"INSERT","lineNumber":37,"content":"    // Load lookups when the screen is built"},{"type":"INSERT","lineNumber":38,"content":"    context.read<SearchBloc>().add(const LoadLookupsEvent());"},{"type":"INSERT","lineNumber":39,"content":"    "},{"type":"INSERT","lineNumber":40,"content":"    return BlocListener<RentCreateBloc, RentCreateState>("},{"type":"INSERT","lineNumber":328,"content":"          );"},{"type":"INSERT","lineNumber":329,"content":"          return;"},{"type":"INSERT","lineNumber":330,"content":"        case PropertyCreationStep.location:"},{"type":"INSERT","lineNumber":331,"content":"          // Create property after both details and location are filled"},{"type":"DELETE","lineNumber":336,"oldContent":"          );"},{"type":"DELETE","lineNumber":339,"oldContent":"          return;"},{"type":"DELETE","lineNumber":342,"oldContent":"        case PropertyCreationStep.location:"},{"type":"DELETE","lineNumber":345,"oldContent":"          // Create property after both details and location are filled"}]},{"timestamp":1758632795682,"changes":[{"type":"DELETE","lineNumber":322,"oldContent":"          );"},{"type":"DELETE","lineNumber":324,"oldContent":"          return;"},{"type":"DELETE","lineNumber":326,"oldContent":"        case PropertyCreationStep.location:"},{"type":"MODIFY","lineNumber":328,"content":"          );","oldContent":"          // Create property after both details and location are filled"},{"type":"INSERT","lineNumber":329,"content":"          return;"},{"type":"INSERT","lineNumber":330,"content":"        case PropertyCreationStep.location:"},{"type":"INSERT","lineNumber":331,"content":"          // Create property after both details and location are filled"},{"type":"DELETE","lineNumber":467,"oldContent":"      ),"},{"type":"MODIFY","lineNumber":467,"content":"      );","oldContent":"    );"}]},{"timestamp":1758632810729,"changes":[{"type":"DELETE","lineNumber":94,"oldContent":"      ),"},{"type":"INSERT","lineNumber":324,"content":"          _pageController.nextPage("},{"type":"INSERT","lineNumber":325,"content":"            duration: const Duration(milliseconds: 300),"},{"type":"INSERT","lineNumber":326,"content":"            curve: Curves.easeInOut,"},{"type":"DELETE","lineNumber":327,"oldContent":"          _pageController.nextPage("},{"type":"DELETE","lineNumber":329,"oldContent":"            duration: const Duration(milliseconds: 300),"},{"type":"DELETE","lineNumber":331,"oldContent":"            curve: Curves.easeInOut,"}]},{"timestamp":1758632825776,"changes":[{"type":"DELETE","lineNumber":5,"oldContent":"import '../../../../core/di/injection.dart';"},{"type":"MODIFY","lineNumber":323,"content":"          _pageController.nextPage(","oldContent":"          _pageController.nextPage("},{"type":"MODIFY","lineNumber":326,"content":"          );","oldContent":"          );"}]},{"timestamp":1758632840820,"changes":[{"type":"MODIFY","lineNumber":323,"content":"          _pageController.nextPage(","oldContent":"          _pageController.nextPage("},{"type":"MODIFY","lineNumber":326,"content":"          );","oldContent":"          );"},{"type":"MODIFY","lineNumber":465,"content":"      ),","oldContent":"      );"},{"type":"INSERT","lineNumber":466,"content":"    );"}]},{"timestamp":1758632885927,"changes":[{"type":"DELETE","lineNumber":36,"oldContent":"    // Load lookups when the screen is built"},{"type":"DELETE","lineNumber":37,"oldContent":"    context.read<SearchBloc>().add(const LoadLookupsEvent());"},{"type":"DELETE","lineNumber":38,"oldContent":"    "},{"type":"INSERT","lineNumber":319,"content":"          bloc.add(const NextStepEvent());"},{"type":"DELETE","lineNumber":323,"oldContent":"          _pageController.nextPage("},{"type":"INSERT","lineNumber":322,"content":"            curve: Curves.easeInOut,"},{"type":"DELETE","lineNumber":326,"oldContent":"          );"}]},{"timestamp":1758632900960,"changes":[{"type":"DELETE","lineNumber":5,"oldContent":"import '../../../search/presentation/bloc/search_bloc.dart';"},{"type":"DELETE","lineNumber":6,"oldContent":"import '../../../search/presentation/bloc/search_event.dart';"},{"type":"DELETE","lineNumber":316,"oldContent":"          bloc.add(const NextStepEvent());"},{"type":"DELETE","lineNumber":320,"oldContent":"            curve: Curves.easeInOut,"},{"type":"INSERT","lineNumber":317,"content":"          bloc.add(const NextStepEvent());"},{"type":"INSERT","lineNumber":320,"content":"            curve: Curves.easeInOut,"}]},{"timestamp":1758632931019,"changes":[{"type":"DELETE","lineNumber":314,"oldContent":"          bloc.add(const NextStepEvent());"},{"type":"DELETE","lineNumber":318,"oldContent":"            curve: Curves.easeInOut,"},{"type":"INSERT","lineNumber":317,"content":"          bloc.add(const NextStepEvent());"},{"type":"INSERT","lineNumber":320,"content":"            curve: Curves.easeInOut,"}]},{"timestamp":1758633605243,"changes":[{"type":"INSERT","lineNumber":53,"content":"          // Navigate to next step when images are uploaded"},{"type":"INSERT","lineNumber":54,"content":"          if (state.status == RentCreateStatus.imagesUploaded) {"},{"type":"INSERT","lineNumber":55,"content":"            _pageController.nextPage("},{"type":"INSERT","lineNumber":56,"content":"              duration: const Duration(milliseconds: 300),"},{"type":"INSERT","lineNumber":57,"content":"              curve: Curves.easeInOut,"},{"type":"INSERT","lineNumber":58,"content":"            );"},{"type":"INSERT","lineNumber":59,"content":"          }"},{"type":"INSERT","lineNumber":60,"content":"          "},{"type":"DELETE","lineNumber":316,"oldContent":"          bloc.add(const NextStepEvent());"},{"type":"INSERT","lineNumber":325,"content":"          bloc.add(const NextStepEvent());"},{"type":"DELETE","lineNumber":319,"oldContent":"            curve: Curves.easeInOut,"},{"type":"INSERT","lineNumber":328,"content":"            curve: Curves.easeInOut,"}]},{"timestamp":1758633634029,"changes":[{"type":"DELETE","lineNumber":54,"oldContent":"          // Navigate to completion screen when property is submitted"},{"type":"DELETE","lineNumber":56,"oldContent":"          if (state.status == RentCreateStatus.propertySubmitted) {"},{"type":"DELETE","lineNumber":58,"oldContent":"            Navigator.of(context).pushReplacement("},{"type":"DELETE","lineNumber":60,"oldContent":"              MaterialPageRoute("},{"type":"DELETE","lineNumber":62,"oldContent":"                builder: (context) => const PropertyCreatedSuccessScreen(),"},{"type":"DELETE","lineNumber":64,"oldContent":"              ),"},{"type":"DELETE","lineNumber":66,"oldContent":"            );"},{"type":"INSERT","lineNumber":61,"content":"          // Navigate to completion screen when property is submitted"},{"type":"INSERT","lineNumber":62,"content":"          if (state.status == RentCreateStatus.propertySubmitted) {"},{"type":"INSERT","lineNumber":63,"content":"            Navigator.of(context).pushReplacement("},{"type":"INSERT","lineNumber":64,"content":"              MaterialPageRoute("},{"type":"INSERT","lineNumber":65,"content":"                builder: (context) => const PropertyCreatedSuccessScreen(),"},{"type":"INSERT","lineNumber":66,"content":"              ),"},{"type":"INSERT","lineNumber":67,"content":"            );"},{"type":"INSERT","lineNumber":325,"content":"          bloc.add(const NextStepEvent());"},{"type":"INSERT","lineNumber":328,"content":"            curve: Curves.easeInOut,"},{"type":"DELETE","lineNumber":331,"oldContent":"          bloc.add(const NextStepEvent());"},{"type":"DELETE","lineNumber":335,"oldContent":"            curve: Curves.easeInOut,"}]},{"timestamp":1758633798837,"changes":[{"type":"DELETE","lineNumber":53,"oldContent":"          // Navigate to next step when images are uploaded"},{"type":"DELETE","lineNumber":54,"oldContent":"          if (state.status == RentCreateStatus.imagesUploaded) {"},{"type":"DELETE","lineNumber":55,"oldContent":"            _pageController.nextPage("},{"type":"DELETE","lineNumber":56,"oldContent":"              duration: const Duration(milliseconds: 300),"},{"type":"DELETE","lineNumber":58,"oldContent":"              curve: Curves.easeInOut,"},{"type":"DELETE","lineNumber":61,"oldContent":"            );"},{"type":"DELETE","lineNumber":64,"oldContent":"          }"},{"type":"DELETE","lineNumber":67,"oldContent":"          "},{"type":"DELETE","lineNumber":328,"oldContent":"          );"},{"type":"INSERT","lineNumber":321,"content":"          );"}]},{"timestamp":1758633858926,"changes":[{"type":"INSERT","lineNumber":53,"content":"          // Auto-navigate to next step when photos are added"},{"type":"INSERT","lineNumber":54,"content":"          if (state.status == RentCreateStatus.photosAdded) {"},{"type":"INSERT","lineNumber":55,"content":"            print(' Photos added, navigating to next step...');"},{"type":"INSERT","lineNumber":56,"content":"            _pageController.nextPage("},{"type":"INSERT","lineNumber":57,"content":"              duration: const Duration(milliseconds: 300),"},{"type":"INSERT","lineNumber":58,"content":"              curve: Curves.easeInOut,"},{"type":"INSERT","lineNumber":59,"content":"            );"},{"type":"INSERT","lineNumber":60,"content":"          }"},{"type":"INSERT","lineNumber":61,"content":"          "},{"type":"DELETE","lineNumber":313,"oldContent":"          );"},{"type":"INSERT","lineNumber":330,"content":"          );"}]},{"timestamp":1758633873948,"changes":[{"type":"DELETE","lineNumber":54,"oldContent":"          // Navigate to completion screen when property is submitted"},{"type":"DELETE","lineNumber":56,"oldContent":"          if (state.status == RentCreateStatus.propertySubmitted) {"},{"type":"DELETE","lineNumber":58,"oldContent":"            Navigator.of(context).pushReplacement("},{"type":"DELETE","lineNumber":60,"oldContent":"              MaterialPageRoute("},{"type":"DELETE","lineNumber":62,"oldContent":"                builder: (context) => const PropertyCreatedSuccessScreen(),"},{"type":"DELETE","lineNumber":64,"oldContent":"              ),"},{"type":"DELETE","lineNumber":66,"oldContent":"            );"},{"type":"DELETE","lineNumber":68,"oldContent":"          }"},{"type":"INSERT","lineNumber":62,"content":"          // Navigate to completion screen when property is submitted"},{"type":"INSERT","lineNumber":63,"content":"          if (state.status == RentCreateStatus.propertySubmitted) {"},{"type":"INSERT","lineNumber":64,"content":"            Navigator.of(context).pushReplacement("},{"type":"INSERT","lineNumber":65,"content":"              MaterialPageRoute("},{"type":"INSERT","lineNumber":66,"content":"                builder: (context) => const PropertyCreatedSuccessScreen(),"},{"type":"INSERT","lineNumber":67,"content":"              ),"},{"type":"INSERT","lineNumber":68,"content":"            );"},{"type":"INSERT","lineNumber":69,"content":"          }"},{"type":"INSERT","lineNumber":330,"content":"          );"},{"type":"DELETE","lineNumber":338,"oldContent":"          );"}]},{"timestamp":1758634315268,"changes":[{"type":"INSERT","lineNumber":58,"content":"              curve: Curves.easeInOut,"},{"type":"INSERT","lineNumber":59,"content":"            );"},{"type":"INSERT","lineNumber":60,"content":"          }"},{"type":"INSERT","lineNumber":61,"content":"          "},{"type":"INSERT","lineNumber":62,"content":"          // Auto-navigate to next step when images are uploaded"},{"type":"INSERT","lineNumber":63,"content":"          if (state.status == RentCreateStatus.imagesUploaded) {"},{"type":"INSERT","lineNumber":64,"content":"            print(' Images uploaded successfully, navigating to next step...');"},{"type":"INSERT","lineNumber":65,"content":"            _pageController.nextPage("},{"type":"INSERT","lineNumber":66,"content":"              duration: const Duration(milliseconds: 300),"},{"type":"INSERT","lineNumber":67,"content":"              curve: Curves.easeInOut,"},{"type":"INSERT","lineNumber":68,"content":"            );"},{"type":"INSERT","lineNumber":69,"content":"          }"},{"type":"INSERT","lineNumber":70,"content":"          "},{"type":"DELETE","lineNumber":60,"oldContent":"              curve: Curves.easeInOut,"},{"type":"DELETE","lineNumber":63,"oldContent":"            );"},{"type":"DELETE","lineNumber":66,"oldContent":"          }"},{"type":"DELETE","lineNumber":69,"oldContent":"          "}]},{"timestamp":1758634369817,"changes":[{"type":"DELETE","lineNumber":59,"oldContent":"          // Navigate to completion screen when property is submitted"},{"type":"DELETE","lineNumber":61,"oldContent":"          if (state.status == RentCreateStatus.propertySubmitted) {"},{"type":"DELETE","lineNumber":64,"oldContent":"            Navigator.of(context).pushReplacement("},{"type":"DELETE","lineNumber":66,"oldContent":"              MaterialPageRoute("},{"type":"DELETE","lineNumber":69,"oldContent":"                builder: (context) => const PropertyCreatedSuccessScreen(),"},{"type":"DELETE","lineNumber":71,"oldContent":"              ),"},{"type":"DELETE","lineNumber":75,"oldContent":"            );"},{"type":"DELETE","lineNumber":77,"oldContent":"          }"},{"type":"INSERT","lineNumber":71,"content":"          // Navigate to completion screen when property is submitted"},{"type":"INSERT","lineNumber":72,"content":"          if (state.status == RentCreateStatus.propertySubmitted) {"},{"type":"INSERT","lineNumber":73,"content":"            Navigator.of(context).pushReplacement("},{"type":"INSERT","lineNumber":74,"content":"              MaterialPageRoute("},{"type":"INSERT","lineNumber":75,"content":"                builder: (context) => const PropertyCreatedSuccessScreen(),"},{"type":"INSERT","lineNumber":76,"content":"              ),"},{"type":"INSERT","lineNumber":77,"content":"            );"},{"type":"INSERT","lineNumber":78,"content":"          }"}]},{"timestamp":1758634490628,"changes":[{"type":"DELETE","lineNumber":53,"oldContent":"          // Auto-navigate to next step when photos are added"},{"type":"DELETE","lineNumber":54,"oldContent":"          if (state.status == RentCreateStatus.photosAdded) {"},{"type":"DELETE","lineNumber":55,"oldContent":"            print(' Photos added, navigating to next step...');"},{"type":"INSERT","lineNumber":53,"content":"          // Auto-navigate to next step when images are uploaded (only this one)"},{"type":"INSERT","lineNumber":54,"content":"          if (state.status == RentCreateStatus.imagesUploaded) {"},{"type":"INSERT","lineNumber":55,"content":"            print(' Images uploaded successfully, navigating to next step...');"},{"type":"DELETE","lineNumber":62,"oldContent":"          // Auto-navigate to next step when images are uploaded"},{"type":"DELETE","lineNumber":63,"oldContent":"          if (state.status == RentCreateStatus.imagesUploaded) {"},{"type":"DELETE","lineNumber":64,"oldContent":"            print(' Images uploaded successfully, navigating to next step...');"},{"type":"DELETE","lineNumber":65,"oldContent":"            _pageController.nextPage("},{"type":"DELETE","lineNumber":68,"oldContent":"              duration: const Duration(milliseconds: 300),"},{"type":"DELETE","lineNumber":70,"oldContent":"              curve: Curves.easeInOut,"},{"type":"DELETE","lineNumber":72,"oldContent":"            );"},{"type":"DELETE","lineNumber":75,"oldContent":"          }"},{"type":"DELETE","lineNumber":78,"oldContent":"          "}]},{"timestamp":1758634519069,"changes":[{"type":"INSERT","lineNumber":25,"content":"  DateTime? _lastNavigationTime;"},{"type":"DELETE","lineNumber":55,"oldContent":"            print(' Images uploaded successfully, navigating to next step...');"},{"type":"DELETE","lineNumber":56,"oldContent":"            _pageController.nextPage("},{"type":"DELETE","lineNumber":57,"oldContent":"              duration: const Duration(milliseconds: 300),"},{"type":"DELETE","lineNumber":58,"oldContent":"              curve: Curves.easeInOut,"},{"type":"DELETE","lineNumber":59,"oldContent":"            );"},{"type":"INSERT","lineNumber":56,"content":"            final now = DateTime.now();"},{"type":"INSERT","lineNumber":57,"content":"            // Prevent rapid multiple navigations"},{"type":"INSERT","lineNumber":58,"content":"            if (_lastNavigationTime == null || "},{"type":"INSERT","lineNumber":59,"content":"                now.difference(_lastNavigationTime!).inSeconds > 2) {"},{"type":"INSERT","lineNumber":60,"content":"              _lastNavigationTime = now;"},{"type":"INSERT","lineNumber":61,"content":"              print(' Images uploaded successfully, navigating to next step...');"},{"type":"INSERT","lineNumber":62,"content":"              _pageController.nextPage("},{"type":"INSERT","lineNumber":63,"content":"                duration: const Duration(milliseconds: 300),"},{"type":"INSERT","lineNumber":64,"content":"                curve: Curves.easeInOut,"},{"type":"INSERT","lineNumber":65,"content":"              );"},{"type":"INSERT","lineNumber":66,"content":"            } else {"},{"type":"INSERT","lineNumber":67,"content":"              print(' Navigation throttled - too soon after last navigation');"},{"type":"INSERT","lineNumber":68,"content":"            }"}]},{"timestamp":1758634534222,"changes":[{"type":"INSERT","lineNumber":5,"content":"import '../bloc/rent_create_bloc.dart';"},{"type":"DELETE","lineNumber":24,"oldContent":""},{"type":"INSERT","lineNumber":26,"content":""},{"type":"DELETE","lineNumber":34,"oldContent":"    return MultiBlocProvider("},{"type":"INSERT","lineNumber":36,"content":"        listener: (context, state) {"},{"type":"DELETE","lineNumber":53,"oldContent":"          // Navigate to completion screen when property is submitted"},{"type":"DELETE","lineNumber":61,"oldContent":"          }"},{"type":"DELETE","lineNumber":63,"oldContent":"          "},{"type":"DELETE","lineNumber":65,"oldContent":"          // Navigate to completion screen when property is submitted"},{"type":"DELETE","lineNumber":67,"oldContent":"          if (state.status == RentCreateStatus.propertySubmitted) {"},{"type":"DELETE","lineNumber":69,"oldContent":"            Navigator.of(context).pushReplacement("},{"type":"DELETE","lineNumber":71,"oldContent":"              MaterialPageRoute("},{"type":"DELETE","lineNumber":73,"oldContent":"                builder: (context) => const PropertyCreatedSuccessScreen(),"},{"type":"DELETE","lineNumber":75,"oldContent":"              ),"},{"type":"INSERT","lineNumber":69,"content":"          }"},{"type":"INSERT","lineNumber":70,"content":"          "},{"type":"INSERT","lineNumber":71,"content":"          // Navigate to completion screen when property is submitted"},{"type":"INSERT","lineNumber":72,"content":"          if (state.status == RentCreateStatus.propertySubmitted) {"},{"type":"INSERT","lineNumber":73,"content":"            Navigator.of(context).pushReplacement("},{"type":"INSERT","lineNumber":74,"content":"              MaterialPageRoute("},{"type":"INSERT","lineNumber":75,"content":"                builder: (context) => const PropertyCreatedSuccessScreen(),"},{"type":"INSERT","lineNumber":76,"content":"              ),"},{"type":"INSERT","lineNumber":79,"content":"        },"},{"type":"MODIFY","lineNumber":106,"content":"    );","oldContent":"      ),"},{"type":"DELETE","lineNumber":204,"oldContent":"            PhotosStep(),"},{"type":"INSERT","lineNumber":206,"content":"            PhotosStep(),"},{"type":"MODIFY","lineNumber":208,"content":"            AvailabilityStep(),","oldContent":"            LocationStep(),"},{"type":"DELETE","lineNumber":333,"oldContent":"          bloc.add(const CreatePropertyStepOneEvent());"},{"type":"INSERT","lineNumber":351,"content":"        case PropertyCreationStep.availability:"},{"type":"DELETE","lineNumber":478,"oldContent":"      ),"},{"type":"INSERT","lineNumber":480,"content":"  }"}]}]},"D:/flutter projects/ahlanfeekum/lib/features/rent_create/presentation/pages/steps/photos_step.dart":{"filePath":"D:/flutter projects/ahlanfeekum/lib/features/rent_create/presentation/pages/steps/photos_step.dart","baseContent":"import 'dart:io';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_bloc/flutter_bloc.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\nimport 'package:image_picker/image_picker.dart';\nimport '../../../../../theming/colors.dart';\nimport '../../../../../theming/text_styles.dart';\nimport '../../bloc/rent_create_bloc.dart';\nimport '../../bloc/rent_create_event.dart';\nimport '../../bloc/rent_create_state.dart';\n\nclass PhotosStep extends StatelessWidget {\n  const PhotosStep({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return BlocBuilder<RentCreateBloc, RentCreateState>(\n      builder: (context, state) {\n        return SingleChildScrollView(\n          padding: EdgeInsets.all(20.w),\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              _buildHeader(),\n              SizedBox(height: 24.h),\n              _buildRequirementNotice(),\n              SizedBox(height: 24.h),\n              _buildPhotoGrid(context, state),\n              SizedBox(height: 100.h), // Space for bottom navigation\n            ],\n          ),\n        );\n      },\n    );\n  }\n\n  Widget _buildHeader() {\n    return Column(\n      crossAxisAlignment: CrossAxisAlignment.start,\n      children: [\n        Text(\n          'Photos',\n          style: AppTextStyles.h3.copyWith(\n            color: AppColors.primary,\n            fontSize: 24.sp,\n            fontWeight: FontWeight.w600,\n          ),\n        ),\n        SizedBox(height: 8.h),\n        Text(\n          'Property Images',\n          style: AppTextStyles.h4.copyWith(\n            color: AppColors.textPrimary,\n            fontSize: 18.sp,\n            fontWeight: FontWeight.w600,\n          ),\n        ),\n      ],\n    );\n  }\n\n  Widget _buildRequirementNotice() {\n    return Container(\n      padding: EdgeInsets.all(16.w),\n      decoration: BoxDecoration(\n        color: Colors.red.withValues(alpha: 0.1),\n        borderRadius: BorderRadius.circular(8.r),\n        border: Border.all(color: Colors.red.withValues(alpha: 0.3)),\n      ),\n      child: Row(\n        children: [\n          Icon(\n            Icons.info_outline,\n            color: Colors.red,\n            size: 20.sp,\n          ),\n          SizedBox(width: 12.w),\n          Expanded(\n            child: Text(\n              'You Need To Add Atleast 20 Photos Of Your Property To Increase The Trust To Your Advertisment',\n              style: AppTextStyles.bodySmall.copyWith(\n                color: Colors.red[700],\n                fontSize: 12.sp,\n              ),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildPhotoGrid(BuildContext context, RentCreateState state) {\n    return GridView.builder(\n      shrinkWrap: true,\n      physics: const NeverScrollableScrollPhysics(),\n      gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(\n        crossAxisCount: 2,\n        crossAxisSpacing: 12.w,\n        mainAxisSpacing: 12.h,\n        childAspectRatio: 1.0,\n      ),\n      itemCount: _getGridItemCount(state.formData.selectedImages),\n      itemBuilder: (context, index) {\n        final images = state.formData.selectedImages;\n        \n        if (index == 0 && images.isNotEmpty) {\n          // Primary image slot\n          return _buildPrimaryImageSlot(context, images[0], state);\n        } else if (index > 0 && index <= images.length) {\n          // Regular image slots\n          return _buildImageSlot(context, images[index - 1], index - 1, state);\n        } else {\n          // Empty slots\n          return _buildEmptyImageSlot(context);\n        }\n      },\n    );\n  }\n\n  int _getGridItemCount(List<File> images) {\n    // Show at least 8 slots (including primary and 7 regular slots)\n    return images.length < 7 ? 8 : images.length + 1;\n  }\n\n  Widget _buildPrimaryImageSlot(BuildContext context, File image, RentCreateState state) {\n    return Container(\n      decoration: BoxDecoration(\n        borderRadius: BorderRadius.circular(8.r),\n        border: Border.all(color: AppColors.primary, width: 2),\n      ),\n      child: Stack(\n        children: [\n          ClipRRect(\n            borderRadius: BorderRadius.circular(6.r),\n            child: Image.file(\n              image,\n              width: double.infinity,\n              height: double.infinity,\n              fit: BoxFit.cover,\n            ),\n          ),\n          Positioned(\n            top: 8.w,\n            right: 8.w,\n            child: Container(\n              padding: EdgeInsets.symmetric(horizontal: 8.w, vertical: 4.h),\n              decoration: BoxDecoration(\n                color: AppColors.primary,\n                borderRadius: BorderRadius.circular(12.r),\n              ),\n              child: Text(\n                'Primary',\n                style: AppTextStyles.bodySmall.copyWith(\n                  color: Colors.white,\n                  fontSize: 10.sp,\n                  fontWeight: FontWeight.w600,\n                ),\n              ),\n            ),\n          ),\n          Positioned(\n            bottom: 8.w,\n            right: 8.w,\n            child: GestureDetector(\n              onTap: () {\n                context.read<RentCreateBloc>().add(const RemovePhotoEvent(0));\n              },\n              child: Container(\n                padding: EdgeInsets.all(6.w),\n                decoration: BoxDecoration(\n                  color: Colors.red.withValues(alpha: 0.8),\n                  shape: BoxShape.circle,\n                ),\n                child: Icon(\n                  Icons.close,\n                  color: Colors.white,\n                  size: 16.sp,\n                ),\n              ),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildImageSlot(BuildContext context, File image, int index, RentCreateState state) {\n    final actualIndex = index + 1; // Adjust for primary image\n    \n    return Container(\n      decoration: BoxDecoration(\n        borderRadius: BorderRadius.circular(8.r),\n        border: Border.all(color: Colors.grey[300]!),\n      ),\n      child: Stack(\n        children: [\n          ClipRRect(\n            borderRadius: BorderRadius.circular(6.r),\n            child: Image.file(\n              image,\n              width: double.infinity,\n              height: double.infinity,\n              fit: BoxFit.cover,\n            ),\n          ),\n          Positioned(\n            top: 8.w,\n            right: 8.w,\n            child: Row(\n              children: [\n                if (actualIndex != (state.formData.primaryImageIndex ?? 0))\n                  GestureDetector(\n                    onTap: () {\n                      context.read<RentCreateBloc>().add(SetPrimaryPhotoEvent(actualIndex));\n                    },\n                    child: Container(\n                      padding: EdgeInsets.all(6.w),\n                      decoration: BoxDecoration(\n                        color: AppColors.primary.withValues(alpha: 0.8),\n                        shape: BoxShape.circle,\n                      ),\n                      child: Icon(\n                        Icons.star,\n                        color: Colors.white,\n                        size: 16.sp,\n                      ),\n                    ),\n                  ),\n                SizedBox(width: 8.w),\n                GestureDetector(\n                  onTap: () {\n                    context.read<RentCreateBloc>().add(RemovePhotoEvent(actualIndex));\n                  },\n                  child: Container(\n                    padding: EdgeInsets.all(6.w),\n                    decoration: BoxDecoration(\n                      color: Colors.red.withValues(alpha: 0.8),\n                      shape: BoxShape.circle,\n                    ),\n                    child: Icon(\n                      Icons.close,\n                      color: Colors.white,\n                      size: 16.sp,\n                    ),\n                  ),\n                ),\n              ],\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildEmptyImageSlot(BuildContext context) {\n    return GestureDetector(\n      onTap: () => _showImageSourceDialog(context),\n      child: Container(\n        decoration: BoxDecoration(\n          color: Colors.grey[50],\n          borderRadius: BorderRadius.circular(8.r),\n          border: Border.all(\n            color: Colors.grey[300]!,\n            style: BorderStyle.solid,\n          ),\n        ),\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: [\n            Container(\n              padding: EdgeInsets.all(12.w),\n              decoration: BoxDecoration(\n                color: Colors.grey[200],\n                shape: BoxShape.circle,\n              ),\n              child: Icon(\n                Icons.add_photo_alternate_outlined,\n                color: Colors.grey[400],\n                size: 24.sp,\n              ),\n            ),\n            SizedBox(height: 8.h),\n            Text(\n              'Add Photo',\n              style: AppTextStyles.bodySmall.copyWith(\n                color: Colors.grey[500],\n                fontSize: 12.sp,\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n\n  void _showImageSourceDialog(BuildContext context) {\n    showModalBottomSheet(\n      context: context,\n      shape: RoundedRectangleBorder(\n        borderRadius: BorderRadius.vertical(top: Radius.circular(20.r)),\n      ),\n      builder: (BuildContext context) {\n        return Container(\n          padding: EdgeInsets.all(24.w),\n          child: Column(\n            mainAxisSize: MainAxisSize.min,\n            children: [\n              Text(\n                'Select Image Source',\n                style: AppTextStyles.h4.copyWith(\n                  color: AppColors.textPrimary,\n                  fontSize: 18.sp,\n                ),\n              ),\n              SizedBox(height: 24.h),\n              Row(\n                children: [\n                  Expanded(\n                    child: _buildImageSourceOption(\n                      context: context,\n                      icon: Icons.camera_alt,\n                      title: 'Camera',\n                      onTap: () {\n                        Navigator.pop(context);\n                        _pickImages(context, ImageSource.camera);\n                      },\n                    ),\n                  ),\n                  SizedBox(width: 16.w),\n                  Expanded(\n                    child: _buildImageSourceOption(\n                      context: context,\n                      icon: Icons.photo_library,\n                      title: 'Gallery',\n                      onTap: () {\n                        Navigator.pop(context);\n                        _pickImages(context, ImageSource.gallery);\n                      },\n                    ),\n                  ),\n                ],\n              ),\n              SizedBox(height: 16.h),\n            ],\n          ),\n        );\n      },\n    );\n  }\n\n  Widget _buildImageSourceOption({\n    required BuildContext context,\n    required IconData icon,\n    required String title,\n    required VoidCallback onTap,\n  }) {\n    return GestureDetector(\n      onTap: onTap,\n      child: Container(\n        padding: EdgeInsets.symmetric(vertical: 16.h),\n        decoration: BoxDecoration(\n          color: AppColors.primary.withValues(alpha: 0.1),\n          borderRadius: BorderRadius.circular(12.r),\n          border: Border.all(color: AppColors.primary.withValues(alpha: 0.3)),\n        ),\n        child: Column(\n          children: [\n            Icon(\n              icon,\n              color: AppColors.primary,\n              size: 32.sp,\n            ),\n            SizedBox(height: 8.h),\n            Text(\n              title,\n              style: AppTextStyles.bodyMedium.copyWith(\n                color: AppColors.primary,\n                fontSize: 14.sp,\n                fontWeight: FontWeight.w600,\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n\n  Future<void> _pickImages(BuildContext context, ImageSource source) async {\n    try {\n      final ImagePicker picker = ImagePicker();\n      \n      if (source == ImageSource.gallery) {\n        // Pick multiple images from gallery\n        print(' Opening gallery for multiple images...');\n        final List<XFile> images = await picker.pickMultipleMedia();\n        print(' Selected ${images.length} images');\n        \n        if (images.isNotEmpty && context.mounted) {\n          final files = images.map((xfile) => File(xfile.path)).toList();\n          print(' Adding ${files.length} files to BLoC');\n          context.read<RentCreateBloc>().add(AddPhotosEvent(files));\n        } else if (images.isEmpty) {\n          print(' No images selected from gallery');\n        }\n      } else {\n        // Pick single image from camera\n        print(' Opening camera...');\n        final XFile? image = await picker.pickImage(source: source);\n        print(' Camera image: ${image?.path ?? 'null'}');\n        \n        if (image != null && context.mounted) {\n          final file = File(image.path);\n          print(' Adding camera image to BLoC');\n          context.read<RentCreateBloc>().add(AddPhotosEvent([file]));\n        } else if (image == null) {\n          print(' No image taken from camera');\n        }\n      }\n    } catch (e) {\n      if (context.mounted) {\n        ScaffoldMessenger.of(context).showSnackBar(\n          SnackBar(\n            content: Text('Error picking images: $e'),\n            backgroundColor: Colors.red,\n          ),\n        );\n      }\n    }\n  }\n}\n","baseTimestamp":1758632481763,"deltas":[{"timestamp":1758632598211,"changes":[{"type":"DELETE","lineNumber":397,"oldContent":"        if (images.isNotEmpty && context.mounted) {"},{"type":"DELETE","lineNumber":398,"oldContent":"          final files = images.map((xfile) => File(xfile.path)).toList();"},{"type":"DELETE","lineNumber":399,"oldContent":"          print(' Adding ${files.length} files to BLoC');"},{"type":"DELETE","lineNumber":400,"oldContent":"          context.read<RentCreateBloc>().add(AddPhotosEvent(files));"},{"type":"DELETE","lineNumber":401,"oldContent":"        } else if (images.isEmpty) {"},{"type":"INSERT","lineNumber":397,"content":"        if (images.isNotEmpty) {"},{"type":"INSERT","lineNumber":398,"content":"          print(' Context mounted: ${context.mounted}');"},{"type":"INSERT","lineNumber":399,"content":"          if (context.mounted) {"},{"type":"INSERT","lineNumber":400,"content":"            final files = images.map((xfile) => File(xfile.path)).toList();"},{"type":"INSERT","lineNumber":401,"content":"            print(' Adding ${files.length} files to BLoC');"},{"type":"INSERT","lineNumber":402,"content":"            print(' File paths: ${files.map((f) => f.path).toList()}');"},{"type":"INSERT","lineNumber":403,"content":"            context.read<RentCreateBloc>().add(AddPhotosEvent(files));"},{"type":"INSERT","lineNumber":404,"content":"          } else {"},{"type":"INSERT","lineNumber":405,"content":"            print(' Context not mounted, cannot add images');"},{"type":"INSERT","lineNumber":406,"content":"          }"},{"type":"INSERT","lineNumber":407,"content":"        } else {"}]},{"timestamp":1758632613992,"changes":[{"type":"DELETE","lineNumber":403,"oldContent":"          print(' No images selected from gallery');"},{"type":"DELETE","lineNumber":405,"oldContent":"        }"},{"type":"DELETE","lineNumber":407,"oldContent":"      } else {"},{"type":"DELETE","lineNumber":409,"oldContent":"        // Pick single image from camera"},{"type":"DELETE","lineNumber":411,"oldContent":"        print(' Opening camera...');"},{"type":"INSERT","lineNumber":408,"content":"          print(' No images selected from gallery');"},{"type":"INSERT","lineNumber":409,"content":"        }"},{"type":"INSERT","lineNumber":410,"content":"      } else {"},{"type":"INSERT","lineNumber":411,"content":"        // Pick single image from camera"},{"type":"INSERT","lineNumber":412,"content":"        print(' Opening camera...');"},{"type":"DELETE","lineNumber":416,"oldContent":"        if (image != null && context.mounted) {"},{"type":"DELETE","lineNumber":417,"oldContent":"          final file = File(image.path);"},{"type":"DELETE","lineNumber":418,"oldContent":"          print(' Adding camera image to BLoC');"},{"type":"DELETE","lineNumber":419,"oldContent":"          context.read<RentCreateBloc>().add(AddPhotosEvent([file]));"},{"type":"DELETE","lineNumber":420,"oldContent":"        } else if (image == null) {"},{"type":"INSERT","lineNumber":416,"content":"        if (image != null) {"},{"type":"INSERT","lineNumber":417,"content":"          print(' Context mounted: ${context.mounted}');"},{"type":"INSERT","lineNumber":418,"content":"          if (context.mounted) {"},{"type":"INSERT","lineNumber":419,"content":"            final file = File(image.path);"},{"type":"INSERT","lineNumber":420,"content":"            print(' Adding camera image to BLoC');"},{"type":"INSERT","lineNumber":421,"content":"            print(' Camera file path: ${file.path}');"},{"type":"INSERT","lineNumber":422,"content":"            context.read<RentCreateBloc>().add(AddPhotosEvent([file]));"},{"type":"INSERT","lineNumber":423,"content":"          } else {"},{"type":"INSERT","lineNumber":424,"content":"            print(' Context not mounted, cannot add camera image');"},{"type":"INSERT","lineNumber":425,"content":"          }"},{"type":"INSERT","lineNumber":426,"content":"        } else {"}]},{"timestamp":1758632675391,"changes":[{"type":"INSERT","lineNumber":389,"content":"      // Store BLoC reference before async operation"},{"type":"INSERT","lineNumber":390,"content":"      final bloc = context.read<RentCreateBloc>();"},{"type":"DELETE","lineNumber":398,"oldContent":"          print(' Context mounted: ${context.mounted}');"},{"type":"DELETE","lineNumber":399,"oldContent":"          if (context.mounted) {"},{"type":"DELETE","lineNumber":400,"oldContent":"            final files = images.map((xfile) => File(xfile.path)).toList();"},{"type":"DELETE","lineNumber":401,"oldContent":"            print(' Adding ${files.length} files to BLoC');"},{"type":"DELETE","lineNumber":402,"oldContent":"            print(' File paths: ${files.map((f) => f.path).toList()}');"},{"type":"DELETE","lineNumber":403,"oldContent":"            context.read<RentCreateBloc>().add(AddPhotosEvent(files));"},{"type":"DELETE","lineNumber":404,"oldContent":"          } else {"},{"type":"INSERT","lineNumber":400,"content":"          final files = images.map((xfile) => File(xfile.path)).toList();"},{"type":"INSERT","lineNumber":401,"content":"          print(' Adding ${files.length} files to BLoC');"},{"type":"INSERT","lineNumber":402,"content":"          print(' File paths: ${files.map((f) => f.path).toList()}');"},{"type":"INSERT","lineNumber":403,"content":"          bloc.add(AddPhotosEvent(files));"},{"type":"INSERT","lineNumber":404,"content":"        } else {"},{"type":"DELETE","lineNumber":406,"oldContent":"            print(' Context not mounted, cannot add images');"},{"type":"DELETE","lineNumber":409,"oldContent":"          }"},{"type":"DELETE","lineNumber":412,"oldContent":"        } else {"},{"type":"DELETE","lineNumber":417,"oldContent":"          print(' Context mounted: ${context.mounted}');"},{"type":"DELETE","lineNumber":418,"oldContent":"          if (context.mounted) {"},{"type":"DELETE","lineNumber":419,"oldContent":"            final file = File(image.path);"},{"type":"DELETE","lineNumber":420,"oldContent":"            print(' Adding camera image to BLoC');"},{"type":"DELETE","lineNumber":421,"oldContent":"            print(' Camera file path: ${file.path}');"},{"type":"INSERT","lineNumber":414,"content":"          final file = File(image.path);"},{"type":"INSERT","lineNumber":415,"content":"          print(' Adding camera image to BLoC');"},{"type":"INSERT","lineNumber":416,"content":"          print(' Camera file path: ${file.path}');"},{"type":"INSERT","lineNumber":417,"content":"          bloc.add(AddPhotosEvent([file]));"},{"type":"INSERT","lineNumber":418,"content":"        } else {"},{"type":"DELETE","lineNumber":423,"oldContent":"            context.read<RentCreateBloc>().add(AddPhotosEvent([file]));"},{"type":"DELETE","lineNumber":425,"oldContent":"          } else {"},{"type":"DELETE","lineNumber":427,"oldContent":"            print(' Context not mounted, cannot add camera image');"},{"type":"DELETE","lineNumber":429,"oldContent":"          }"},{"type":"DELETE","lineNumber":431,"oldContent":"        } else {"}]},{"timestamp":1758633351170,"changes":[{"type":"INSERT","lineNumber":296,"content":"    // Capture the parent context that has access to the RentCreateBloc"},{"type":"INSERT","lineNumber":297,"content":"    final parentContext = context;"},{"type":"INSERT","lineNumber":298,"content":"    "},{"type":"DELETE","lineNumber":301,"oldContent":"      builder: (BuildContext context) {"},{"type":"INSERT","lineNumber":304,"content":"      builder: (BuildContext bottomSheetContext) {"},{"type":"DELETE","lineNumber":319,"oldContent":"                      context: context,"},{"type":"INSERT","lineNumber":322,"content":"                      context: bottomSheetContext,"},{"type":"DELETE","lineNumber":323,"oldContent":"                        Navigator.pop(context);"},{"type":"DELETE","lineNumber":324,"oldContent":"                        _pickImages(context, ImageSource.camera);"},{"type":"INSERT","lineNumber":326,"content":"                        Navigator.pop(bottomSheetContext);"},{"type":"INSERT","lineNumber":327,"content":"                        _pickImages(parentContext, ImageSource.camera); // Use parent context"},{"type":"DELETE","lineNumber":331,"oldContent":"                      context: context,"},{"type":"INSERT","lineNumber":334,"content":"                      context: bottomSheetContext,"},{"type":"DELETE","lineNumber":335,"oldContent":"                        Navigator.pop(context);"},{"type":"DELETE","lineNumber":336,"oldContent":"                        _pickImages(context, ImageSource.gallery);"},{"type":"INSERT","lineNumber":338,"content":"                        Navigator.pop(bottomSheetContext);"},{"type":"INSERT","lineNumber":339,"content":"                        _pickImages(parentContext, ImageSource.gallery); // Use parent context"},{"type":"DELETE","lineNumber":390,"oldContent":"      final ImagePicker picker = ImagePicker();"},{"type":"INSERT","lineNumber":394,"content":"      final ImagePicker picker = ImagePicker();"},{"type":"DELETE","lineNumber":411,"oldContent":"          final file = File(image.path);"},{"type":"DELETE","lineNumber":413,"oldContent":"          print(' Adding camera image to BLoC');"},{"type":"DELETE","lineNumber":415,"oldContent":"          print(' Camera file path: ${file.path}');"},{"type":"INSERT","lineNumber":417,"content":"          final file = File(image.path);"},{"type":"INSERT","lineNumber":418,"content":"          print(' Adding camera image to BLoC');"},{"type":"INSERT","lineNumber":419,"content":"          print(' Camera file path: ${file.path}');"}]},{"timestamp":1758633402159,"changes":[{"type":"DELETE","lineNumber":297,"oldContent":"    showModalBottomSheet("},{"type":"MODIFY","lineNumber":299,"content":"    showModalBottomSheet(","oldContent":"      context: context,"},{"type":"INSERT","lineNumber":300,"content":"      context: context,"},{"type":"INSERT","lineNumber":304,"content":"      builder: (BuildContext bottomSheetContext) {"},{"type":"DELETE","lineNumber":306,"oldContent":"      builder: (BuildContext bottomSheetContext) {"},{"type":"INSERT","lineNumber":322,"content":"                      context: bottomSheetContext,"},{"type":"DELETE","lineNumber":324,"oldContent":"                      context: bottomSheetContext,"},{"type":"DELETE","lineNumber":326,"oldContent":"                      },"},{"type":"MODIFY","lineNumber":328,"content":"                      },","oldContent":"                    ),"},{"type":"INSERT","lineNumber":329,"content":"                    ),"},{"type":"INSERT","lineNumber":334,"content":"                      context: bottomSheetContext,"},{"type":"DELETE","lineNumber":336,"oldContent":"                      context: bottomSheetContext,"},{"type":"DELETE","lineNumber":338,"oldContent":"                      },"},{"type":"MODIFY","lineNumber":340,"content":"                      },","oldContent":"                    ),"},{"type":"INSERT","lineNumber":341,"content":"                    ),"},{"type":"INSERT","lineNumber":394,"content":"      final ImagePicker picker = ImagePicker();"},{"type":"DELETE","lineNumber":396,"oldContent":"      final ImagePicker picker = ImagePicker();"},{"type":"DELETE","lineNumber":418,"oldContent":"          bloc.add(AddPhotosEvent([file]));"},{"type":"MODIFY","lineNumber":420,"content":"          bloc.add(AddPhotosEvent([file]));","oldContent":"        } else {"},{"type":"INSERT","lineNumber":421,"content":"        } else {"}]},{"timestamp":1758633530495,"changes":[{"type":"INSERT","lineNumber":298,"content":"    "},{"type":"DELETE","lineNumber":300,"oldContent":"    "},{"type":"INSERT","lineNumber":327,"content":"                        _pickImages(parentContext, ImageSource.camera); // Use parent context"},{"type":"DELETE","lineNumber":329,"oldContent":"                        _pickImages(parentContext, ImageSource.camera); // Use parent context"},{"type":"INSERT","lineNumber":339,"content":"                        _pickImages(parentContext, ImageSource.gallery); // Use parent context"},{"type":"DELETE","lineNumber":341,"oldContent":"                        _pickImages(parentContext, ImageSource.gallery); // Use parent context"},{"type":"INSERT","lineNumber":407,"content":"          "},{"type":"INSERT","lineNumber":408,"content":"          // Automatically upload images after selection"},{"type":"INSERT","lineNumber":409,"content":"          print(' Triggering image upload...');"},{"type":"INSERT","lineNumber":410,"content":"          bloc.add(const UploadImagesEvent());"},{"type":"INSERT","lineNumber":423,"content":"          print(' Camera file path: ${file.path}');"},{"type":"DELETE","lineNumber":421,"oldContent":"          print(' Camera file path: ${file.path}');"}]},{"timestamp":1758633545928,"changes":[{"type":"DELETE","lineNumber":408,"oldContent":"        } else {"},{"type":"DELETE","lineNumber":410,"oldContent":"          print(' No images selected from gallery');"},{"type":"DELETE","lineNumber":412,"oldContent":"        }"},{"type":"INSERT","lineNumber":411,"content":"        } else {"},{"type":"INSERT","lineNumber":412,"content":"          print(' No images selected from gallery');"},{"type":"INSERT","lineNumber":413,"content":"        }"},{"type":"INSERT","lineNumber":423,"content":"          print(' Camera file path: ${file.path}');"},{"type":"INSERT","lineNumber":425,"content":"          "},{"type":"INSERT","lineNumber":426,"content":"          // Automatically upload image after selection"},{"type":"INSERT","lineNumber":427,"content":"          print(' Triggering image upload...');"},{"type":"INSERT","lineNumber":428,"content":"          bloc.add(const UploadImagesEvent());"},{"type":"DELETE","lineNumber":426,"oldContent":"          print(' Camera file path: ${file.path}');"}]},{"timestamp":1758633634018,"changes":[{"type":"DELETE","lineNumber":409,"oldContent":"        } else {"},{"type":"INSERT","lineNumber":410,"content":"          bloc.add(const UploadImagesEvent());"},{"type":"INSERT","lineNumber":411,"content":"        } else {"},{"type":"DELETE","lineNumber":413,"oldContent":"          bloc.add(const UploadImagesEvent());"},{"type":"DELETE","lineNumber":425,"oldContent":"        } else {"},{"type":"DELETE","lineNumber":427,"oldContent":"          print(' No image taken from camera');"},{"type":"DELETE","lineNumber":430,"oldContent":"        }"},{"type":"INSERT","lineNumber":429,"content":"        } else {"},{"type":"INSERT","lineNumber":430,"content":"          print(' No image taken from camera');"},{"type":"INSERT","lineNumber":431,"content":"        }"}]}]}}}